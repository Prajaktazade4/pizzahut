/*! For license information please see app.bundle-7fb783bf654b41dd12b1.js.LICENSE.txt */
"use strict";(self.webpackChunkawesomescreenshot_website=self.webpackChunkawesomescreenshot_website||[]).push([[143],{42738:()=>{},76751:()=>{},91938:()=>{},87057:()=>{},70390:()=>{},14413:(e,t,n)=>{n.d(t,{IH:()=>T,PU:()=>_,R7:()=>N,Tb:()=>L,i:()=>E,kk:()=>k,sd:()=>A,zH:()=>C});n(91324);var r=n(45777),i=n(67294),o=n(85907),a=n(63077),c=n(94184),s=n.n(c),l=n(85893);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===u(o)?o:String(o)),r)}var i,o}function h(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var x=["rgba(255, 0, 0,1)","rgba(255, 92, 0, 1)","rgba(250, 255, 0, 1)","rgba(36, 255, 0, 1)","rgba(0, 255, 240, 1)","rgba(0, 163, 255, 1)","rgba(144, 75, 255, 1)","rgba(255, 0, 229, 1)","rgba(255, 255, 255, 1)","rgba(0, 0, 0, 1)","rgba(244, 219, 121, 1)","rgba(248, 202, 65, 1)","rgba(246, 130, 61, 1)","rgba(226, 90, 59, 1)","rgba(242, 155, 126, 1)","rgba(217, 72, 70, 1)","rgba(160, 67, 72, 1)","rgba(228, 123, 135, 1)","rgba(198, 57, 69, 1)","rgba(198, 69, 101, 1)","rgba(165, 65, 90, 1)","rgba(151, 55, 143, 1)","rgba(112, 70, 140, 1)","rgba(79, 74, 142, 1)","rgba(94, 69, 128, 1)","rgba(67, 84, 104, 1)","rgba(34, 126, 169, 1)","rgba(59, 77, 105, 1)","rgba(47, 86, 165, 1)","rgba(25, 104, 173, 1)","rgba(72, 86, 145, 1)","rgba(11, 123, 185, 1)","rgba(74, 176, 209, 1)","rgba(22, 140, 152, 1)","rgba(22, 161, 134, 1)","rgba(33, 143, 106, 1)","rgba(45, 98, 90, 1)","rgba(80, 111, 80, 1)","rgba(93, 150, 73, 1)","rgba(120, 120, 71, 1)","transparent"],S=["Times New Roman","Arial","Craft Girls","OpenSans","Roboto","Montserrat","Limelight","Lobster","Anton","Chewy","Frijole","Spirax","Dancing Script","Changa One","Griffy"],I=[2,4,6,8,16],O=[6,8,16,32,48],E=function(e){v(n,e);var t=g(n);function n(e){return m(this,n),t.call(this,e)}return h(n,[{key:"shouldComponentUpdate",value:function(e){return e.disabled!==this.props.disabled||this.props.allowAdvancedTool!==e.allowAdvancedTool}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.action,i=e.title,o=e.handleClick,a=s()("tool-btn single-btn",{disabled:t}),c=s()(this.props.allowAdvancedTool?"":"pro");return(0,l.jsx)(r.Z,{title:i,children:(0,l.jsx)("div",{className:a,"data-action":n,onClick:o.bind(this,"action",{actionType:n}),children:(0,l.jsx)("b",{className:c})})})}}]),n}(i.Component),N=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={haveClickShape:!1},r.clickShape=r.clickShape.bind(j(r)),r.visibleChange=r.visibleChange.bind(j(r)),r}return h(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.current!==this.props.current||this.props.allowAdvancedTool!==e.allowAdvancedTool||this.props.selectShape!==e.selectShape||this.state.haveClickShape!==t.haveClickShape}},{key:"clickShape",value:function(){this.setState({haveClickShape:!1}),this.props.handleClick("shape",{shape:this.props.shape,shapeKey:this.props.shapeGroup})}},{key:"visibleChange",value:function(e){this.setState({haveClickShape:e})}},{key:"render",value:function(){var e=this.props,t=e.current,n=e.shape,i=e.title,o=e.active,a=e.selectShape,c=!1;a?a===n&&(c=!0):c=n===t||o;var u=s()("tool-btn single-btn "+n,{active:c}),d=s()(this.props.allowAdvancedTool?"":"pro");return(0,l.jsx)(r.Z,{title:i,placement:"bottom",visible:this.state.haveClickShape,mouseEnterDelay:0,mouseLeaveDelay:0,onVisibleChange:this.visibleChange,children:(0,l.jsx)("div",{className:u,"data-shape":n,onClick:this.clickShape,children:(0,l.jsx)("b",{className:d})})})}}]),n}(i.Component);function D(e){var t,n,r,o=e.current,a=e.defaultShape,c=e.handleClick,u=e.btns,d=e.allowAdvancedTool,f=e.selectShape,m=e.shapeGroup;(0,i.useEffect)((function(){}),[f]);return function(){var i;i=!1,u&&u.forEach((function(e){f?e.shape==f&&(i=!0,t=e.title,n=e.shape):(e.shape===o&&(i=!0),e.shape===a&&(t=e.title,n=e.shape))})),f&&!i&&u.forEach((function(e){e.shape===a&&(t=e.title,n=e.shape)})),r=i;var p=s()("menu",{active:r});return(0,l.jsxs)("div",{className:"subMenu",children:[(0,l.jsx)(N,{title:t,shape:n,active:r,selectShape:f||"",current:o,shapeGroup:m,handleClick:c,onToolBar:!0,allowAdvancedTool:d}),(0,l.jsx)("div",{className:p,children:e.children()})]})}()}var A=i.memo(D,(function(e,t){return t.currentShapeKey!==e.shapeGroup&&e.currentShapeKey!==e.shapeGroup&&e.allowAdvancedTool===t.allowAdvancedTool&&e.currentShape===t.currentShape&&e.defaultShape!==t.selectShape})),C=i.memo(P,(function(e,t){return e.currentColor===t.currentColor}));function P(e){var t=this,n=e.recentColors,c=e.currentColor,s=e.stroke,u=e.handleColorClick,f=e.shapeKey,m=d((0,i.useState)(!0),2),p=m[0],h=m[1],v=d((0,i.useState)(c),2),y=v[0],g=v[1];function b(e){return"rgb(239, 239, 239)"===e||"rgb(243, 243, 243)"===e||"rgb(255, 255, 255)"===e||"rgb(252, 229, 205)"===e||"rgb(255, 242, 204)"===e?"#bdc1c6":"transparent"}function j(e,t){u(e,!!t),g(e)}return(0,i.useEffect)((function(){c!==y&&g(c)}),[c]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"color-header",children:[(0,l.jsxs)("div",{className:"color-values",children:[(0,l.jsx)("div",{className:"color-icon","data-color":y,style:{backgroundColor:y}}),(0,l.jsx)(o.ZE,{color:(0,a.jg)(y),onChange:j,onClick:function(e){e.target.select()},alpha:!0,prefixed:!0})]}),(0,l.jsx)(r.Z,{title:"More Colors",placement:"right",children:(0,l.jsx)("div",{className:"change-action",style:{backgroundColor:p?"":"#26272D"},onClick:function(){h(!p)}.bind(this),children:(0,l.jsx)("b",{})})})]}),(0,l.jsx)("div",{className:"color-content",children:p?x.map((function(e,n){return"transparent"!==e?(0,l.jsx)("div",{className:"color-item","data-color":e,title:e,style:{backgroundColor:e,borderColor:b(e)},onClick:j.bind(t,e,"item")},f+e+n):s?(0,l.jsx)("div",{className:"color-item transparent","data-color":"transparent",title:"transparent",style:{backgroundColor:"#666666",borderColor:b("transparent")},onClick:j.bind(t,"transparent","item")},"transparent"+f):void 0})):(0,l.jsx)(o.gW,{color:(0,a.jg)(y),onChange:j})}),(0,l.jsxs)("div",{className:"color-foot",children:[(0,l.jsx)("span",{children:"Recent Colors"}),(0,l.jsx)("div",{className:"recent-colors",children:n.map((function(e,n){return(0,l.jsx)("div",{className:"color-item recent-item","data-color":e,title:e,style:{backgroundColor:e,borderColor:b(e)},onClick:j.bind(t,e,"item")},e+f+n)}))})]})]})}function k(e){var t=this,n=e.style,o=e.selectShape,a=e.shapeKey,c=e.clickItem,u=d((0,i.useState)(!1),2),f=u[0],m=u[1],p=!1;if(n)var h=n.width;"highlight"!==a||n&&n.width||(h=16);var v="highlight"===a;o&&(h=o.penWidth,"highlight"===o.shapeName&&(v=!0));var y=h;function g(e){m((!e||!p)&&e)}return(0,l.jsx)(_,{className:"tool-pen-width multi-btn",children:function(e,n){var i=s()("panel",{active:e.isExpand});e.isExpand&&m(!1),p=e.isExpand;var o=function(e){n(),y=e,c("action",{actionType:"changePenWidth",value:e,shapeKey:a})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{title:"Stroke width",placement:"bottom",visible:f,onVisibleChange:g,children:(0,l.jsxs)("div",{className:"current",id:"tool-current-width","data-width":y||h,children:[(0,l.jsxs)("div",{className:"tool-current-width "+(v?"highlight":""),children:[(0,l.jsx)("span",{children:y||h}),(0,l.jsx)("b",{})]}),(0,l.jsx)("div",{className:"multi-btn-arrow"})]})}),(0,l.jsx)("div",{className:i,children:v?O.map((function(e,n){return(0,l.jsxs)("div",{className:"pen-width-item "+(e===y?"checked":""),"data-width":n+1,onClick:o.bind(t,e),children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("b",{})]},e)})):I.map((function(e,n){return(0,l.jsxs)("div",{className:"pen-width-item "+(e===y?"checked":""),"data-width":n+1,onClick:o.bind(t,e),children:[(0,l.jsx)("span",{children:e}),(0,l.jsx)("b",{})]},e)}))})]})}})}function T(e){var t=this,n=e.style,o=e.selectShape,a=e.shapeKey,c=e.clickItem,u=d((0,i.useState)(!1),2),f=u[0],m=u[1],p=!1,h=n.fontFamily;o&&o.fontName&&(h=o.fontName);var v=h;function y(e){m((!e||!p)&&e)}return(0,l.jsx)(_,{className:"tool-font-family multi-btn",children:function(e,n){var i=s()("panel",{active:e.isExpand});p=e.isExpand,e.isExpand&&m(!1);var o=function(e){n(),v=e,c("action",{actionType:"changeFontFamily",value:e,shapeKey:a})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{title:"Font",placement:"bottom",visible:f,onVisibleChange:y,children:(0,l.jsxs)("div",{className:"tool-current-font-family btn-border current",id:"tool-current-font-family","data-ff":v||h,children:[(0,l.jsx)("span",{children:v||h}),(0,l.jsx)("div",{className:"btn-down-arrow"})]})}),(0,l.jsx)("div",{className:i,children:S.map((function(e){return(0,l.jsx)("div",{className:"font-f-item "+(v===e?"checked":""),"data-ff":e,onClick:o.bind(t,e),children:e},e)}))})]})}})}var L=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={isExpand:!1},r.toggle=r.toggle.bind(j(r)),r.clickView=r.clickView.bind(j(r)),r.elementContains=r.elementContains.bind(j(r)),r.el=(0,i.createRef)(),r}return h(n,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.clickView)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.clickView)}},{key:"elementContains",value:function(e,t){return e!==t&&e.contains(t)||e===t}},{key:"shouldComponentUpdate",value:function(e,t){return!(t.isExpand===this.state.isExpand&&e.allowAdvancedTool===this.props.allowAdvancedTool&&!t.isExpand&&e.color===this.props.color)}},{key:"clickView",value:function(e){var t=this.el.current.querySelector("."+this.props.checkView);this.elementContains(t,e.target)||(this.elementContains(this.el.current,e.target)?(this.toggle(),this.props.handleClick&&this.props.handleClick("action",{actionType:"ToolColorSelect"})):this.state.isExpand&&this.setState({isExpand:!this.state.isExpand}))}},{key:"toggle",value:function(){this.setState({isExpand:!this.state.isExpand})}},{key:"render",value:function(){var e=s()("tool-select "+(this.state.isExpand?"expand":""),this.props.className);return(0,l.jsx)("div",{className:e,tabIndex:"0",ref:this.el,children:this.props.children(this.state,this.toggle)})}}]),n}(i.Component),_=function(e){v(n,e);var t=g(n);function n(e){var r;return m(this,n),(r=t.call(this,e)).state={isExpand:!1},r.toggle=r.toggle.bind(j(r)),r.el=(0,i.createRef)(),r}return h(n,[{key:"shouldComponentUpdate",value:function(){return!0}},{key:"toggle",value:function(){var e=this;this.state.isExpand&&this.el.current.blur(),this.setState({isExpand:!this.state.isExpand},(function(){e.props.onPopupShown&&e.props.onPopupShown(e.state.isExpand)}))}},{key:"render",value:function(){var e=s()("tool-select "+(this.state.isExpand?"expand":""),this.props.className);return(0,l.jsx)("div",{className:e,tabIndex:"0",onFocus:this.toggle,onBlur:this.toggle,ref:this.el,children:this.props.children(this.state,this.toggle)})}}]),n}(i.Component)},63395:(e,t,n)=>{n.d(t,{Z:()=>g});n(47386);var r=n(48889),i=(n(85624),n(71577));const o=n.p+"images/f9b939c51a78a590b2ba.png",a=n.p+"images/534a9fb4242d793c9941.png",c=n.p+"images/68f3e6b1a633df7ae925.png",s=n.p+"images/5d9b6fa5d20d4df7e53f.png";var l=n(31302),u=n(73935),d=n(67294),f=n(67618);const m=function(e){var t=e.type;return(0,d.useEffect)((function(){(0,f.I1)(t,{event_category:"upgrade modal show"})}),[]),null};var p=n(27484),h=n.n(p),v=n(85893),y=["callout","list","image","insertImage"];function g(e){var t="workspace"===e.type?"Go to workspace":(0,v.jsx)(v.Fragment,{children:"Upgrade now"});return(0,v.jsx)(r.Z,{visible:e.visible,onCancel:e.onCancel,footer:null,width:436,getContainer:!1,maskClosable:!1,wrapClassName:"upgrade-modal ".concat("video-record-50"===e.type?"limit-alert":""),destroyOnClose:!0,maskStyle:"video-record-50"===e.type?{position:"absolute"}:"",centered:!0,closable:!e.unClosable,closeIcon:(0,v.jsx)(l.T,{style:{fontSize:"12px"}}),children:(0,v.jsxs)("div",{className:"upgrade-panel",children:[(0,v.jsx)(m,{type:e.deadline?"expireVisit":e.type}),(0,v.jsx)("div",{className:"crown",children:(0,v.jsx)(l.C,{})}),(0,v.jsx)("div",{className:"title",children:"5limit"===e.type?"Your free trial has ended":"workspace"===e.type?"Workspace Limit Reached":"download-duration"===e.type||"edit-duration"===e.type?"Get more with professional plan":"trash-restore"===e.type?"Item Limit Reached":"video-record-50"===e.type?"Limited access":"Item Limit Reached"}),(0,v.jsx)("p",{children:-1!==y.indexOf(e.type)?"This is a basic plan feature. Please upgrade to unlock it.":"dropbox"===e.type?"Upgrade to premium plans to save to Dropbox.":"box"===e.type?"Upgrade to premium plans to save to Box.":"team"===e.type?"Upgrade to team plan to unlock the feature.":"project"===e.type?"Upgrade to premium plans to get unlimited folders.":"uploadImage"===e.type?"Upgrade to premium plans to host unlimited images.":"uploadVideo"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to host unlimited videos."]}):"recordResolution"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to unlock the high resolution recording feature.",(0,v.jsx)("br",{}),"High resolution video takes lots of disk space, so you need to upgrade to use this feature."]}):"video-record-50"===e.type?e.deadline?(0,v.jsxs)(v.Fragment,{children:["Your premium plan has expired. You will not be able to access your videos after ",(0,v.jsx)("strong",{children:h().unix(e.deadline).format("MMM DD, YYYY")}),". Upgrade to the Professional plan for unlimited access."]}):(0,v.jsx)(v.Fragment,{children:"You have reached a limit for sharing and downloading your video. Upgrade to Professional plan for unlimited access."}):"image-view"===e.type?(0,v.jsx)(v.Fragment,{children:"This image is not accessible because you have reached the limit on image access. Please upgrade your plan for unlimited access."}):"image-alert"===e.type||"duplicate"===e.type?(0,v.jsxs)(v.Fragment,{children:["You have reached the limit on image. Please upgrade to"," ",(0,v.jsx)("b",{children:"Professional plan"})," for unlimited images."]}):"video-alert"===e.type?(0,v.jsxs)(v.Fragment,{children:["You have reached the limit on video. Please upgrade to"," ",(0,v.jsx)("b",{children:"Professional plan"})," for unlimited recording."]}):"download"===e.type||"editor"===e.type?(0,v.jsxs)(v.Fragment,{children:["Please upgrade to ",(0,v.jsx)("b",{children:"Professional plan"})," to unlock this feature."]}):"5limit"===e.type?(0,v.jsx)(v.Fragment,{children:"Your video can be up to 5 minutes long. To access unlimited video length, please upgrade your account to Professional."}):"video-editor"===e.type?(0,v.jsxs)(v.Fragment,{children:["Please upgrade to ",(0,v.jsx)("b",{children:"Professional plan"})," to unlock this feature."]}):"workspace"===e.type?"This workspace has reached the limit. Pleace upgrade the workspace.":"download-duration"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to download videos longer than one hour in MP4."]}):"edit-duration"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to edit videos longer than one hour."]}):"trash-restore"===e.type?(0,v.jsxs)(v.Fragment,{children:["Upgrade to ",(0,v.jsx)("b",{children:"professional plan"})," to unlock unlimited videos and images."]}):"Upgrade to Professional to unlock the feature."}),function(){switch(e.type){case"callout":return(0,v.jsx)("img",{src:a,alt:""});case"list":return(0,v.jsx)("img",{src:c,alt:""});case"image":return(0,v.jsx)("img",{src:o,alt:""});case"insertImage":return(0,v.jsx)("img",{src:s,alt:""});default:return""}}(),(0,v.jsx)(i.Z,{className:"up-btn",size:"large",type:"primary",onClick:function(){var t=e.deadline?"expireVisit":e.type;window.open("https://www.awesomescreenshot.com/pricing?from="+t)},icon:(0,v.jsx)(l.C,{}),children:t}),"download-duration"===e.type&&(0,v.jsxs)("div",{className:"more-btn",children:[(0,v.jsx)("a",{onClick:e.openDownloadWebmModal,children:"Download in webm"})," ","instead"]})]})})}g.show=function(e){var t=!0,n=document.createDocumentFragment();function r(){t=!1,u.render((0,v.jsx)(g,{type:e,visible:t,onCancel:r}),n)}setTimeout((function(){u.render((0,v.jsx)(g,{type:e,visible:t,onCancel:r}),n)}))}},13449:(e,t,n)=>{n.d(t,{Z:()=>en});n(47386);var r=n(48889),i=n(67294),o=(n(85624),n(71577)),a=(n(28763),n(34041)),c=n(1646),s=n.n(c),l=n(6700),u=n(94184),d=n.n(u),f=n(63077),m=n(59102),p=n(17646),h=(n(15285),n(71257)),v=(n(16154),n(47933)),y=n(85893);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=a.Z.Option,w=a.Z.OptGroup,x=v.ZP.Group,S={};const I=function(e){var t=e.currentAccount,n=g((0,i.useState)([]),2),r=n[0],c=n[1],s=g((0,i.useState)(!1),2),l=s[0],u=s[1],d=g((0,i.useState)([]),2),f=d[0],b=d[1];(0,i.useEffect)((function(){u(!0),Promise.all([(0,m.VY)({accountID:t.id,what:"channel"}),(0,m.VY)({accountID:t.id,what:"member"})]).then((function(e){var t=e[0].items.concat(e[1].items);c(t.filter((function(e){return e.added}))),b(t.filter((function(e){return!e.added}))),S={},t.forEach((function(e){S[e.id]=e})),u(!1)})).catch((function(){u(!1)}))}),[t.id]);var I=p.xR.slack;return(0,y.jsxs)(h.Z,{onFinish:function(n){(0,m.HK)(t.id,S[n.channel].type,n.channel,S[n.channel].name,n.privacy,S[n.channel].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:I.targetName}),(0,y.jsx)(h.Z.Item,{name:"channel",rules:[{required:!0,message:"Please choose a channel or member"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:I.placeHolder,disabled:l,loading:r.length+f.length===0||l,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[r.length&&(0,y.jsx)(w,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(j,{value:e.id,name:e.name,disabled:!0,children:p.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(w,{label:"Available",children:f.map((function(e){return(0,y.jsx)(j,{value:e.id,name:e.name,children:p.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(h.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(x,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(o.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=a.Z.Option,D=a.Z.OptGroup,A=v.ZP.Group,C={};const P=function(e){var t=e.currentAccount,n=O((0,i.useState)([]),2),r=n[0],c=n[1],s=O((0,i.useState)([]),2),l=s[0],u=s[1];(0,i.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"board"}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),u(t.filter((function(e){return!e.added}))),C={},t.forEach((function(e){C[e.id]=e}))}))}),[]);var d=p.xR.trello;return(0,y.jsxs)(h.Z,{onFinish:function(n){(0,m.HK)(t.id,C[n.channel].type,n.channel,C[n.channel].name,n.privacy,C[n.channel].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:d.targetName}),(0,y.jsx)(h.Z.Item,{name:"channel",rules:[{required:!0,message:"Please choose a board"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:d.placeHolder,loading:r.length+l.length===0,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[r.length&&(0,y.jsx)(D,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(N,{value:e.id,name:e.name,disabled:!0,children:p.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(D,{label:"Available",children:l.map((function(e){return(0,y.jsx)(N,{value:e.id,name:e.name,children:p.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(h.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(A,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(o.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=a.Z.Option,_=a.Z.OptGroup,R=v.ZP.Group,M={},Z={};const F=function(e){var t=e.currentAccount,n=k((0,i.useState)([]),2),r=n[0],c=n[1],s=k((0,i.useState)([]),2),l=s[0],u=s[1],d=k((0,i.useState)([]),2),f=d[0],g=d[1];(0,i.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"workspace"}).then((function(e){var t=e.items;c(t),j(t[0].id),Z={},t.forEach((function(e){Z[e.id]=e}))}))}),[]);var b=p.xR.asana;function j(e){u([]),g([]),(0,m.VY)({accountID:t.id,what:"project",workspaceID:e}).then((function(e){var t=e.items;u(t.filter((function(e){return e.added}))),g(t.filter((function(e){return!e.added}))),M={},t.forEach((function(e){M[e.id]=e}))}))}return(0,y.jsxs)(h.Z,{onFinish:function(n){(0,m.HK)(t.id,"project",n.project,M[n.project].name,n.privacy,M[n.project].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:b.targetName1}),(0,y.jsx)(h.Z.Item,{name:"workspace",rules:[{required:!0,message:"Please choose a workspace"}],children:(0,y.jsx)(a.Z,{size:"large",placeholder:b.placeHolder1,loading:0===r.length,onChange:function(e){j(e)},children:r.map((function(e){return(0,y.jsx)(L,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:b.targetName2}),(0,y.jsx)(h.Z.Item,{name:"project",rules:[{required:!0,message:"Please choose a project"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:b.placeHolder2,loading:l.length+f.length===0,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[l.length&&(0,y.jsx)(_,{label:"Already Added",children:l.map((function(e){return(0,y.jsx)(L,{value:e.id,name:e.name,disabled:!0,children:p.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(_,{label:"Available",children:f.map((function(e){return(0,y.jsx)(L,{value:e.id,name:e.name,children:p.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(h.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(R,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(o.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=a.Z.Option,B=a.Z.OptGroup,V=v.ZP.Group,z={};const W=function(e){var t=e.currentAccount,n=U((0,i.useState)([]),2),r=n[0],c=n[1],s=U((0,i.useState)([]),2),l=s[0],u=s[1],d=function(e){(0,m.VY)({accountID:t.id,what:"folder",query:e}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),u(t.filter((function(e){return!e.added}))),z={},t.forEach((function(e){z[e.id]=e}))}))};(0,i.useEffect)((function(){d()}),[]);var f=p.xR.googleDrive;return(0,y.jsxs)(h.Z,{onFinish:function(n){(0,m.HK)(t.id,z[n.folder].type,n.folder,z[n.folder].name,n.privacy,z[n.folder].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:f.targetName}),(0,y.jsxs)(h.Z.Item,{name:"folder",rules:[{required:!0,message:"choose a folder"}],children:[(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:f.placeHolder,loading:r.length+l.length===0,onSearch:function(e){d(e)},filterOption:!1,children:[r.length&&(0,y.jsx)(B,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(G,{value:e.id,disabled:!0,children:p.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(B,{label:"Available",children:l.map((function(e){return(0,y.jsx)(G,{value:e.id,children:p.BT[e.type]+e.name},e.id)}))})]}),(0,y.jsx)("div",{className:"tip",children:"Only 10 recent folders are listed. Type and search for other folders."})]}),(0,y.jsx)(h.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(V,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(o.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Q=a.Z.Option,q=a.Z.OptGroup,J=v.ZP.Group,X={};const $=function(e){var t=e.currentAccount,n=K((0,i.useState)([]),2),r=n[0],c=n[1],s=K((0,i.useState)([]),2),l=s[0],u=s[1];(0,i.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"repo"}).then((function(e){var t=e.items;c(t.filter((function(e){return e.added}))),u(t.filter((function(e){return!e.added}))),X={},t.forEach((function(e){X[e.id]=e}))}))}),[]);var d=p.xR.github;return(0,y.jsxs)(h.Z,{onFinish:function(n){(0,m.HK)(t.id,X[n.repo].type,n.repo,X[n.repo].name,n.privacy,X[n.repo].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:d.targetName}),(0,y.jsx)(h.Z.Item,{name:"repo",rules:[{required:!0,message:"Please choose a channel or member"}],children:(0,y.jsxs)(a.Z,{size:"large",placeholder:d.placeHolder,loading:r.length+l.length===0,showSearch:!0,onSearch:function(e){},filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[r.length&&(0,y.jsx)(q,{label:"Already Added",children:r.map((function(e){return(0,y.jsx)(Q,{value:e.id,name:e.info.owner+e.name,disabled:!0,children:p.BT[e.type]+e.info.owner+"/"+e.name},e.id)}))}),(0,y.jsx)(q,{label:"Available",children:l.map((function(e){return(0,y.jsx)(Q,{value:e.id,name:e.info.owner+e.name,children:p.BT[e.type]+e.info.owner+"/"+e.name},e.id)}))})]})}),(0,y.jsx)(h.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(J,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(o.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=a.Z.Option,re=a.Z.OptGroup,ie=v.ZP.Group,oe={},ae={};const ce=function(e){var t=e.currentAccount,n=ee((0,i.useState)([]),2),r=n[0],c=n[1],s=ee((0,i.useState)([]),2),l=s[0],u=s[1],d=ee((0,i.useState)([]),2),f=d[0],g=d[1];(0,i.useEffect)((function(){(0,m.VY)({accountID:t.id,what:"cloud"}).then((function(e){var t=e.items;c(t),j(t[0].id,t[0].name),ae={},t.forEach((function(e){ae[e.id]=e}))}))}),[]);var b=p.xR.jira;function j(e,n){u([]),g([]),(0,m.VY)({accountID:t.id,what:"project",cloudID:e,cloudName:n}).then((function(e){var t=e.items;u(t.filter((function(e){return e.added}))),g(t.filter((function(e){return!e.added}))),oe={},t.forEach((function(e){oe[e.id]=e}))}))}return(0,y.jsxs)(h.Z,{onFinish:function(n){(0,m.HK)(t.id,"project",n.project,oe[n.project].name,n.privacy,oe[n.project].info).then((function(t){e.handleDesCreated(t.destination)}))},children:[(0,y.jsx)("div",{className:"label",children:b.targetName1}),(0,y.jsx)(h.Z.Item,{name:"site",rules:[{required:!0,message:"Please choose a site"}],children:(0,y.jsx)(a.Z,{size:"large",placeholder:b.placeHolder1,loading:0===r.length,onChange:function(e){j(e,ae[e].name)},children:r.map((function(e){return(0,y.jsx)(ne,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:b.targetName2}),(0,y.jsx)(h.Z.Item,{name:"project",rules:[{required:!0,message:"Please choose a project"}],children:(0,y.jsxs)(a.Z,{size:"large",showSearch:!0,placeholder:b.placeHolder2,loading:l.length+f.length===0,filterOption:function(e,t){if(t.name)return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:[l.length&&(0,y.jsx)(re,{label:"Already Added",children:l.map((function(e){return(0,y.jsx)(ne,{value:e.id,name:e.name,disabled:!0,children:p.BT[e.type]+e.name},e.id)}))}),(0,y.jsx)(re,{label:"Available",children:f.map((function(e){return(0,y.jsx)(ne,{value:e.id,name:e.name,children:p.BT[e.type]+e.name},e.id)}))})]})}),(0,y.jsx)(h.Z.Item,{className:"des-share-option",name:"privacy",initialValue:"private",children:(0,y.jsxs)(ie,{children:[(0,y.jsx)(v.ZP,{value:"private",children:"Private"}),(0,y.jsx)(v.ZP,{value:"shared",children:"Shared"})]})}),(0,y.jsx)(o.Z,{type:"primary",className:"add-des-btn",size:"large",block:!0,htmlType:"submit",children:"Create Destination"})]})};var se=n(63395),le=n(27484),ue=n.n(le);function de(e){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},de(e)}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==de(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==de(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===de(o)?o:String(o)),r)}var i,o}function me(e,t){return me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},me(e,t)}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var i=ye(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ve(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}var ge={},be=a.Z.Option;a.Z.OptGroup;ue().extend(s());const je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}(c,e);var t,n,r,i=pe(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).state={isInAuthMode:!1,isLoadList:!1,currentResources:[],createAccount:"",createPrivacy:"private",createResource:null,isCreating:!1,currentAccount:e.currentAccount||(e.accounts?e.accounts[0]:null)||null,isShownUpgrade:!1},t.chooseDes=t.chooseDes.bind(ve(t)),t.back=t.back.bind(ve(t)),t.handleAccountChange=t.handleAccountChange.bind(ve(t)),t.handleConnect=t.handleConnect.bind(ve(t)),t.handlePrivacyChange=t.handlePrivacyChange.bind(ve(t)),t.handleResourceChange=t.handleResourceChange.bind(ve(t)),t.updateCurrentResources=t.updateCurrentResources.bind(ve(t)),t.handleMessage=t.handleMessage.bind(ve(t)),t.onAccountConnected=t.onAccountConnected.bind(ve(t)),t.handleUpgradeCancel=t.handleUpgradeCancel.bind(ve(t)),t.getPermissionByName=t.getPermissionByName.bind(ve(t)),t.getFreeTrialTip=t.getFreeTrialTip.bind(ve(t)),t.getIsShowPro=t.getIsShowPro.bind(ve(t)),t}return t=c,(n=[{key:"componentDidMount",value:function(){window.addEventListener("message",this.handleMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.handleMessage)}},{key:"handleMessage",value:function(e){if("accountConnected"===e.data.name){var t=JSON.parse(e.data.data);this.setState({isInAuthMode:!1}),this.onAccountConnected(t)}}},{key:"handleUpgradeCancel",value:function(){this.setState({isShownUpgrade:!1})}},{key:"onAccountConnected",value:function(e){this.props.handleAccountConnected(e),this.setState({currentAccount:e})}},{key:"chooseDes",value:function(e){this.getPermissionByName(e)?this.setState({isInAuthMode:!0,createAccount:e}):this.setState({isShownUpgrade:!0})}},{key:"getPermissionByName",value:function(e){return"googleDrive"===e?this.props.permissions["allow".concat((0,f.fm)(e))]:this.props.permissions["allow".concat((0,f.fm)(e))]||"free"!==this.props.currentPlan.PlanName}},{key:"getFreeTrialTip",value:function(){var e=this.props.permissions;if(e.trailConnectedAccountExpireTimeSecond>0){if(e.trailConnectedAccountExpireTimeSecond>Date.now()/1e3){var t=1e3*e.trailConnectedAccountExpireTimeSecond-Date.now(),n=ue().duration(t,"milliseconds").asDays();if(n<1)var r="less than a day";else r=Math.ceil(n)+" days";return(0,y.jsxs)(y.Fragment,{children:["Free trial for pro services ends in ",r,".",(0,y.jsxs)("a",{target:"_blank",href:"https://www.awesomescreenshot.com/pricing",children:[" ","Upgrade now"]})]})}return(0,y.jsxs)(y.Fragment,{children:["The 7-days free trial was expired.",(0,y.jsxs)("a",{target:"_blank",href:"https://www.awesomescreenshot.com/pricing",children:[" ","Upgrade now"]})]})}return-1===e.trailConnectedAccountExpireTimeSecond?"":0===e.trailConnectedAccountExpireTimeSecond?"7-days free trial for pro services":void 0}},{key:"handleConnect",value:function(){(0,m.N6)(this.state.createAccount).then((function(e){var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;window.open(e.URI,"",t)}))}},{key:"handlePrivacyChange",value:function(e){this.setState({createPrivacy:e.target.value})}},{key:"handleResourceChange",value:function(e){this.setState({createResource:e})}},{key:"updateCurrentResources",value:function(e){ge={},e.forEach((function(e){ge[e.id]=e})),this.setState({currentResources:e,isLoadList:!1})}},{key:"handleAccountChange",value:function(e){this.setState({currentAccount:"add"===e?null:this.props.accountHash[e]})}},{key:"getIsShowPro",value:function(){return"free"===this.props.currentPlan.PlanName||"basic"===this.props.currentPlan.PlanName}},{key:"back",value:function(){this.setState({isInAuthMode:!1})}},{key:"render",value:function(){var e=this,t=this.props.accounts,n=this.state,r=n.currentResources,i=(n.isLoadList,n.createResource,n.createPrivacy,n.createAccount),c=(n.isCreating,n.currentAccount),s=n.isShownUpgrade;return r.filter((function(e){return e.added})),r.filter((function(e){return!e.added})),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"add-des-panel",children:this.state.isInAuthMode?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"top",children:(0,y.jsxs)("div",{className:"back-btn",onClick:this.back,children:[(0,y.jsx)(l.Z,{}),"Choose another integration"]})}),(0,y.jsx)("div",{className:"connect-panel",children:(0,y.jsxs)("div",{className:"box",children:[(0,y.jsxs)("div",{className:"main-box",children:[(0,y.jsx)("div",{className:"pic",children:(0,y.jsx)("div",{className:"logo ".concat(i)})}),(0,y.jsxs)("div",{className:"content",children:[(0,y.jsx)("div",{className:"logo ".concat(i)}),(0,y.jsxs)("div",{className:"title",children:["Integrate ",p.xR[i].displayName]}),(0,y.jsx)("div",{className:"sub-title",children:p.xR[i].panelSubTitle}),(0,y.jsx)("ul",{children:p.xR[i].featureLists.map((function(e,t){return(0,y.jsx)("li",{children:e},t)}))})]})]}),(0,y.jsxs)(o.Z,{type:"primary",size:"large",onClick:this.handleConnect,children:["Connect with ",p.xR[i].displayName]})]})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"title",children:c?"Create a new destination":"Connect a new account"}),(t&&t.length)>0&&(0,y.jsxs)("div",{className:"account-select",children:[(0,y.jsx)("div",{className:"label",children:"Connected account"}),(0,y.jsxs)(a.Z,{size:"large",value:c?c.id:"add",onChange:this.handleAccountChange,children:[t.map((function(e){var t=d()("account-logo",e.service);return(0,y.jsxs)(be,{value:e.id,children:[(0,y.jsx)("div",{className:t}),p.xR[e.service].displayName," (",e.userInfo.name,")"]},e.id)})),(0,y.jsxs)(be,{value:"add",children:[(0,y.jsx)("div",{className:"account-logo add"}),"Connect to a new account"]})]})]}),function(){if(c)return(0,y.jsx)("div",{className:"des-select",children:(0,y.jsx)("div",{className:"account-des-select",children:"slack"===c.service?(0,y.jsx)(I,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"trello"===c.service?(0,y.jsx)(P,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"asana"===c.service?(0,y.jsx)(F,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"googleDrive"===c.service?(0,y.jsx)(W,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"github"===c.service?(0,y.jsx)($,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):"jira"===c.service?(0,y.jsx)(ce,{currentAccount:c,handleDesCreated:e.props.handleDesCreated}):void 0})});var t="saveElsewhere"===e.props.servicesType?p.Br:p.SX;return(0,y.jsxs)("div",{className:"service-container",children:["saveElsewhere"!==e.props.servicesType&&(0,y.jsx)("div",{className:"trial-tip",children:e.getFreeTrialTip()}),(0,y.jsx)("div",{className:"label",children:"Services"}),(0,y.jsx)("div",{className:"account-container",children:t.map((function(t){var n=d()("account-item",t.name,{pro:e.getIsShowPro()});return(0,y.jsx)("div",{className:n,"data-des":t.name,onClick:e.chooseDes.bind(null,t.name),children:(0,y.jsx)("b",{})},t.name)}))})]})}()]})}),(0,y.jsx)(se.Z,{visible:s,onCancel:this.handleUpgradeCancel,type:"destination"})]})}}])&&fe(t.prototype,n),r&&fe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.Component);n(57432);var we=n(27049),xe=(n(93506),n(54458)),Se=(n(50626),n(48086)),Ie=(n(11947),n(38648)),Oe=n(7085),Ee=(n(79133),n(32787));const Ne=function(e){return(0,y.jsx)("div",{className:"slack-form",children:(0,y.jsxs)(h.Z,{onFinish:function(t){e.handleSend(t)},children:[(0,y.jsx)("div",{className:"label",children:"Message"}),(0,y.jsx)(h.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:4},onChange:e.handleSlackMsgChange})}),(0,y.jsx)(h.Z.Item,{children:(0,y.jsx)(o.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Send message"})})]})})};n(60523);var De=n(68351),Ae=(n(29844),n(3748)),Ce=n(58491),Pe=n(57254);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Le=a.Z.Option;const _e=function(e){var t=ke((0,i.useState)(!1),2),n=t[0],r=t[1],c=ke((0,i.useState)([]),2),s=c[0],l=c[1],u=ke((0,i.useState)([]),2),d=u[0],f=u[1],p=ke((0,i.useState)([]),2),v=p[0],g=p[1],b=e.resourceID,j=e.currentDes;return(0,i.useEffect)((function(){(0,m.VY)({accountID:j.accountID,what:"list",boardID:b}).then((function(e){l(e.items)})),(0,m.VY)({accountID:j.accountID,what:"member",boardID:b}).then((function(e){f(e.items)})),(0,m.VY)({accountID:j.accountID,what:"label",boardID:b}).then((function(e){g(e.items)}))}),[b]),(0,y.jsx)("div",{className:"trello-form",children:(0,y.jsxs)(h.Z,{onFinish:function(t){var n={};t.description&&(n.description=void 0===t.description?"":t.description),n.listID=t.list,t.title&&(n.title=t.title),t.members&&(n.membersID=t.members.join(",")),t.labels&&(n.labelsID=t.labels.join(",")),t.dueDate&&!t.dueTime?n.date=t.dueDate.format("YYYY-MM-DD"):t.dueDate&&t.dueTime&&(n.datetime=ue().utc(t.dueDate.format("YYYY-MM-DD")+"T"+t.dueTime.format().replace(/(.*)T/,""))),e.handleSend(n)},children:[(0,y.jsx)("div",{className:"label",children:"List"}),(0,y.jsx)(h.Z.Item,{name:"list",rules:[{required:!0,message:"Please choose a list"}],initialValue:s.length?s[0].id:void 0,children:(0,y.jsx)(a.Z,{size:"large",placeholder:"Please choose a list",showSearch:!0,filterOption:function(e,t){return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:s.map((function(e){return(0,y.jsx)(Le,{value:e.id,name:e.name,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Card title"}),(0,y.jsx)(h.Z.Item,{name:"title",initialValue:e.tabTitle,children:(0,y.jsx)(Ee.Z,{size:"large",autoComplete:"off"})}),n&&(0,y.jsxs)("div",{className:"ad-fields",children:[(0,y.jsx)("div",{className:"label",children:"Description"}),(0,y.jsx)(h.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}),(0,y.jsx)("div",{className:"label",children:"Members"}),(0,y.jsx)(h.Z.Item,{name:"members",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Select members",showSearch:!0,filterOption:function(e,t){return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},children:d.map((function(e){return(0,y.jsx)(Le,{value:e.id,name:e.name,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Labels"}),(0,y.jsx)(h.Z.Item,{name:"labels",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Select a label",className:"label-select trello-member-select",showSearch:!0,filterOption:function(e,t){return t.name.toLowerCase().indexOf(e.toLowerCase())>=0},dropdownClassName:"trello-label-dropdown",children:v.map((function(e){return(0,y.jsx)(Le,{value:e.id,name:e.name,children:(0,y.jsx)("div",{className:"trello-label-item "+e.info.color,children:e.name})},e.id)}))})}),(0,y.jsxs)("div",{className:"half-form",children:[(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Date"}),(0,y.jsx)(h.Z.Item,{name:"dueDate",children:(0,y.jsx)(Ae.Z,{size:"large"})})]}),(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Time"}),(0,y.jsx)(h.Z.Item,{name:"dueTime",children:(0,y.jsx)(De.Z,{size:"large",use12Hours:!0,format:"h:mm A",className:"due-time-picker"})})]})]})]}),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){r(!n)},children:n?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(o.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create card"})})]})})};function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ze=a.Z.Option;const Fe=function(e){var t=Re((0,i.useState)(!1),2),n=t[0],r=t[1],c=Re((0,i.useState)([]),2),s=c[0],l=c[1],u=Re((0,i.useState)([]),2),d=u[0],f=u[1],p=Re((0,i.useState)([]),2),v=p[0],g=p[1],b=e.currentDes,j=b.info.workspaceID,w=b.resourceID;return(0,i.useEffect)((function(){(0,m.VY)({accountID:b.accountID,what:"section",projectID:w}).then((function(e){l(e.items)})),(0,m.VY)({accountID:b.accountID,what:"member",projectID:w}).then((function(e){f(e.items)})),(0,m.VY)({accountID:b.accountID,what:"tag",workspaceID:j}).then((function(e){g(e.items)}))}),[w]),(0,y.jsx)("div",{className:"trello-form",children:(0,y.jsxs)(h.Z,{onFinish:function(t){var n={};t.description&&(n.description=t.description),t.section&&"-1"!==t.section&&(n.sectionID=t.section),t.title&&(n.title=t.title),t.tags&&(n.tagsID=t.tags.join(",")),t.assignee&&(n.assigneeID=t.assignee),t.dueDate&&!t.dueTime?n.date=t.dueDate.format("YYYY-MM-DD"):t.dueDate&&t.dueTime&&(n.datetime=ue().utc(t.dueDate.format("YYYY-MM-DD")+"T"+t.dueTime.format().replace(/(.*)T/,""))),e.handleSend(n)},children:[(0,y.jsx)("div",{className:"label",children:"list"===b.info.layout?"Section":"Column"}),(0,y.jsx)(h.Z.Item,{name:"section",initialValue:"list"!==b.info.layout?s.length?s[0].id:null:"-1",children:(0,y.jsxs)(a.Z,{size:"large",children:["list"===b.info.layout&&(0,y.jsx)(Ze,{value:"-1",children:"No section"}),s.map((function(e){return(0,y.jsx)(Ze,{value:e.id,children:e.name},e.id)}))]})}),(0,y.jsx)("div",{className:"label",children:"Task name"}),(0,y.jsx)(h.Z.Item,{name:"title",initialValue:e.tabTitle,children:(0,y.jsx)(Ee.Z,{size:"large",autoComplete:"false"})}),n&&(0,y.jsxs)("div",{className:"ad-fields",children:[(0,y.jsx)("div",{className:"label",children:"Description"}),(0,y.jsx)(h.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}),(0,y.jsx)("div",{className:"label",children:"Assignee"}),(0,y.jsx)(h.Z.Item,{name:"assignee",children:(0,y.jsx)(a.Z,{size:"large",style:{width:"100%"},placeholder:"Please select assignee",children:d.map((function(e){return(0,y.jsx)(Ze,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Tags"}),(0,y.jsx)(h.Z.Item,{name:"tags",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Please select",children:v.map((function(e){return(0,y.jsx)(Ze,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsxs)("div",{className:"half-form",children:[(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Date"}),(0,y.jsx)(h.Z.Item,{name:"dueDate",children:(0,y.jsx)(Ae.Z,{size:"large"})})]}),(0,y.jsxs)("div",{className:"half",children:[(0,y.jsx)("div",{className:"label",children:"Due Time"}),(0,y.jsx)(h.Z.Item,{name:"dueTime",children:(0,y.jsx)(De.Z,{size:"large",use12Hours:!0,format:"h:mm A",className:"due-time-picker"})})]})]})]}),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){r(!n)},children:n?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(o.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create task"})})]})})};const Ue=function(e){var t=e.tabTitle;return(0,y.jsx)("div",{className:"slack-form",children:(0,y.jsxs)(h.Z,{onFinish:function(t){e.handleSend(values)},children:[(0,y.jsx)("div",{className:"label",children:"Name"}),(0,y.jsx)(h.Z.Item,{name:"title",initialValue:t,children:(0,y.jsx)(Ee.Z,{onChange:e.handleSlackMsgChange})}),(0,y.jsx)("div",{children:(0,y.jsx)(o.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Upload image"})})]})})};function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ge(e,t,n){return t=function(e){var t=function(e,t){if("object"!==He(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==He(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===He(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=a.Z.Option;const We=function(e){var t,n=Be((0,i.useState)(!1),2),r=n[0],c=n[1],s=Be((0,i.useState)([]),2),l=s[0],u=s[1],d=Be((0,i.useState)([]),2),f=d[0],p=d[1],v=e.resourceID,g=e.currentDes;return(0,i.useEffect)((function(){(0,m.VY)({accountID:g.accountID,what:"assignee",repo:g.resourceName,owner:g.info.owner}).then((function(e){u(e.items)})),(0,m.VY)({accountID:g.accountID,what:"label",repo:g.resourceName,owner:g.info.owner}).then((function(e){p(e.items)}))}),[v]),(0,y.jsx)("div",{className:"github-form",children:(0,y.jsxs)(h.Z,{onFinish:function(t){var n={};t.description&&(n.description=void 0===t.description?"":t.description),n.listID=t.list,t.title&&(n.title=t.title),t.assignees&&(n.assignees=t.assignees.join(",")),t.labels&&(n.labels=t.labels.join(",")),e.handleSend(n)},children:[(0,y.jsx)("div",{className:"label",children:"Issue title"}),(0,y.jsx)(h.Z.Item,{name:"title",initialValue:e.tabTitle,children:(0,y.jsx)(Ee.Z,{size:"large",autoComplete:"off"})}),r&&(0,y.jsxs)("div",{className:"ad-fields",children:[(0,y.jsx)("div",{className:"label",children:"Description"}),(0,y.jsx)(h.Z.Item,{name:"description",children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}),(0,y.jsx)("div",{className:"label",children:"Assignee"}),(0,y.jsx)(h.Z.Item,{name:"assignees",children:(0,y.jsx)(a.Z,{size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Assign a member",children:l.map((function(e){return(0,y.jsx)(ze,{value:e.name,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Labels"}),(0,y.jsx)(h.Z.Item,{name:"labels",children:(0,y.jsx)(a.Z,(t={size:"large",mode:"multiple",style:{width:"100%"},placeholder:"Select a label",className:"label-select"},Ge(t,"className","trello-member-select"),Ge(t,"dropdownClassName","trello-label-dropdown"),Ge(t,"children",f.map((function(e){var t={backgroundColor:"#"+e.info.color};return"ffffff"===e.info.color&&(t.color="black",t.border="1px solid #eee"),(0,y.jsx)(ze,{value:e.name,children:(0,y.jsx)("div",{style:t,className:"trello-label-item",children:e.name})},e.id)}))),t))})]}),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){c(!r)},children:r?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(o.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create issue"})})]})})};n(32399);var Ke=n(11382),Ye=(n(52927),n(9676)),Qe=(n(28897),n(85986)),qe=a.Z.Option;function Je(e){var t=e.field,n=t.allowedValues,r=t.defaultValue,i=-1!==t.operations.indexOf("add")?"multiple":void 0,o=function(e){var t=null;return n.forEach((function(n){n.id===e&&(t=n)})),t};return(0,y.jsx)(a.Z,{showSearch:!0,filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},size:"large",defaultValue:r?r.id:void 0,mode:i,onChange:function(n){var r=n;"customfield_10021"===t.key&&(r=n.map((function(e){return o(e)}))),"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"===t.schema.custom&&(r=n.map((function(e){return o(e)}))),"com.atlassian.jira.plugin.system.customfieldtypes:select"===t.schema.custom&&(r={id:n}),e.handleChange(t.key,r)},children:n.map((function(e){return(0,y.jsx)(qe,{value:e.id,children:e.name||e.value},e.id)}))})}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $e(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $e(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var et=a.Z.Option;function tt(e){var t=Xe((0,i.useState)([]),2),n=t[0],r=t[1],o=e.field,c=e.currentDes;(0,i.useEffect)((function(){(0,m.VY)({accountID:c.accountID,what:"autoComplete",fieldName:o.key,cloudID:c.info.cloudID,projectID:c.info.projectID}).then((function(e){r(e.items?e.items:[])}))}),[]);var s=-1!==o.operations.indexOf("add")?"multiple":void 0;return(0,y.jsx)(a.Z,{showSearch:!0,size:"large",mode:s,onChange:function(t){e.handleChange(o.key,t)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0},children:n.map((function(e){return function(e){return"assignee"===o.key?(0,y.jsx)(et,{value:e.info.user.accountId,children:e.info.user.displayName},e.info.user.accountId):"reporter"===o.key?(0,y.jsx)(et,{value:e.id,children:e.info.field.displayName},e.id):"labels"===o.key?(0,y.jsx)(et,{value:e.info.field.value,children:e.info.field.displayName},e.info.field.value):(0,y.jsx)(et,{})}(e)}))})}n(91324);var nt=n(45777),rt=n(23279),it=n.n(rt),ot=n(49101),at=n(93695);function ct(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||lt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function st(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||lt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(e,t){if(e){if("string"==typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dt=a.Z.Option;function ft(e){var t=st((0,i.useState)([{id:Date.now(),linkType:"",issues:[]}]),2),n=t[0],r=t[1],o=st((0,i.useState)([]),2),c=o[0],s=o[1],l=st((0,i.useState)([]),2),u=l[0],d=l[1],f=(e.field,e.currentDes);(0,i.useEffect)((function(){(0,m.VY)({accountID:f.accountID,what:"issueLinkType",cloudID:f.info.cloudID,projectID:f.info.projectID}).then((function(e){var t=[];e.items.forEach((function(e){"Relates"===e.name?t.push({value:e.name+"+in",displayName:e.info.inward}):(t.push({value:e.name+"+in",displayName:e.info.inward}),t.push({value:e.name+"+out",displayName:e.info.outward}))})),s(t)}))}),[]),(0,i.useEffect)((function(){e.handleChange("issuelinks",n)}),[n]);var p=function(e,t){(0,m.VY)({accountID:f.accountID,what:"issue",cloudID:f.info.cloudID,query:t}).then((function(e){e.items[0].info.issues.length>0&&d(e.items[0].info.issues)}))};return(0,y.jsxs)("div",{className:"issue-link",children:[(0,y.jsxs)("div",{className:"label",children:["Linked issues",(0,y.jsx)("div",{className:"add-btn",onClick:function(){r([].concat(ct(n),[{id:Date.now(),linkType:"",issues:[]}]))},children:(0,y.jsx)(nt.Z,{title:"Add",children:(0,y.jsx)(ot.Z,{})})})]}),(0,y.jsx)("div",{className:"issue-link-container",children:n.map((function(e,t){return(0,y.jsxs)("div",{className:"issue-link-item",children:[(0,y.jsx)(a.Z,{size:"large",className:"issue-link-type-select",placeholder:"Link type",onChange:function(t){!function(e,t){var i=n.filter((function(t){return t.id===e}));i[0].linkType=t;var o=n.map((function(t){return t.id===e?i[0]:t}));r(o)}(e.id,t)},children:c.map((function(e){return(0,y.jsx)(dt,{value:e.value,children:e.displayName},e.value)}))}),(0,y.jsx)(a.Z,{size:"large",className:"issue-link-select",placeholder:"Select issues",mode:"multiple",onSearch:it()((function(t){return p(e.id,t)}),800),onDropdownVisibleChange:function(t){t&&p(e.id,"")},onChange:function(t){return function(e,t){var i=n.filter((function(t){return t.id===e}));i[0].issues=t;var o=n.map((function(t){return t.id===e?i[0]:t}));r(o)}(e.id,t)},children:u.map((function(e){return(0,y.jsx)(dt,{value:e.key,children:e.key},e.key)}))}),(0,y.jsx)("div",{className:"issue-link-remove",onClick:function(){var t;t=e.id,r(n.filter((function(e){return e.id!==t})))},children:(0,y.jsx)(nt.Z,{title:"Remove",children:(0,y.jsx)(at.Z,{})})})]},e.id)}))})]})}function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ht=a.Z.Option;function vt(e){var t=mt((0,i.useState)([]),2),n=t[0],r=t[1],o=e.field,c=e.currentDes;(0,i.useEffect)((function(){}),[]);var s=function(e){var t;(0,m.VY)({accountID:c.accountID,what:(t=o.key,"customfield_10014"===t?"epic":"customfield_10021"==t?"sprint":void 0),cloudName:c.info.cloudName,query:e,cloudID:c.info.cloudID,projectID:c.info.projectID}).then((function(e){r(e.items?e.items:[])}))},l=-1!==o.operations.indexOf("add")?"multiple":void 0;return(0,y.jsx)(a.Z,{size:"large",showSearch:!0,mode:l,filterOption:!1,onChange:function(t){e.handleChange(o.key,t)},onSearch:it()(s,800),onDropdownVisibleChange:function(e){e&&s("")},children:n.map((function(e){return function(e){return"customfield_10021"===o.key?(0,y.jsxs)(ht,{value:e.id,children:[e.name,"(",e.info.data.stateKey,")"]},e.id):"customfield_10014"===o.key?(0,y.jsxs)(ht,{value:e.id,children:[e.name,"-(",e.id,")"]},e.id):(0,y.jsx)(ht,{})}(e)}))})}function yt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const bt=function(e){var t=yt((0,i.useState)(!1),2),n=t[0],r=t[1],a=e.currentDes;return(0,y.jsxs)("div",{className:"jira-api-token-panel",children:[(0,y.jsxs)("div",{className:"info",children:["Go to your Atlassian"," ",(0,y.jsx)("a",{href:"https://id.atlassian.com/manage/shared-api-tokens",target:"_blank",children:"API tokens page"})," ","and create a new API token. Copy the token and paste it into the box below."]}),(0,y.jsxs)(h.Z,{onSubmit:function(t){r(!0),(0,m.AY)(a.account.id,t.token).then((function(){r(!1),e.handleApiTokenSubmitted()})).catch((function(){r(!1)}))},children:[(0,y.jsx)("div",{className:"label",children:"API TOKEN"}),(0,y.jsx)(h.Z.Item,{name:"token",rules:[{required:!0}],children:(0,y.jsx)(Ee.Z,{})}),(0,y.jsx)(h.Z.Item,{children:(0,y.jsx)(o.Z,{type:"primary",block:!0,loading:n,htmlType:"submit",children:"Submit"})})]})]})};function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t=function(e){var t=function(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function It(e){return(0,y.jsx)(r.Z,xt(xt({},e),{},{footer:null,maskClosable:!1,wrapClassName:"jira-api-token",destroyOnClose:!0,centered:!0,title:"Submit Jira API token",children:(0,y.jsx)(bt,xt({},e))}))}function Ot(e){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ot(e)}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ot(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ot(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pt=a.Z.Option,kt={};const Tt=function(e){var t=At((0,i.useState)(!1),2),n=t[0],r=t[1],c=At((0,i.useState)({}),2),s=c[0],l=c[1],u=At((0,i.useState)([]),2),d=u[0],f=u[1],p=At((0,i.useState)(null),2),v=p[0],g=p[1],b=At((0,i.useState)(!1),2),j=b[0],w=b[1],x=e.currentDes;(0,i.useEffect)((function(){d.length&&f([]),(0,m.VY)({accountID:x.accountID,what:"createMeta",cloudID:x.info.cloudID,projectID:x.info.projectID}).then((function(e){g(e.items[0]),f(e.items),e.items.forEach((function(e){kt[e.id]=e}))}))}),[e.currentDes]),(0,i.useEffect)((function(){}));var S,I=function(e,t){l(Nt(Nt({},s),{},Dt({},e,t)))},O=function(e){var t={fields:{}},n={};for(var r in n.project={id:x.info.projectID},e)"issuetype"===r||"priority"===r||"assignee"===r?n[r]={id:e[r]}:"summary"===r||"description"===r||"environment"===r||"customfield_10014"===r||"customfield_10016"===r||"labels"===r||"customfield_10037"===r||"customfield_10038"===r||"customfield_10039"===r||"customfield_10029"===r||"customfield_10034"===r||"customfield_10035"===r||"customfield_10036"===r||"customfield_10031"===r||"customfield_10032"===r||"customfield_10033"===r||"customfield_10021"===r||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:select"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:float"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:textarea"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:textfield"===v.info.fields[r].schema.custom?v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:textarea"===v.info.fields[r].schema.custom?e[r]&&(n[r]={version:1,type:"doc",content:[{type:"paragraph",content:[{type:"text",text:e[r]}]}]}):e[r]&&(n[r]=e[r]):"components"===r?n[r]=e[r].map((function(e){return{id:e}})):"customfield_10026"===r?e[r]&&(n[r]=[{id:v.info.fields.customfield_10026.allowedValues[0].id}]):"fixVersions"===r?n[r]=e[r].map((function(e){return{id:e}})):"reporter"===r?e[r]&&(n[r]={id:e[r]}):"parent"===r?e[r]&&(n[r]={key:e[r]}):("duedate"===r||"customfield_10015"===r||"customfield_10030"===r||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:datetime"===v.info.fields[r].schema.custom||v.info.fields[r]&&"com.atlassian.jira.plugin.system.customfieldtypes:datepicker"===v.info.fields[r].schema.custom)&&e[r]&&(n[r]=e[r].format());return(e["timetracking-o"]||e["timetracking-r"])&&(n.timetracking={}),e["timetracking-o"]&&(n.timetracking.originalEstimate=e["timetracking-o"]),e["timetracking-r"]&&(n.timetracking.remainingEstimate=e["timetracking-r"]),t.fields=n,e.issuelinks&&e.issuelinks.length&&(t.issueLinks=[],e.issuelinks.forEach((function(e){if(e.linkType&&e.issues.length){var n=e.linkType.split("+"),r=n[0],i=n[1];e.issues.forEach((function(e){var n=Dt({type:r},"".concat(i,"wardIssue"),e);t.issueLinks.push(n)}))}}))),t},E=function(e){return"timetracking"===e.key?"(eg. 3w 4d 12h)":""},N=function(){w(!0)},D=function(e){return void 0!==e.allowedValues?(0,y.jsx)(Je,{handleChange:I,field:e}):void 0!==e.autoCompleteUrl?(0,y.jsx)(tt,{handleChange:I,currentDes:x,field:e}):"description"===e.key||"environment"===e.key||"com.atlassian.jira.plugin.system.customfieldtypes:textarea"===e.schema.custom?(0,y.jsx)(h.Z.Item,{name:e.key,children:(0,y.jsx)(Ee.Z.TextArea,{size:"large",autoSize:{minRows:3}})}):"customfield_10014"===e.key?(0,y.jsx)(vt,{handleChange:I,currentDes:x,field:e}):"customfield_10021"===e.key?v.info.apiToken?(0,y.jsx)(vt,{handleChange:I,currentDes:x,field:e}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("i",{className:"jira-sprint-tip",children:["To use Sprint, you need to provide an API token."," ",(0,y.jsx)("a",{onClick:N,children:"Submit API token"})]})}):(0,y.jsx)(h.Z.Item,{name:e.key,children:(0,y.jsx)(Ee.Z,{size:"large",placeholder:E(e)})})};return(0,y.jsxs)("div",{className:"jira-form",children:[0===d.length?(0,y.jsx)("div",{className:"loading",children:(0,y.jsx)(Ke.Z,{indicator:(0,y.jsx)(Oe.Z,{spin:!0})})}):(0,y.jsxs)(h.Z,{onFinish:function(t){var n=Nt(Nt({},t),s),r=O(n),i=v.info.fields;i.environment&&!r.fields.environment&&(r.fields.environment=""),i.description&&!r.fields.description&&(r.fields.description=""),e.handleSend(r)},children:[(0,y.jsx)("div",{className:"label",children:"Issue Type"}),(0,y.jsx)(h.Z.Item,{name:"issuetype",initialValue:d[0].id,children:(0,y.jsx)(a.Z,{size:"large",onChange:function(e,t){g(kt[e])},children:d.map((function(e){if("Subtask"!==e.name)return(0,y.jsx)(Pt,{value:e.id,children:e.name},e.id)}))})}),(0,y.jsx)("div",{className:"label",children:"Summary"}),(0,y.jsx)(h.Z.Item,{name:"summary",rules:[{required:!0,message:"You must specify a summary of the issue."}],children:(0,y.jsx)(Ee.Z,{size:"large"})}),n&&(S=v.info.fields,(0,y.jsx)(y.Fragment,{children:Object.keys(S).map((function(e){return"issuetype"===e||"project"===e||"summary"===e||"attachment"===e?void 0:"timetracking"===e?(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:"Original Estimate"}),(0,y.jsx)(h.Z.Item,{name:"timetracking-o",children:(0,y.jsx)(Ee.Z,{size:"large",placeholder:"(eg. 3w 4d 12h)"})})]},"oe"),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:"Remaining Estimate"}),(0,y.jsx)(h.Z.Item,{name:"timetracking-r",children:(0,y.jsx)(Ee.Z,{size:"large",placeholder:"(eg. 3w 4d 12h)"})})]},"re")]},S[e].key):"issuelinks"===e?(0,y.jsx)("div",{children:(0,y.jsx)(ft,{handleChange:I,currentDes:x,field:S})},S[e].key):"duedate"===e||"customfield_10030"===e||"customfield_10015"===e||"com.atlassian.jira.plugin.system.customfieldtypes:datetime"===S[e].schema.custom||"com.atlassian.jira.plugin.system.customfieldtypes:datepicker"===S[e].schema.custom?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),(0,y.jsx)(h.Z.Item,{name:e,children:(0,y.jsx)(Ae.Z,{size:"large",style:{width:"100%"}})})]},S[e].key):"customfield_10022"===e||"customfield_10017"===e||"parent"===e?"":"customfield_10016"===e||"com.atlassian.jira.plugin.system.customfieldtypes:float"===S[e].schema.custom?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),(0,y.jsx)(h.Z.Item,{name:e,children:(0,y.jsx)(Qe.Z,{size:"large",style:{width:"100%"}})})]},S[e].key):"customfield_10026"===e?(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),(0,y.jsx)(h.Z.Item,{name:e,children:(0,y.jsx)(Ye.Z,{children:S[e].allowedValues[0].value})})]},S[e].key):(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"label",children:S[e].name}),D(S[e])]},S[e].key)}))})),(0,y.jsx)("div",{className:"toggle-field",children:(0,y.jsx)("a",{className:"toggle-fields-btn",onClick:function(){r(!n)},children:n?(0,y.jsxs)(y.Fragment,{children:["Collapse all fields ",(0,y.jsx)(Ce.Z,{})]}):(0,y.jsxs)(y.Fragment,{children:["Show all fields ",(0,y.jsx)(Pe.Z,{})]})})}),(0,y.jsx)("div",{children:(0,y.jsx)(o.Z,{className:"send-btn",size:"large",type:"primary",block:!0,htmlType:"submit",children:"Create issue"})})]}),(0,y.jsx)(It,{visible:j,onCancel:function(){w(!1)},currentDes:x,handleApiTokenSubmitted:function(){w(!1),d.length&&f([]),(0,m.VY)({accountID:x.accountID,what:"createMeta",cloudID:x.info.cloudID,projectID:x.info.projectID}).then((function(e){g(e.items[0]),f(e.items),e.items.forEach((function(e){kt[e.id]=e}))}))}})]})};function Lt(e){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lt(e)}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==Lt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===Lt(o)?o:String(o)),r)}var i,o}function Rt(e,t){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rt(e,t)}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var i=Ut(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Zt(this,n)}}function Zt(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ft(e)}function Ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}var Ht=a.Z.Option;const Gt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rt(e,t)}(o,e);var t,n,r,i=Mt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={currentDesId:t.props.currentDes.id,slackMsg:"",isUploading:!1,percentage:0},t.handleDesChange=t.handleDesChange.bind(Ft(t)),t.handleSend=t.handleSend.bind(Ft(t)),t.handleSlackMsgChange=t.handleSlackMsgChange.bind(Ft(t)),t.onUploadProgress=t.onUploadProgress.bind(Ft(t)),t}return t=o,(n=[{key:"handleDesChange",value:function(e){"add"!==e?this.setState({currentDesId:e}):this.props.goToAddDes()}},{key:"onUploadProgress",value:function(e){this.setState({percentage:e})}},{key:"handleSend",value:function(e){var t=this,n=this.props.destinations,r=this.state.currentDesId,i={};n.forEach((function(e){i[e.id]=e}));var o=i[r];e.service=o.service,e.destinationID=r+"";var a=e.description;if(this.props.tabUrl&&(e.sourceLink=this.props.tabUrl),"trello"===e.service?e.extraString=(0,f.BS)(this.props.imageInfo):"asana"===e.service?e.extraString=(0,f.Ko)(this.props.imageInfo):"github"===e.service?e.extraString=(0,f.xG)(this.props.imageInfo):"jira"===e.service&&(void 0!==e.fields.environment?(e.fields.environment=(0,f.Lp)(e.fields.environment,this.props.imageInfo,this.props.itemUrl,this.props.type),void 0!==e.fields.description&&(e.fields.description={version:1,type:"doc",content:[{type:"paragraph",content:[{type:"text",text:e.fields.description}]}]})):void 0!==e.fields.description&&(e.fields.description=(0,f.Lp)(e.fields.description,this.props.imageInfo,this.props.itemUrl,this.props.type))),this.props.itemId)"video"===this.props.type?e.videoID=this.props.itemId:e.imageID=this.props.itemId,this.setState({isUploading:!0}),(0,m.$Y)(e).then((function(n){Ie.Z.success({message:p.xR[e.service].successMsg,description:(0,y.jsxs)("a",{href:n.itemUrl,target:"_blank",children:["Click to see it in your ",p.xR[e.service].displayName]})}),t.props.handleSendSuccess()}),(function(e){throw new Error(p.xR[o.service].actionTypeStr+" failed! ("+e+")")})).catch((function(e){e&&Se.ZP.error(e.toString()+" Please try again!"),t.setState({isUploading:!1,percentage:0})}));else{if(this.props.imageBlob)var c=this.props.contentType;else{var s=this.props.imageUrl.split(",")[1];c=this.props.imageUrl.split(",")[0].split(":")[1].split(";")[0]}this.setState({isUploading:!0}),(0,m.Bi)({Title:e.title||"",Description:a,DestID:this.state.currentDesId+"",ContentType:c}).then((function(n){var r=t.props.imageBlob?t.props.imageBlob:(0,f.Mi)(s,c),i=new File([r],"test.png"),a=n.Image.S3Key;return e.destinationImageID=n.Image.ImageID+"",e.imageURL=m.vS+"/destination/image/show?ImageKey="+a,e.imageName=t.props.tabTitle+"."+c.replace("image/",""),(0,m.p7)({AWSAccessKeyId:"AKIAJSCJQ2NM3XLFPVKA",acl:"private",key:n.Image.S3Key,"Content-Type":c,policy:n.Policy,signature:n.Signature,file:i},t.onUploadProgress).then((function(n){return(0,m.eL)(a).then((function(n){return(0,m.BN)(e).then((function(n){Ie.Z.success({message:p.xR[e.service].successMsg,description:(0,y.jsxs)("a",{href:n.itemUrl,target:"_blank",children:["Click to see it in your"," ",p.xR[e.service].displayName]})}),t.props.handleSendSuccess()}),(function(e){throw new Error(p.xR[o.service].actionTypeStr+" failed! ("+e+")")}))}))}),(function(e){throw new Error("Upload image failed!")}))}),(function(e){throw new Error("Create image error!("+e+")")})).catch((function(e){e&&Se.ZP.error(e.toString()+" Please try again!"),t.setState({isUploading:!1,percentage:0})}))}}},{key:"handleSlackMsgChange",value:function(e){this.setState({slackMsg:e.currentTarget.value})}},{key:"render",value:function(){var e=this,t=this.props,n=t.destinations,r=t.itemUrl,i=this.state,o=i.currentDesId,c=i.isUploading,s=i.percentage,l={};n.forEach((function(e){l[e.id]=e}));var u=l[o],f=d()("upload-progress",{active:c}),m=d()("destination-area",{active:!c});return(0,y.jsxs)("div",{className:"des-panel",children:[(0,y.jsxs)("div",{className:f,children:[r?(0,y.jsx)(Oe.Z,{className:"loading"}):(0,y.jsx)(xe.Z,{type:"circle",status:"active",percent:s}),(0,y.jsx)("div",{className:"upload-tip",children:s<100&&!r?"Uploading image...":p.xR[u.service].actionTypeStr+"..."})]}),(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)("div",{className:"destination-select",children:(0,y.jsxs)(a.Z,{size:"large",value:o,onChange:this.handleDesChange,children:[n.map((function(e){var t=d()("des-logo",e.service);return(0,y.jsxs)(Ht,{value:e.id,children:[(0,y.jsx)("div",{className:t}),p.BT[e.resourceType]+e.resourceName]},e.id)})),(0,y.jsxs)(Ht,{value:"add",children:[(0,y.jsx)("div",{className:"des-logo add"}),"Create a new destination"]},"add")]})}),(0,y.jsx)(we.Z,{plain:!0,children:p.xR[u.service].panelTitle}),(0,y.jsx)("div",{className:"des-form",children:"slack"===u.service?(0,y.jsx)(Ne,{currentDes:u,tabTitle:e.props.tabTitle,handleSend:e.handleSend,handleSlackMsgChange:e.handleSlackMsgChange}):"trello"===u.service?(0,y.jsx)(_e,{currentDes:u,tabTitle:e.props.tabTitle,resourceID:u.resourceID,handleSend:e.handleSend}):"asana"===u.service?(0,y.jsx)(Fe,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):"googleDrive"===u.service?(0,y.jsx)(Ue,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):"github"===u.service?(0,y.jsx)(We,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):"jira"===u.service?(0,y.jsx)(Tt,{tabTitle:e.props.tabTitle,currentDes:u,handleSend:e.handleSend}):void 0})]})]})}}])&&_t(t.prototype,n),r&&_t(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(i.Component);var Bt=n(31302);function Vt(e){return Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vt(e)}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kt(e,t,n){return(t=Qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function Qt(e){var t=function(e,t){if("object"!==Vt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Vt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Vt(t)?t:String(t)}function qt(e,t){return qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qt(e,t)}function Jt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$t(e);if(t){var i=$t(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){if(t&&("object"===Vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$t(e)}const en=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(a,e);var t,n,i,o=Jt(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),o.call(this,e)}return t=a,(n=[{key:"render",value:function(){var e=this,t=this.props.currentPanel;return(0,y.jsx)(r.Z,Wt(Wt({},this.props),{},{footer:null,maskClosable:!1,wrapClassName:"des-modal",destroyOnClose:!0,centered:!0,closeIcon:(0,y.jsx)(Bt.T,{style:{fontSize:"12px"}}),children:"add"===t?(0,y.jsx)(je,Wt(Wt({},e.props),{},{currentAccount:e.props.defaultCurrentAccount})):"des"===t?(0,y.jsx)(Gt,{currentDes:e.props.currentDes,destinations:e.props.destinations,goToAddDes:e.props.goToAddDes,tabTitle:e.props.tabTitle,tabUrl:e.props.tabUrl,imageUrl:e.props.imageUrl,imageBlob:e.props.imageBlob,imageInfo:e.props.imageInfo||null,handleSendSuccess:e.props.onCancel,contentType:e.props.contentType,type:e.props.type,itemId:e.props.itemId,itemUrl:e.props.itemUrl}):void 0}))}}])&&Yt(t.prototype,n),i&&Yt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component)},82931:(e,t,n)=>{n.d(t,{Z:()=>T});n(47386);var r=n(48889),i=n(31302),o=(n(52927),n(9676)),a=(n(15285),n(71257)),c=(n(93506),n(54458)),s=(n(85624),n(71577)),l=(n(79133),n(32787)),u=(n(11947),n(38648)),d=(n(50626),n(48086)),f=(n(28763),n(34041)),m=n(23279),p=n.n(m),h=n(67294),v=n(85483),y=n(6700),g=n(94184),b=n.n(g),j=n(17646),w=n(59102),x=n(63077),S=n(63395),I=n(85893);function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=f.Z.Option;const D=function(e){var t=e.accounts,n=e.currentDriveAccount,r=n?n.service:"googleDrive",i=j.xR[r],m=O((0,h.useState)((function(){return t?t[0]:null})),2),g=(m[0],m[1]),E=O((0,h.useState)(""),2),D=E[0],A=E[1],C=O((0,h.useState)(!0),2),P=C[0],k=C[1],T=O((0,h.useState)([]),2),L=T[0],_=T[1],R=O((0,h.useState)(!1),2),M=R[0],Z=R[1],F=O((0,h.useState)((function(){return null===e.currentDriveAccount})),2),U=(F[0],F[1],O((0,h.useState)(!1),2)),H=U[0],G=U[1],B=O((0,h.useState)(0),2),V=B[0],z=B[1],W=O((0,h.useState)(!1),2),K=W[0],Y=W[1],Q=O((0,h.useState)(""),2),q=Q[0],J=Q[1],X=O((0,h.useState)(""),2),$=X[0],ee=X[1],te=O((0,h.useState)(!1),2),ne=te[0],re=te[1],ie=O((0,h.useState)(!1),2),oe=ie[0],ae=ie[1];(0,h.useEffect)((function(){g(t[0])}),[t.length]),(0,h.useEffect)((function(){return e.currentDriveAccount&&se(),window.addEventListener("message",ce),function(){window.removeEventListener("message",ce)}}),[e.currentDriveAccount]);var ce=function(t){if("accountConnected"===t.data.name){var n=JSON.parse(t.data.data);e.handleDriveAccountConnected(n)}},se=function(t){_([]),Z(!0),(0,w.VY)({accountID:e.currentDriveAccount.id,what:"folder",query:t}).then((function(e){var t=e.items?e.items:[];_(t),Z(!1)}))},le=function(e,t,r,i){if("googleDrive"===n.service){var o=new File([e],r.name,{type:t}),a=t.split("/")[1];"jpeg"==a&&(a="jpg");var c={name:r.name+"."+a};"-1"!==r.folder&&(c.parents=[r.folder]),ue(i,o,c,r.googleDriveSharable)}else if("dropbox"===n.service){var s=("-1"!==r.folder?L.filter((function(e){return e.id===r.folder}))[0].info.path||L.filter((function(e){return e.id===r.folder}))[0].info.path_lower:"")+"/"+r.name+"."+t.split("/")[1];de(i,s,e)}else if("box"===n.service){var l=r.name+"."+t.split("/")[1],u=r.folder;o=new File([e],r.name,{type:t});fe(i,o,l,u)}},ue=function(t,n,i,o){(0,w.Hl)(t,n,i,z,e.type).then((function(n){if(o){var i=n.data.id;ae(!0),(0,w.M0)(t,i).then((function(e){ee("https://drive.google.com/file/d/".concat(i,"/view?usp=sharing")),re(!0),ae(!1)})).catch((function(){ee("https://drive.google.com/file/d/".concat(i,"/view?usp=sharing")),re(!0),ae(!1)}))}else u.Z.success({message:j.xR[r].successMsg,description:(0,I.jsxs)("a",{target:"_blank",href:"https://drive.google.com/file/d/".concat(n.data.id,"/view"),children:["Click to see it in your ",j.xR[r].displayName]})}),e.onCancel();(0,w.Pz)("googleDrive")})).catch((function(e){d.ZP.error(e.response.data.msg),G(!1),z(0)}))},de=function(t,n,i){(0,w.W0)(t,n,i,z,e.type).then((function(t){u.Z.success({message:j.xR[r].successMsg,description:(0,I.jsxs)("a",{target:"_blank",href:"https://www.dropbox.com/home".concat(t.data.path_display),children:["Click to see it in your ",j.xR[r].displayName]})}),e.onCancel(),(0,w.Pz)("dropbox")})).catch((function(e){e.response&&"insufficient_space"===e.response.data.error.reason[".tag"]?d.ZP.error("Your dropbox account is full. The screenshot can’t be sent to it"):d.ZP.error(e.response.data.error_summary),G(!1),z(0)}))},fe=function(t,n,i,o){(0,w.Cj)(t,n,i,o,z,e.type).then((function(t){u.Z.success({message:j.xR[r].successMsg,description:(0,I.jsxs)("a",{target:"_blank",href:"https://app.box.com/file/".concat(t.data.entries[0].id),children:["Click to see it in your ",j.xR[r].displayName]})}),e.onCancel(),(0,w.Pz)("box")})).catch((function(e){if(e.response.data&&e.response.data.message)var t=e.response.data.message;else t=e.response.statusText;d.ZP.error(t),G(!1),z(0)}))},me=function(t){return e.permissions["allow".concat((0,x.fm)(t))]},pe=b()("upload-progress",{active:H}),he=b()("drive-wrapper",{active:!H}),ve="video"===e.type?"video":"image";return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsxs)("div",{className:"drive-panel",children:[(0,I.jsx)("div",{className:"title",children:null===n?P?"Choose your cloud storage":"":(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"icon ".concat(n.service)}),"Save to ",i.displayName]})}),(0,I.jsx)("div",{className:pe,children:ne?(0,I.jsxs)("div",{className:"sharable-link-area",children:[(0,I.jsx)("div",{className:"label",children:"Shareable Link"}),(0,I.jsx)(l.Z,{value:$,style:{width:"320px"},size:"large"}),(0,I.jsx)(s.Z,{type:"primary",size:"large",onClick:function(){(0,x.zp)($),d.ZP.success("Copied!")},children:"Copy"})]}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(c.Z,{type:"circle",status:"active",percent:V}),(0,I.jsx)("div",{className:"upload-tip",children:V<100?"Uploading ".concat(ve,"..."):oe?"Creating shareable link...":j.xR[r].actionTypeStr+"..."})]})}),t.length&&n?(0,I.jsx)("div",{className:he,children:(0,I.jsx)("div",{className:"container",children:(0,I.jsxs)(a.Z,{onFinish:function(t){G(!0),(0,w.LP)(n.id).then((function(n){var r=n.token;if(e.itemUrl)(0,x.wJ)(e.itemUrl,(function(e){z(Math.round(e/2))})).then((function(e){le(e.data,"image/png",t,r)}));else{if(e.imageBlob)var i=e.contentType,o=e.imageBlob;else{var a=e.imageUrl.split(",")[1];o=(0,x.Mi)(a),i=e.imageUrl.split(",")[0].split(":")[1].split(";")[0]}le(o,i,t,r)}})).catch((function(e){d.ZP.error("Something went wrong!"),G(!1)}))},children:[(0,I.jsx)("div",{className:"account-select"}),(0,I.jsx)("div",{className:"label",children:"Name"}),(0,I.jsx)(a.Z.Item,{name:"name",rules:[{required:!0,message:"Please input a name"}],initialValue:e.tabTitle,children:(0,I.jsx)(l.Z,{})}),(0,I.jsx)("div",{className:"label",children:i.targetName}),(0,I.jsx)(a.Z.Item,{name:"folder",rules:[{required:!0,message:"choose a folder"}],initialValue:"-1",children:(0,I.jsxs)(f.Z,{showSearch:!0,placeholder:i.placeHolder,loading:M,onSearch:p()((function(e){se(e)}),800),filterOption:!1,children:[(0,I.jsxs)(N,{value:"-1",children:[(0,I.jsx)(v.Z,{className:"folder-option ".concat(n.service)}),"/"]}),L.map((function(e){return(0,I.jsxs)(N,{value:e.id,children:[(0,I.jsx)(v.Z,{className:"folder-option ".concat(n.service)}),"dropbox"===n.service?e.info.path||e.info.path_lower:e.name]},e.id)}))]})}),(0,I.jsx)("div",{className:"tip",children:"googleDrive"===n.service?"Only root folder and Awesome Screenshot folder are available for the moment.":"Only 10 recent folders are listed. Type and search for other folders."}),"googleDrive"===n.service&&(0,I.jsx)(a.Z.Item,{name:"googleDriveSharable",valuePropName:"checked",initialValue:"true"===localStorage["is-google-drive-share"],children:(0,I.jsx)(o.Z,{children:"Get shareable link (Anyone with the link can view)"})}),(0,I.jsx)(a.Z.Item,{children:(0,I.jsx)(s.Z,{type:"primary",className:"upload-btn",size:"large",block:!0,htmlType:"submit",children:"Upload"})})]})})}):(0,I.jsx)(I.Fragment,{children:P?(0,I.jsx)("div",{className:"service-container",children:(0,I.jsx)("div",{className:"account-container",children:j.Br.map((function(e){var t=b()("account-item",e.name,{pro:!me(e.name)});return(0,I.jsx)("div",{className:t,"data-des":e.name,onClick:function(){return function(e){me(e)?(A(e),k(!1)):(J(e),Y(!0))}(e.name)},children:(0,I.jsx)("b",{})},e.name)}))})}):(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:"top",children:(0,I.jsxs)("div",{className:"back-btn",onClick:function(){k(!0)},children:[(0,I.jsx)(y.Z,{}),"Choose another cloud storage"]})}),(0,I.jsx)("div",{className:"connect-panel",children:(0,I.jsxs)("div",{className:"box",children:[(0,I.jsxs)("div",{className:"main-box",children:[(0,I.jsx)("div",{className:"pic",children:(0,I.jsx)("div",{className:"logo ".concat(D)})}),(0,I.jsxs)("div",{className:"content",children:[(0,I.jsx)("div",{className:"logo ".concat(D)}),(0,I.jsxs)("div",{className:"title",children:["Integrate ",j.xR[D].displayName]}),(0,I.jsx)("div",{className:"sub-title",children:j.xR[D].panelSubTitle}),(0,I.jsx)("ul",{children:j.xR[D].featureLists.map((function(e,t){return(0,I.jsx)("li",{children:e},t)}))})]})]}),(0,I.jsxs)(s.Z,{type:"primary",size:"large",onClick:function(){(0,w.N6)(D).then((function(e){var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;window.open(e.URI,"",t)}))},children:["Connect with ",j.xR[D].displayName]})]})})]})})]}),(0,I.jsx)(S.Z,{visible:K,onCancel:function(){return Y(!1)},type:q})]})};function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t,n){return t=function(e){var t=function(e,t){if("object"!==A(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===A(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){return(0,I.jsx)(r.Z,P(P({},e),{},{footer:null,maskClosable:!1,wrapClassName:"des-modal",destroyOnClose:!0,centered:!0,closeIcon:(0,I.jsx)(i.T,{style:{fontSize:"12px"}}),children:(0,I.jsx)(D,P({},e))}))}},31302:(e,t,n)=>{n.d(t,{C:()=>j,T:()=>b});var r=n(67294),i=n(16165),o=n(94184),a=n.n(o),c=(n(12406),n(47346)),s=n(85481),l=n(85893);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=a()("svg-icon",e.className);return(0,l.jsx)(i.Z,f(f({},e),{},{className:t}))}var h={CloseIcon:c.Z,CrownIcon:s.Z},v={},y=function(e){v[e]=(0,r.memo)((function(t){return(0,l.jsx)(p,f({component:h[e]},t))})),v[e].displayName=e};for(var g in h)y(g);var b=v.CloseIcon,j=v.CrownIcon},59102:(e,t,n)=>{n.d(t,{$Y:()=>m,AY:()=>S,BN:()=>f,Bi:()=>p,Cj:()=>w,HK:()=>d,Hl:()=>b,LP:()=>y,M0:()=>j,N6:()=>l,Pz:()=>x,VY:()=>u,W0:()=>g,eL:()=>v,p7:()=>h,vS:()=>a});n(50626);var r=n(48086),i=n(12956),o=n(63077),a="https://www.awesomescreenshot.com/api/v1",c=["/premium/stripe/create_plan","/premium/stripe/change_plan","/folder/create","/folder/add_items","/folder/change_name","/trash/throw_into","/image/change_title","/video/update_title","/trash/restore","/trash/delete","/image/upload","/workspace/channel/move_items","/workspace/channel/load_items","/workspace/channel/load_members","/video/websocket/token","/refer/check_accept"],s=i.Z.create({baseURL:"/api/v1/"});function l(e){return s({method:"GET",url:"/account/auth",params:{service:e,from:"extension"}})}function u(e){return s({method:"GET",url:"/account/load/resource",params:e})}function d(e,t,n,r,i,o){return s({method:"POST",url:"/destination/add",data:{accountID:e,resourceID:n,privacy:i,resourceName:r,resourceType:t,info:o}})}function f(e){return s({method:"POST",url:"/account/share_screenshot",data:e})}function m(e){return s({method:"POST",url:"/account/share_item",data:e})}function p(e){return s({method:"POST",url:"/destination/image/create",data:e})}function h(e,t,n){var r=new FormData;for(var o in e)r.append(o,e[o]);var a=n||"https://awesomescreenshot.s3.amazonaws.com/";return(0,i.Z)({method:"POST",crossdomain:!0,url:a,data:r,onUploadProgress:function(e){var n=Math.round(100*e.loaded/e.total);t(n)}})}function v(e){return s({method:"GET",url:"/destination/image/upload_done",params:{key:e}})}function y(e){return s({method:"GET",url:"/account/token",params:{accountID:e}})}function g(e,t,n,r,a){return(0,i.Z)({url:"https://content.dropboxapi.com/2/files/upload",method:"POST",headers:{Authorization:"Bearer "+e,"Dropbox-API-Arg":(0,o.Td)({path:t,mode:"add",autorename:!0,mute:!1,strict_conflict:!1}),"Content-Type":"application/octet-stream"},data:n,onUploadProgress:function(e){var t=0;t="video"===a?50+Math.round(Math.round(100*e.loaded/e.total)/2):Math.round(100*e.loaded/e.total),r(t)}})}function b(e,t,n,r,o){var a=new FormData;return a.append("metadata",new Blob([JSON.stringify(n)],{type:"application/json"})),a.append("file",t),(0,i.Z)({url:"https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id",method:"POST",headers:{Authorization:"Bearer "+e},data:a,onUploadProgress:function(e){var t=0;t="video"===o?50+Math.round(Math.round(100*e.loaded/e.total)/2):Math.round(100*e.loaded/e.total),r(t)}})}function j(e,t){return(0,i.Z)({url:"https://www.googleapis.com/drive/v3/files/"+t+"/permissions",method:"POST",headers:{Authorization:"Bearer "+e},data:{role:"reader",type:"anyone"}})}function w(e,t,n,r,o,a){var c=new FormData,s={name:n};return s.parent="-1"!==r?{id:r}:{id:"0"},c.append("attributes",JSON.stringify(s)),c.append("file",t),(0,i.Z)({method:"POST",url:"https://upload.box.com/api/2.0/files/content",headers:{Authorization:"Bearer "+e,"Access-Control-Expose-Headers":"WWW-Authenticate"},data:c,onUploadProgress:function(e){var t=0;t="video"===a?50+Math.round(Math.round(100*e.loaded/e.total)/2):Math.round(100*e.loaded/e.total),o(t)}})}function x(e){return s({method:"GET",url:"/destination/image/upload_to_cloud_done",params:{Service:e}})}function S(e,t){return s({method:"POST",url:"/account/jira_basic_token",data:{accountID:e,token:t}})}s.interceptors.request.use((function(e){return e}),(function(){return r.ZP.error("Network error, Request timeout!"),Promise.reject()})),s.interceptors.response.use((function(e){if(e&&e.data&&1===e.data.code)return Promise.resolve(e.data.data);if(1e3==e.data.code&&"/pricing"!==window.location.pathname)window.location.href="/signin?redirect="+window.location.href;else{if(2001===e.data.code)return Promise.reject(e.data);if(1201===e.data.code)return Promise.reject(e.data);if(e.data.msg){if(-1!==c.indexOf(e.config.url))return Promise.reject(e.data.msg);if(r.ZP.error(e.data.msg),"/pricing"!==window.location.pathname)return Promise.reject(e.data.msg)}}}),(function(e){if(e.response){var t=e.response.status;r.ZP.error("Network error! Error Code "+t)}}))},17646:(e,t,n)=>{n.d(t,{BT:()=>i,Br:()=>c,SX:()=>o,wh:()=>r,xR:()=>a});var r=["callout","list"],i={channel:"#",repo:"",user:"@",board:"",project:"",folder:""},o=[{name:"slack",displayName:"Slack"},{name:"asana",displayName:"Asana"},{name:"trello",displayName:"Trello"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],a={slack:{displayName:"Slack",targetName:"Channel",placeHolder:"Choose a channel or user",panelTitle:"Send message",actionTypeStr:"Sending message",successMsg:"Slack message sent!",panelSubTitle:"Send screenshots to Slack",featureLists:["Send screenshots to Slack Channel","Send screenshots to Slack direct messages","Attach URL of the screenshot automatically"]},trello:{displayName:"Trello",targetName:"Board",placeHolder:"Choose a board",panelTitle:"Create card",actionTypeStr:"Creating card",successMsg:"Trello card created!",panelSubTitle:"Send screenshots as Trello cards",featureLists:["Create a trello card and attach the screenshot directly","Assign the card to members","Set due date and time","Include browser & OS info to help identify the issue"]},asana:{displayName:"Asana",targetName1:"Workspace",targetName2:"Project",placeHolder1:"Choose a workspace",placeHolder2:"Choose a project",panelTitle:"Create task",actionTypeStr:"Creating task",successMsg:"Asana task created!",panelSubTitle:"Send screenshots as Asana task",featureLists:["Send screenshots to Asana task","Create an Asana task and attach the screenshot directly","Assign the card to members","Choose Sections","Set due date and time","Include browser & OS info to help identify the issue"]},jira:{displayName:"Jira",targetName1:"Site",targetName2:"Project",placeHolder1:"Choose a site",placeHolder2:"Choose a project",panelTitle:"Create issue",actionTypeStr:"Creating issue",successMsg:"Jira issue created!",panelSubTitle:"Send screenshots as Jira issue",featureLists:["Create a Jira issue and attach the screenshot directly","Assign the card to members","Include browser & OS info to help identify the issue"]},googleDrive:{displayName:"Google Drive",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Google Drive image uploaded!",panelSubTitle:"Save screenshots to Google Drive",featureLists:["Save screenshots to Google Drive folders directly"]},dropbox:{displayName:"Dropbox",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Dropbox image uploaded!",panelSubTitle:"Save screenshots to Dropbox",featureLists:["Save screenshots to Dropbox folders directly"]},box:{displayName:"Box",targetName:"Folder",placeHolder:"Choose a folder",panelTitle:"Upload image",actionTypeStr:"Uploading image",successMsg:"Box image uploaded!",panelSubTitle:"Save screenshots to Box",featureLists:["Save screenshots to Box folders directly"]},github:{displayName:"Github",targetName:"Repository",placeHolder:"Choose a repository",panelTitle:"Create issue",actionTypeStr:"Creating issue",successMsg:"Github issue created!",panelSubTitle:"Send screenshots as Github issue",featureLists:["Create issue in Github repository","Send screenshots to Github message","Attach URL of the screenshot automatically"]}},c=[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}]},63077:(e,t,n)=>{n.d(t,{BS:()=>o,Di:()=>p,Ee:()=>j,Ko:()=>a,Lp:()=>s,Mi:()=>i,P_:()=>h,Td:()=>u,Up:()=>b,_x:()=>v,fm:()=>l,jg:()=>m,pd:()=>g,wJ:()=>f,xG:()=>c,zp:()=>d});var r=n(12956);function i(e,t,n){function r(e){return e.charCodeAt(0)}t=t||"",n=n||1024;for(var i=atob(e),o=[],a=0;a<i.length;a+=n){var c=i.slice(a,a+n),s=Array.prototype.map.call(c,r),l=new Uint8Array(s);o.push(l)}return new Blob(o,{type:t})}function o(e){if(!e)return"";var t="";for(var n in e)t+="**"+n+"**: "+e[n]+" \n";return t}function a(e){if(!e)return"";var t="";return t+="Captured in "+e.Browser+", "+e["Viewport Size"]+" viewport, "+e["Pixel Ratio"]+" pixel ratio, "+e["Zoom Level"]+" zoom, "+e.OS}function c(e){if(!e)return"";var t="<table>";for(var n in e)t+="<tr><td><strong>"+n+"</strong></td><td>"+e[n]+"</td></tr>";return t+="</table> \n"}function s(e,t,n,r){var i={version:1,type:"doc",content:[]};if(e&&e.length&&i.content.push({type:"paragraph",content:[{type:"text",text:e}]}),i.content.push({type:"rule"}),t)for(var o in t){var a={type:"paragraph",content:[{type:"text",text:o+":",marks:[{type:"strong"}]},{type:"text",text:" "+t[o]}]};i.content.push(a)}return n&&(i.content.push({type:"paragraph",content:[{type:"text",text:"video"===r?"Click the link below to watch the video:":"Click the link below to see the image:"}]}),i.content.push({type:"paragraph",content:[{type:"text",text:n,marks:[{type:"link",attrs:{href:n,title:n}}]}]})),i}function l(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function u(e){return JSON.stringify(e).replace(/[\u007f-\uffff]/g,(function(e){return"\\u"+("000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function d(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.top="-999999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}function f(e,t){return(0,r.Z)({method:"GET",url:e,responseType:"blob",onDownloadProgress:function(e){var n=Math.round(100*e.loaded/e.total);t&&t(n)}})}function m(e){var t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),n=(t&&t[4]||"").trim(),r=t?(256|t[1]).toString(16).slice(1)+(256|t[2]).toString(16).slice(1)+(256|t[3]).toString(16).slice(1):e;return""!==n?n>1?1:n:1,"transparent"===e?"0000000":r}function p(e){if(e&&e.toLocaleLowerCase().startsWith("rgba")){var t=e.split("(")[1].split(")")[0].split(",");return"rgb("+t[0]+","+t[1]+","+t[2]+")"}return e}function h(e){return new Promise((function(t){var n=window.URL.createObjectURL(e),r=document.createElement("img"),i=document.createElement("canvas"),o=i.getContext("2d");r.onload=function(){i.width=r.width,i.height=r.height,o.drawImage(r,0,0),i.toBlob((function(e){t(e)}))},r.src=n}))}function v(e,t,n){navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]).then(t,n)}function y(e,t,n){return new Promise((function(r){if(e){var i,o=t.paddingSize?t.paddingSize:0,a="mac"===t.borderType?"mac":"win",c="web"==n?"/static/images/":"./images/",s=c+a+"-header-left.png",l=c+a+"-header-center.png",u=c+a+"-header-right.png",d=e.width;(function(e){function t(e){return new Promise((function(t,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){t({ele:r,height:r.height,width:r.width})},r.onerror=r.onabort=function(){n(e)},r.src=e}))}for(var n=[],r=0;r<e.length;r++)n.push(t(e[r]));return Promise.all(n)})([s,l,u]).then((function(n){var c=e.getContext("2d"),s=o;if(i=d-t.left-t.right-2*o,n.forEach((function(e,n){var a;1===n?a=i:0===n?a=t.left:2===n&&(a=t.right),c.drawImage(e.ele,0,0,e.width,e.height,s,o,a,t.height),s+=a,2===n&&r()})),t.url)if(c.font=13*window.devicePixelRatio+"px Arial",c.fillStyle="#000000",c.measureText(t.url).width>i){var l=j(c,t.url,i);c.fillText(l,140*window.devicePixelRatio+o,("mac"===a?66:70)*window.devicePixelRatio+o)}else c.fillText(t.url,140*window.devicePixelRatio+o,("mac"===a?66:70)*window.devicePixelRatio+o);if(t.captureTime){c.font=12*window.devicePixelRatio+"px sans-serif",c.fillStyle="#000000";var u=c.measureText(t.captureTime).width,f=d-o-10*window.devicePixelRatio-u,m="mac"===a?34*window.devicePixelRatio+o:39*window.devicePixelRatio+o;c.fillText(t.captureTime,f,m)}}))}}))}function g(e,t,n,r){var i=document.createElement("canvas"),o=i.getContext("2d"),a=t.height,c=t.width,s=0,l=0,u=0,d=null,f=t.border.borderType;t.border.paddingSize>0&&(s=t.border.paddingSize,d=t.border.paddingColor,l+=s,u+=s,a+=2*s,c+=2*s),i.width=c,f&&(a+=t.border.height,i.height=a,"url_bottom"!==f&&(u+=t.border.height)),i.height=a,d&&(o.save(),o.fillStyle=d,o.fillRect(0,0,i.width,i.height),o.restore(),s>0&&(o.shadowOffsetX=4*window.devicePixelRatio,o.shadowOffsetY=4*window.devicePixelRatio,o.shadowBlur=4*window.devicePixelRatio,o.shadowColor="rgba(0,0,0,.15)"));var m=URL.createObjectURL(e);if("mac"===f||"windows"===f)y(i,t.border,n).then((function(){var e=document.createElement("img");e.onload=function(){o.drawImage(e,l,u);var t="png"===localStorage.format?"image/png":"image/jpeg";i.toBlob((function(e){r(e)}),t,1)},e.src=m}));else{!function(e,t,n){if(!(Object.keys(t).indexOf("url")<0)){var r=e.getContext("2d"),i="url_top"==t.borderType?0:n,o=t.paddingSize?t.paddingSize:0,a=e.width-20-2*o,c="Captured at: "+t.captureTime+(t.url&&t.url.length?"  URL: "+t.url:""),s="single",l=40;if(r.font="bold 24px Arial",r.measureText(c).width>a){s="multiple";var u=w(r,"URL:"+t.url,a);l=40*(u.length+1)}if(r.fillStyle="#000000",r.fillRect(o,i+o,e.width-2*o,l),r.restore(),r.fillStyle="#ffffff",r.textBaseline="top",r.strokeStyle="#ffffff",r.font="bold 24px Arial","single"===s)r.fillText(c,12+o,8+i+o);else{r.fillText("Captured at:"+t.captureTime,12+o,8+i+o);for(var d=0;d<u.length;d++)r.fillText(u[d],12+o,8+40*(d+1)+i+o)}}}(i,t.border,t.height);var p=document.createElement("img");p.onload=function(){o.drawImage(p,l,u);var e="png"===localStorage.format?"image/png":"image/jpeg";i.toBlob((function(e){r(e)}),e,1)},p.src=m}}function b(e,t,n,r,i){var o=e.getContext("2d"),a=n&&n.length?t+" "+n:t,c="single",s=40,l="bold 24px Arial";if(o.font=l,o.measureText(a).width>r){c="multiple";var u=w(o,n,r);s=40*(u.length+1)}if(i(s),e.width=r,e.height=s,o.fillStyle="#000000",o.fillRect(0,0,e.width,s),o.restore(),o.fillStyle="#ffffff",o.textBaseline="top",o.strokeStyle="#ffffff",o.font=l,"single"===c)o.fillText(a,10,8);else{o.fillText(t,10,8);for(var d=0;d<u.length;d++)o.fillText(u[d],10,8+40*(d+1))}}function j(e,t,n){for(var r=t.split(""),i=r[0],o=1;o<r.length;o++){var a=r[o];if(!(e.measureText(i+" "+a).width<n))break;i+=a}return i+"..."}function w(e,t,n){n-=10;for(var r=t.split(""),i=[],o=r[0],a=1;a<r.length;a++){var c=r[a];e.measureText(o+" "+c).width<n?o+=c:(i.push(o),o=c)}return i.push(o),i}},97882:(e,t,n)=>{n.d(t,{a:()=>i});var r=n(13192),i=n.n(r)()({USER_LOAD_INFO:null,USER_AVATAR_REFRESH:null,USER_LOAD_INFO_LOADING:null,USER_CLICK_FIVE_STAR:null,USER_PERMISSION_LOADING:null,USER_PERMISSION_RECEIVE:null,USER_SET_SHOW_GUIDE:null,CONNECTED_ACCOUNT_LOAD_RECEIVED:null,CONNECTED_ACCOUNT_SUCCESS:null,CONNECTED_ACCOUNT_DELETED:null,DESTINATIONS_LOAD_RECEIVED:null,DESTINATIONS_LOAD_DOING:null,CONNECTED_ACCOUNT_LOAD_DOING:null,DESTINATION_CREATED:null,DESTINATION_DELETED:null,DESTINATION_PRIVACY_CHANGED:null,DESTINATION_LOAD_SCREENSHOTS_RECEIVED:null,DESTINATION_LOAD_VIDEOS_RECEIVED:null,TEAM_MEMBER_LOAD_RECEIVED:null,TEAM_MEMBER_LOAD_DOING:null,TEAM_MEMBER_REMOVED:null,TEAM_INFO_LOAD_RECEIVED:null,TEAM_INFO_LOAD_DOING:null,TEAM_JOIN_DONE:null,PLANS_LOAD_RECEICED:null,VIDEO_LOADING_ANNOTATIONS:null,VIDEO_LOADED_ANNOTATIONS:null,VIDEO_LOAD_INFO:null,VIDEO_UPDATE_INFO:null,VIDEO_INFO_LOADING:null,VIDEO_LOAD_ACTIVE_LIST:null,VIDEO_ACTIVE_LIST_LOADING:null,VIDEO_LOAD_INACTIVE_LIST:null,VIDEO_INACTIVE_LIST_LOADING:null,VIDEO_DELETED:null,VIDEO_CONVERT_TO_MP4:null,VIDEO_CONVERTING_TO_MP4_INFO:null,VIDEO_GENERATE_SHARE_LINK:null,VIDEO_GENERATE_SHARE_LINK_FAILED:null,VIDEO_GENERATE_SHARE_LINK_LOADING:null,VIDEO_REVOKE_SHARE_LINK:null,VIDEO_EDIT_TITLE_LOADING:null,VIDEO_EDIT_TITLE:null,VIDEO_OPEN_EDIT_TITLE:null,VIDEO_HIDE_EDIT_TITLE:null,VIDEO_SET_COMPLETE_DONE:null,FOLDER_LOAD:null,FOLDER_LOADING:null,TOP_FOLDER_LOAD:null,TOP_FOLDER_LOADING:null,FOLDER_LOAD_TOP_LIST:null,FOLDER_CREATE:null,FOLDER_MOVE:null,FOLDER_RENAME:null,FOLDER_EDIT_DESC:null,FOLDER_GET_SHARE_LINK:null,FOLDER_GETTING_SHARE_LINK:null,FOLDER_REVOKE_SHARE_LINK:null,FOLDER_DELETE:null,FOLDER_UPDATE:null,FOLDER_RECEIVED:null,FOLDER_CHANGE_SORT:null,STAR_FOLDER_ADD:null,STAR_FOLDER_REMOVE:null,STAR_FOLDER_DELETE:null,STAR_FOLDER_UPDATE:null,ITEM_LIST_LOAD:null,ITEM_LIST_LOAD_MORE:null,ITEM_LIST_INITIAL_LOAD:null,ITEM_LIST_LOADING:null,ITEM_SHOW_PAGE_COUNT_RESTORE:null,ITEM_SHOW_PAGE_COUNT_ADD:null,ITEM_VIEW_SHOW:null,ITEM_VIEW_HIDE:null,ITEM_MOVE:null,ITEM_DELETE:null,ITEM_CHANGE_SORT:null,ITEM_UPDATE_SCROLL:null,ITEM_SUB_LOADING:null,ITEM_ADD:null,ITEM_LIST_RESTORE:null,ITEM_LOADED_RESET:null,SHARED_ITEM_LIST_LOAD:null,SHARED_ITEM_LIST_LOAD_MORE:null,SHARED_ITEM_LIST_INITIAL_LOAD:null,SHARED_ITEM_LIST_LOADING:null,SHARED_FOLDER_LIST_LOAD:null,SHARED_FOLDER_LIST_LOADING:null,SHARED_ITEM_SHOW_PAGE_COUNT_RESTORE:null,SHARED_ITEM_SHOW_PAGE_COUNT_ADD:null,SHARED_ITEM_VIEW_SHOW:null,SHARED_ITEM_VIEW_HIDE:null,SHARED_ITEM_MOVE:null,SHARED_ITEM_DELETE:null,SHARED_ITEM_CHANGE_SORT:null,SHARED_ITEM_UPDATE_SCROLL:null,SHARED_ITEM_SUB_LOADING:null,SHARED_ITEM_ADD:null,SHARED_ITEM_LIST_RESTORE:null,SHARED_LIST_LOAD:null,SHARED_LIST_LOAD_MORE:null,SHARED_LIST_INITIAL_LOAD:null,SHARED_LIST_LOADING:null,SHARED_SHOW_PAGE_COUNT_RESTORE:null,SHARED_SHOW_PAGE_COUNT_ADD:null,SHARED_VIEW_SHOW:null,SHARED_VIEW_HIDE:null,SHARED_UPDATE_SCROLL:null,SHARED_SUB_LOADING:null,SHARED_LIST_RESTORE:null,SHARED_NOTI_LOAD:null,SHARED_NEW_COMMENTS_VIEWED:null,SHARED_LIST_DELETE:null,SHARED_LIST_ADD:null,SHARED_TITLE_EDIT:null,IMAGE_RECEIVED:null,IMAGE_MOVE:null,IMAGE_RENAME:null,IMAGE_DELETE:null,IMAGE_LIST_LOADING:null,IMAGE_LIST_LOAD:null,IMAGE_LIST_SUB_LOADING:null,IMAGE_LIST_LOAD_MORE:null,IMAGE_SCROLL_UPDATE:null,IMAGE_CHANGE_SORT:null,IMAGE_ADD:null,IMAGE_INFO_LOAD:null,IMAGE_INFO_LOADING:null,IMAGE_PAGE_UPDATE:null,IMAGE_GENERATE_SHARE_LINK:null,IMAGE_GENERATE_SHARE_LINK_FAILED:null,IMAGE_GENERATE_SHARE_LINK_LOADING:null,IMAGE_REVOKE_SHARE_LINK:null,IMAGE_LIST_RESTORE:null,IMAGE_MOVE_TO_CHANNEL:null,IMAGE_ANNOTATED:null,IMAGE_DUPLICATE:null,VIDEO_SCROLL_UPDATE:null,VIDEO_RECEIVED:null,VIDEO_MOVE:null,VIDEO_RENAME:null,VIDEO_DELETE:null,VIDEO_DELETE_MULTIPLE:null,VIDEO_LIST_SUB_LOADING:null,VIDEO_LIST_LOAD_MORE:null,VIDEO_CHANGE_SORT:null,VIDEO_PAGE_UPDATE:null,VIDEO_LIST_RESTORE:null,VIDEO_MOVE_TO_CHANNEL:null,SELECTED_ADD:null,SELECTED_REMOVE:null,SELECTED_CLEAR:null,SELECTED_TRASH_ADD:null,SELECTED_TRASH_REMOVE:null,SELECTED_TRASH_CLEAR:null,TRASH_LOAD:null,TRASH_LOADING:null,TRASH_RESTORE:null,TRASH_DELETE:null,TRASH_EMPTY:null,TRASH_PAGE_CHANGE:null,SEARCH_LOAD:null,SEARCH_LOADING:null,SEARCH_ITEM_LOAD:null,SEARCH_ITEM_LOADING:null,SEARCH_ITEM_DELETE:null,SEARCH_PAGE_CHANGE:null,SEARCH_SCROLL_UPDATE:null,SEARCH_QUERY_UPDATE:null,SEARCH_META_ADD:null,SEARCH_META_DELETE:null,SEARCH_META_RENAME:null,COMMENT_LOADED:null,COMMENT_LOADING:null,COMMENT_USER_LIST_LOADED:null,COMMENT_USER_LIST_LOADING:null,COMMENT_CREATED:null,COMMENT_CREATE_FAILED:null,COMMENT_CREATING:null,COMMENT_REMOVED:null,COMMENT_REMOVE_ANIMATION:null,COMMENT_REMOVE_MENTIONED:null,COMMENT_REMOVE_NEW:null,WORKSPACE_CREATE:null,WORKSPACE_CREATING:null,WORKSPACE_LOAD:null,WORKSPACE_LOADING:null,WORKSPACE_CHANNEL_LOAD:null,WORKSPACE_CHANNEL_LOADING:null,WORKSPACE_MEMBER_LOAD:null,WORKSPACE_MEMBER_LOADING:null,WORKSPACE_META_EDIT:null,WORKSPACE_ENTER:null,WORKSPACE_CHANGE_ROLE:null,WORKSPACE_LEAVE:null,WORKSPACE_MEMBER_REMOVE:null,WORKSPACE_INFO_LOAD:null,CHANNEL_CREATE:null,CHANNEL_CREATING:null,CHANNEL_LIST_LOAD:null,CHANNEL_LIST_LOAD_MORE:null,CHANNEL_LIST_LOAD_ERROR:null,CHANNEL_LIST_SUB_LOADING:null,CHANNEL_LIST_LOADING:null,CHANNEL_ITEM_ADD:null,CHANNEL_MEMBERS_LOAD:null,CHANNEL_MEMBERS_LOADING:null,CHANNEL_CHANGE_SORT:null,CHANNEL_UPDATE_SCROLL:null,CHANNEL_META_EDIT:null,CHANNEL_OWNER_TRANSFER:null,CHANNEL_MEMBER_REMOVE:null,CHANNEL_JOIN:null,CHANNEL_ADD_MEMBER_FROM_WORKSPACE:null,CHANNEL_ITEM_RENAME:null,CHANNEL_LEAVE:null,CHANNEL_ITEM_DELETE:null,CHANNEL_ITEM_RESTORE:null,CHANNEL_ITEM_MULTIPLE_DELETE:null,CHANNEL_VIDEO_SET_COMPLETE_DONE:null,CHANNEL_ITEM_UPDATE_INFO:null,CHANNEL_FOLDER_LOAD_ALL:null,CHANNEL_FOLDER_CREATE:null,CHANNEL_FOLDER_UPDATE:null,CHANNEL_FOLDER_REMOVE:null,CHANNEL_FOLDER_SET_LOADING_STATUS:null,CHANNEL_PAGE_RESET:null,NOTIFICATION_LOAD:null,NOTIFICATION_LOADING:null,NOTIFICATION_MARK_AS_READ:null,NOTIFICATION_ALL_MARK_AS_READ:null,SETTING_THEME_CHANGE:null,UI_SHOW_ITEM:null,UI_HIDE_ITEM:null,UI_RESET_BROWSING:null,UI_UPDATE_RECORD_PANEL:null,UI_IS_RECORDING:null,UI_NEXT_ITEM:null,UI_PREV_ITEM:null,DOWNLOADLIST_ADD:null,DOWNLOADLIST_REMOVE:null,DOWNLOADLIST_EMPTY:null,DOWNLOADLIST_CHANGE:null,USER_GUIDE_LOAD:null,USER_GUIDE_SET_STEP_DONE:null,USER_GUIDE_SET_POPUP_DONE:null,USER_GUIDE_SKIP:null,CHANGELOG_LOAD:null,CHANGELOG_LOADING:null,CHANGELOG_RESET:null})},71436:(e,t,n)=>{n.d(t,{$1:()=>E,A3:()=>se,BG:()=>T,CZ:()=>ce,Cc:()=>Q,FO:()=>ae,Fb:()=>M,G5:()=>we,Gb:()=>je,I5:()=>J,JJ:()=>Y,Jp:()=>V,MY:()=>oe,Mk:()=>F,O0:()=>W,OM:()=>U,Q6:()=>Z,QP:()=>G,QT:()=>B,Qf:()=>ye,Qh:()=>X,R1:()=>R,Ro:()=>be,TL:()=>re,W3:()=>pe,Z1:()=>te,Zl:()=>A,bC:()=>de,d_:()=>me,eW:()=>ge,lk:()=>ee,ni:()=>xe,nr:()=>Ie,px:()=>z,q:()=>ve,qI:()=>_,qJ:()=>Oe,rd:()=>C,ri:()=>q,s8:()=>k,sK:()=>L,sk:()=>P,tK:()=>ue,tq:()=>O,uo:()=>fe,vI:()=>N,vs:()=>le,wN:()=>he,y7:()=>$,zx:()=>Se,zz:()=>ie});var r=n(97168),i=n(31955),o=n(4976),a=n(43087),c=n(85469),s=n(20722),l=n(67618),u=n(97882),d=n(65880),f=n(15322),m=n(65936),p=n(45826),h=n(55087),v=n(543),y=n(51447);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function b(){b=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==t&&n.call(y,o)&&(h=y);var j=p.prototype=f.prototype=Object.create(h);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==g(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,r(j,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),s(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),s(j,c,"Generator"),s(j,o,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,c,"next",e)}function c(e){S(o,r,i,a,c,"throw",e)}a(void 0)}))}}var O=(0,r.PH)(u.a.CHANNEL_LIST_LOAD),E=(0,r.PH)(u.a.CHANNEL_LIST_LOADING),N=(0,r.PH)(u.a.CHANNEL_LIST_LOAD_ERROR),D=(0,l.EY)(a.qz);function A(e,t,n){return function(){var r=I(b().mark((function r(i,o){var a;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!o().channel.isLoading||n){r.next=6;break}return r.abrupt("return",Promise.resolve());case 6:return i(E()),r.prev=7,r.next=10,D(e,t);case 10:a=r.sent,i(O(w(w(w({},a),e),{},{currentDisplayPage:a.page}))),r.next=18;break;case 14:throw r.prev=14,r.t0=r.catch(7),i(N()),r.t0;case 18:case"end":return r.stop()}}),r,null,[[7,14]])})));return function(e,t){return r.apply(this,arguments)}}()}var C=(0,r.PH)(u.a.CHANNEL_LIST_SUB_LOADING),P=(0,r.PH)(u.a.CHANNEL_LIST_LOAD_MORE);function k(){return function(){var e=I(b().mark((function e(t,n){var r,i,a,s,l,u,d,f,m,p,h,v,y,g;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),i=r.channel,a=i.isSubPageLoading,s=i.workspaceID,l=i.channelID,u=i.folderID,d=i.subPage,f=i.page,m=i.isEnd,p=i.total,h=i.isLoading,v=i.sort,y=i.lastTimestamp,g=i.lasttimestampItemID,!(a||d===c.J6||m||p<20||h)){e.next=6;break}return e.abrupt("return",Promise.resolve());case 6:t(C()),o.v$z(v,f*c.J6+d+1,s,l,u,y,g).then((function(e){t(P(e.items))}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var T=(0,r.PH)(u.a.CHANNEL_ITEM_ADD);function L(e,t,n,r){var i=e.workspaceID,a=e.channelID,c=e.folderID;return function(e,u){var m=(0,s.DK)(),y=u(),b=t.filter((function(e){return"image"===e.itemType})),j=t.filter((function(e){return"video"===e.itemType})),x=j.map((function(e){return e.id})).join(","),S=b.map((function(e){return e.id})).join(","),I=(0,l.D3)(0,x.length,S.length),O=t.map((function(e){return e.itemType+"-"+(e.itemID||e.id)})).join(",");o.sKT({workspaceID:i,channelID:a,folderID:c},O).then((function(n){var o;if(j.length){var c=j.map((function(e){return w(w({},e),{},{canVisit:!0,channel:n.channel,workspace:n.workspace,wcFolder:n.folder||null})}));j[0].inChannel||j[0].channel||e((0,d.Qh)({items:j})),e((0,v.lT)(c))}if(b.length){var l=b.map((function(e){return w(w({},e),{},{canVisit:!0,channel:n.channel,workspace:n.workspace,wcFolder:n.folder||null})}));b[0].inChannel||b[0].channel||e((0,d.Qh)({items:b})),e((0,f.Vf)(l))}n.items.forEach((function(e){var t,n;e.info&&e.info.userName||(e.info=(t=e.itemType,n=e.itemID,y.channel.items[t+n]?y.channel.items[t+n].info:w(w({},"video"===t?y.video.videos[n].info:y.image.images[n].info),{},{userName:y.user.info.fullName,userAvatar:y.user.info.avatarURL})))})),e(T({workspaceID:i,channelID:a,items:n.items})),(t[0].inChannel||t[0].channel)&&e(le(t)),y.multipleSelect.selectedItems.length&&e((0,p.jh)()),(0,s.wD)(m,{msg:I+" moved successfully."}),e((0,h.Xw)()),null!==(o=y.channel.channelFoldersMap[i])&&void 0!==o&&o[a]&&e(pe(i,a)),null==r||r()})).catch((function(e){"object"===g(e)&&"Need upgrade."===e.msg?((0,s.vU)(m),null==n||n(e.data.isOwner)):(0,s.wD)(m,{type:"error",msg:"Moving "+I.toLowerCase()+" failed. "+e})}))}}var _=(0,r.PH)(u.a.CHANNEL_MEMBERS_LOAD),R=(0,r.PH)(u.a.CHANNEL_MEMBERS_LOADING);function M(e,t){return function(){var n=I(b().mark((function n(r){var i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(R()),n.next=3,o.FbR(e,t);case 3:i=n.sent,r(_(i.members));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Z=(0,r.PH)(u.a.CHANNEL_CHANGE_SORT);function F(e){return function(t,n){var r=n(),o=r.channel.sort;if(i.Z.set("channel_sort",e),t(Z(e)),o!==e){var a=r.channel;t(A({workspaceID:a.workspaceID,channelID:a.channelID,folderID:a.folderID},{page:a.page,sort:e}))}}}var U=(0,r.PH)(u.a.CHANNEL_UPDATE_SCROLL),H=(0,r.PH)(u.a.CHANNEL_META_EDIT);function G(e,t,n,r){return function(){var i=I(b().mark((function i(a){return b().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.QPX(e,t,n,r);case 2:a(H({channelID:t,type:n,value:r}));case 3:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}var B=(0,r.PH)(u.a.CHANNEL_OWNER_TRANSFER);function V(e,t,n){return function(){var r=I(b().mark((function r(i){return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.ywm(e,t,n);case 2:i(B(n));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var z=(0,r.PH)(u.a.CHANNEL_MEMBER_REMOVE);function W(e,t,n){return function(r){o.Pwg(e,t,n).then((function(){r(z(n))}))}}var K=(0,r.PH)(u.a.CHANNEL_JOIN);function Y(e,t){return function(){var n=I(b().mark((function n(r){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.WZ)(o.JJ5,{okMsg:"Channel joined."})(e,t);case 2:r(K(t));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var Q=(0,r.PH)(u.a.CHANNEL_ADD_MEMBER_FROM_WORKSPACE);function q(e,t,n){return function(){var r=I(b().mark((function r(i){var a;return b().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.ri7(e,t,n);case 2:return a=r.sent,i(Q(a)),r.abrupt("return");case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var J=(0,r.PH)(u.a.CHANNEL_ITEM_RENAME);function X(e,t){return function(){var n=I(b().mark((function n(r){var i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i="image"===e.itemType?o.I5G:o.Nbr,n.next=3,(0,s.WZ)(i,{okMsg:"Rename successfully.",errMsg:function(e){return"string"==typeof e?e:"Rename failed."}})(e.id,t);case 3:r(J({id:e.id,itemType:e.itemType,name:t}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function $(e,t){return function(){var n=I(b().mark((function n(r){var i,o,c,s,l;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("channel"in e)){n.next=7;break}return i=e.channel,o=i.workspaceID,c=i.id,s=e.channelItemId,l=e.itemType,n.next=4,(0,a.YX)({workspaceID:o,channelID:c,id:s},t);case 4:r(J({id:String(e.id),itemType:l,name:t})),n.next=10;break;case 7:return n.next=9,(0,a.YX)(e,t);case 9:r(ee({id:String(e.itemID),itemType:e.itemType,item:{title:t}}));case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var ee=(0,r.PH)(u.a.CHANNEL_ITEM_UPDATE_INFO);function te(e){return function(){var t=I(b().mark((function t(n){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.fBG(e);case 2:if(r=t.sent.video){t.next=5;break}return t.abrupt("return");case 5:n(ee({id:e,itemType:"video",item:r}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var ne=(0,r.PH)(u.a.CHANNEL_LEAVE);function re(e,t){return function(){var n=I(b().mark((function n(r){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,s.WZ)(o.j3I,{okMsg:"Leave channel successfully"})(e,t);case 2:r(ne({channelID:t}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function ie(e,t){return function(){var n=I(b().mark((function n(r){return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.zzM(e,t);case 2:r(ne({channelID:t}));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var oe=(0,r.PH)(u.a.CHANNEL_ITEM_DELETE);function ae(e){return function(){var t=I(b().mark((function t(n){var r,i,a,c,l;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.workspaceID,i=e.channelID,a=e.id,c=e.itemType,l=e.itemID,e.folderID,t.next=3,(0,s.WZ)(o.FOj,{okMsg:"Item move to trash successfully."})(r,i,a);case 3:n(oe(c+l)),n((0,y.yQ)(r)),n(pe(r,i));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function ce(e){return function(){var t=I(b().mark((function t(n,r){var i,a,c,l,u,d,f,p;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.workspaceID,a=e.channelID,c=e.id,l=e.itemType,u=e.itemID,d=e.folderID,t.next=3,(0,s.WZ)(o.CZT,{okMsg:"Return successfully."})({workspaceID:i,channelID:a,id:c,folderID:d});case 3:n(oe(l+u)),n(pe(i,a)),n((0,m.LD)()),f=r(),(p=f.workspace.myWorkspaceHash[i])&&"lite"===p.plan&&n((0,y.yQ)(i));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var se=(0,r.PH)(u.a.CHANNEL_ITEM_RESTORE),le=(0,r.PH)(u.a.CHANNEL_ITEM_MULTIPLE_DELETE),ue=(0,r.PH)(u.a.CHANNEL_VIDEO_SET_COMPLETE_DONE);function de(e){return function(){var t=I(b().mark((function t(n){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.sVk(e);case 2:r=t.sent,n(ue({id:e,info:r}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var fe=(0,r.PH)(u.a.CHANNEL_FOLDER_LOAD_ALL),me=(0,r.PH)(u.a.CHANNEL_FOLDER_SET_LOADING_STATUS);function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipIfLoaded;return function(){var n=I(b().mark((function n(i,o){var c,s,l,u;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!r){n.next=6;break}if(s=o(),!(l=null===(c=s.channel.channelFoldersChildrenMap[e])||void 0===c?void 0:c[t])||!l.isLoaded){n.next=6;break}return n.abrupt("return",null);case 6:return i(me({idParams:{channelID:t,workspaceID:e},status:{isLoading:!0}})),n.next=9,(0,a.mw)(e,t);case 9:return u=n.sent,i(fe({workspaceID:e,channelID:t,folders:u})),n.abrupt("return",u);case 14:throw n.prev=14,n.t0=n.catch(0),i(me({idParams:{workspaceID:e,channelID:t},status:{isLoading:!1}})),n.t0;case 18:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(e,t){return n.apply(this,arguments)}}()}function he(e,t,n){var r=e.workspaceID,i=e.channelID,o=e.folderID;return function(){var e=I(b().mark((function e(c){var s,l,u,d,m,p,h,y,j,x;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return");case 2:return s=t.filter((function(e){return"folder"===e.itemType})),l=t.filter((function(e){return"image"===e.itemType||"video"===e.itemType})),u=[],s.length>0&&(u[0]=(0,a.h5)({workspaceID:r,channelID:i,folderID:o||"0"},s)),l.length>0&&(u[1]=(0,a.OT)({workspaceID:r,channelID:i,folderID:o},l.map((function(e){var t;return w(w({},e),{},{itemID:Number(null!==(t=e.itemID)&&void 0!==t?t:e.id)})}))).then().catch((function(e){throw"object"===g(e)&&"Need upgrade."===e.msg&&(null==n||n(e.data.isOwner)),e}))),e.next=9,Promise.all(u);case 9:d=e.sent,c(pe(r,i)),l.length&&(c(oe(l.map((function(e){var t=+("info"in e?e.itemID:e.id);return e.itemType+t})))),m=d[1],p=m.channel,h=m.workspace,y=m.folder,j=l.filter((function(e){return"image"===e.itemType})),(x=l.filter((function(e){return"video"===e.itemType}))).length&&c((0,v.lT)(x.map((function(e){return w(w({},"info"in e?e.info:e),{},{channel:p,workspace:h,wcFolder:y})})))),j.length&&c((0,f.Vf)(j.map((function(e){return w(w({},"info"in e?e.info:e),{},{channel:p,workspace:h,wcFolder:y})})))));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var ve=(0,r.PH)(u.a.CHANNEL_FOLDER_CREATE);function ye(e,t){return function(){var n=I(b().mark((function n(r){var i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.$2)(e,t);case 2:return i=n.sent,r(ve(i)),n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var ge=(0,r.PH)(u.a.CHANNEL_FOLDER_UPDATE);function be(e,t){return function(){var n=I(b().mark((function n(r){var i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.oi)(e,t);case 2:return i=n.sent,r(ge({id:e,folder:i})),n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function je(e,t){return function(){var n=I(b().mark((function n(r){var i;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,a.KS)(e,t);case 2:return i=n.sent,r(ge({id:i,folder:i})),n.abrupt("return",i);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var we=(0,r.PH)(u.a.CHANNEL_FOLDER_REMOVE);function xe(e){return function(){var t=I(b().mark((function t(n){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.HW)(e);case 2:n(we(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Se(e){return function(){var t=I(b().mark((function t(n){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a._n)(e);case 2:return r=t.sent,n(ge({id:e,folder:{shareKey:r}})),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ie(e){return function(){var t=I(b().mark((function t(n){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.$T)(e);case 2:n(ge({id:e,folder:{shareKey:""}}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var Oe=(0,r.PH)(u.a.CHANNEL_PAGE_RESET)},92807:(e,t,n)=>{n.d(t,{KT:()=>m,L9:()=>S,Mj:()=>v,YF:()=>x,Yr:()=>j,xF:()=>I});var r=n(97168),i=n(4976),o=n(20722),a=n(97882);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,l,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,c,"next",e)}function c(e){l(o,r,i,a,c,"throw",e)}a(void 0)}))}}var d=(0,r.PH)(a.a.COMMENT_LOADED),f=(0,r.PH)(a.a.COMMENT_LOADING);function m(e,t,n){return function(){var r=u(s().mark((function r(o){var a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(f()),r.next=3,i.KTp(e,t,n);case 3:a=r.sent,o(d({itemType:e,itemId:t,data:a}));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var p=(0,r.PH)(a.a.COMMENT_USER_LIST_LOADED),h=(0,r.PH)(a.a.COMMENT_USER_LIST_LOADING);function v(e,t,n){return function(){var r=u(s().mark((function r(o){var a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(h()),r.next=3,i.MjW(e,t,n);case 3:a=r.sent,o(p(a));case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var y=(0,r.PH)(a.a.COMMENT_CREATED),g=(0,r.PH)(a.a.COMMENT_CREATING),b=(0,r.PH)(a.a.COMMENT_CREATE_FAILED);function j(e,t,n,r,a,c){return function(){var l=u(s().mark((function l(u){return s().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return u(g()),s.abrupt("return",i.Yrx(e,t,n,r,a).then((function(n){u(y({itemType:e,itemId:t,data:n})),null==c||c()})).catch((function(e){u(b()),(0,o.sc)({type:"error",msg:"Create comment failed. "+e})})));case 2:case"end":return s.stop()}}),l)})));return function(e){return l.apply(this,arguments)}}()}var w=(0,r.PH)(a.a.COMMENT_REMOVED);function x(e,t,n){return function(r){i.YFy(n).then((function(){r(w({itemType:e,itemId:t,id:n}))})).catch((function(e){(0,o.sc)({type:"error",msg:"Delete comment failed. "+e})}))}}var S=(0,r.PH)(a.a.COMMENT_REMOVE_ANIMATION),I=(0,r.PH)(a.a.COMMENT_REMOVE_MENTIONED)},78512:(e,t,n)=>{n.d(t,{J0:()=>v,Mg:()=>p,Q6:()=>f});var r=n(97168),i=n(4976),o=n(97882);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,c,s){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return i("throw",e,c,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,l,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function s(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,c,"next",e)}function c(e){s(o,r,i,a,c,"throw",e)}a(void 0)}))}}var u=(0,r.PH)(o.a.CONNECTED_ACCOUNT_LOAD_RECEIVED),d=(0,r.PH)(o.a.CONNECTED_ACCOUNT_LOAD_DOING);function f(e){return function(){var t=l(c().mark((function t(n,r){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((o=r()).connectedAccount.isLoading||o.connectedAccount.accounts.length>0)||!0===e){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return n(d()),t.abrupt("return",i.ttN().then((function(e){n(u({accounts:e.accounts}))})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var m=(0,r.PH)(o.a.CONNECTED_ACCOUNT_SUCCESS);function p(e){return function(t){t(m({account:e}))}}var h=(0,r.PH)(o.a.CONNECTED_ACCOUNT_DELETED);function v(e){return function(){var t=l(c().mark((function t(n){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.npm(e).then((function(){n(h({accountID:e}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},83662:(e,t,n)=>{n.d(t,{$P:()=>S,c0:()=>w,c1:()=>y,jG:()=>m,kE:()=>b,vM:()=>h});var r=n(97168),i=n(4976),o=n(97882),a=n(78512);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,l,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,c,"next",e)}function c(e){l(o,r,i,a,c,"throw",e)}a(void 0)}))}}var d=(0,r.PH)(o.a.DESTINATIONS_LOAD_RECEIVED),f=(0,r.PH)(o.a.DESTINATIONS_LOAD_DOING);function m(){return function(){var e=u(s().mark((function e(t,n){var r,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n().destination,o=r.isLoading,a=r.destinations,!(o||a.length>0)){e.next=5;break}return e.abrupt("return",Promise.resolve());case 5:return t(f()),e.abrupt("return",i.LDB().then((function(e){t(d({destinations:e.destinations}))})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}var p=(0,r.PH)(o.a.DESTINATION_CREATED);function h(e){return function(t){t((0,a.Q6)(!0)),t(p({destination:e}))}}var v=(0,r.PH)(o.a.DESTINATION_DELETED);function y(e){return function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.fOZ(e).then((function(){n((0,a.Q6)(!0)),n(v({destinationID:e}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var g=(0,r.PH)(o.a.DESTINATION_PRIVACY_CHANGED);function b(e,t){return function(){var n=u(s().mark((function n(r){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",i.vNM(e,t).then((function(e){r(g({destination:e.destination}))})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var j=(0,r.PH)(o.a.DESTINATION_LOAD_SCREENSHOTS_RECEIVED);function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=u(s().mark((function n(r,o){var a,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o(),c=a.destination.screenshotsMap,(c[e]||{}).page!==t){n.next=7;break}return n.abrupt("return",Promise.resolve());case 7:return n.abrupt("return",i.HCH(e,t).then((function(n){r(j({destinationID:e,currentPage:t,total:n.Total,limit:n.Limit,screenshots:n.Images}))})));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}var x=(0,r.PH)(o.a.DESTINATION_LOAD_VIDEOS_RECEIVED);function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var n=u(s().mark((function n(r,o){var a,c;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=o(),c=a.destination.videosMap,(c[e]||{}).page!==t){n.next=7;break}return n.abrupt("return",Promise.resolve());case 7:return n.abrupt("return",i.lYX(e,t).then((function(n){r(x({destinationID:e,currentPage:t,total:n.Total,limit:n.Limit,videos:n.Videos}))})));case 8:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}},13264:(e,t,n)=>{n.d(t,{H4:()=>m,WH:()=>f,dy:()=>v,qT:()=>h,tH:()=>p});n(47386);var r=n(48889),i=n(97168),o=n(4976),a=n(67618),c=n(97882);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(){l=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,c){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==s(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,c)}))}c(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,c,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function u(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,c,"next",e)}function c(e){u(o,r,i,a,c,"throw",e)}a(void 0)}))}}var f=(0,i.PH)(c.a.DOWNLOADLIST_ADD),m=(0,i.PH)(c.a.DOWNLOADLIST_REMOVE),p=(0,i.PH)(c.a.DOWNLOADLIST_EMPTY),h=(0,i.PH)(c.a.DOWNLOADLIST_CHANGE);function v(e){return function(t,n){var r=(0,i.x0)();g(r,e.id,t,n),t(f({id:r,fileId:e.id,status:"Pending",fileName:e.name}))}}var y=5e3;function g(e,t,n,i){(0,o.$lD)(t).then(function(){var o=d(l().mark((function o(c){var s,u,d,f,p;return l().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u=(s=null!=c?c:{}).status,d=s.link,f=i().downloadList,f.find((function(t){return t.id===e}))){o.next=5;break}return o.abrupt("return");case 5:if("Success"!==u){o.next=13;break}return d&&b(d),n(h({id:e,status:"Succeed"})),o.next=10,(0,a._v)(2e3);case 10:n(m(e)),o.next=31;break;case 13:if("Waiting"!==u){o.next=18;break}p=setTimeout((function(){return g(e,t,n,i)}),2e3),n(h({id:e,retryTimer:p,status:"Pending"})),o.next=31;break;case 18:if("TooLarge"!==u){o.next=26;break}return n(h({id:e,status:"Failed"})),r.Z.error({title:"Downsize folder",content:"Unable to download a folder larger than 10GB. Please downsize your folder and retry.",okText:"Ok"}),o.next=23,(0,a._v)(y);case 23:n(m(e)),o.next=31;break;case 26:return n(h({id:e,status:"Failed"})),r.Z.error({title:"Download failed",content:"An error occurred while downloading. Please try again later (downsizing your folder or checking your internet connection might improve the success rate).",okText:"Ok"}),o.next=30,(0,a._v)(y);case 30:n(m(e));case 31:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch(d(l().mark((function t(){var o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=i().downloadList,!o.find((function(t){return t.id===e}))){t.next=8;break}return n(h({id:e,status:"Failed"})),r.Z.error({title:"Download failed",content:"An error occurred while downloading. Please try again later (downsizing your folder or checking your internet connection might improve the success rate).",okText:"Ok",okButtonProps:{type:"ghost"}}),t.next=7,(0,a._v)(y);case 7:n(m(e));case 8:case"end":return t.stop()}}),t)}))))}function b(e){return j.apply(this,arguments)}function j(){return(j=d(l().mark((function e(t){var n,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(){n.onload=null,n.onerror=null,n.remove()},(n=document.createElement("iframe")).style.display="none",n.src=t.toString(),n.onerror=r,n.onload=r,document.body.append(n),e.next=9,(0,a._v)(3e4);case 9:r();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},65880:(e,t,n)=>{n.d(t,{B0:()=>Z,Ec:()=>U,J1:()=>_,L6:()=>C,PW:()=>D,Qh:()=>L,Zj:()=>$,bo:()=>K,cr:()=>z,es:()=>O,iC:()=>Y,kO:()=>X,oW:()=>J,vM:()=>G});var r=n(50308),i=n.n(r),o=n(97168),a=n(4976),c=n(20722),s=n(67618),l=n(97882),u=n(15322),d=n(45826),f=n(10978),m=n(33179),p=n(55087),h=n(543);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(D([])));g&&g!==t&&n.call(g,o)&&(h=g);var b=p.prototype=f.prototype=Object.create(h);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==v(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},j(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(b),s(b,c,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function S(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function I(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,c,"next",e)}function c(e){S(o,r,i,a,c,"throw",e)}a(void 0)}))}}(0,o.PH)(l.a.FOLDER_UPDATE);var O=(0,o.PH)(l.a.FOLDER_RECEIVED),E=(0,o.PH)(l.a.FOLDER_LOAD),N=(0,o.PH)(l.a.FOLDER_LOADING),D=function(e){return function(t,n){var r=n();r.folder.isLoading||!e&&r.folder.loaded?Promise.resolve():(e||t(N()),a.PW5().then((function(e){t(E(e))})))}},A=(0,o.PH)(l.a.FOLDER_CREATE);function C(e,t,n){return function(){var r=I(x().mark((function r(o){return x().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){(0,c.WZ)(a.L60,{okMsg:"Folder created successfully.",errMsg:function(e){return"Creating folder failed. "+e}})(e,t).then((function(e){null==n||n(e.folder.folderID),o(A(e.folder)),o((0,f.h_)([{id:e.folder.folderID,itemType:"folder",createdSec:e.folder.createdSec,title:e.folder.name}])),r(e.folder)})).catch(i())})));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var P=(0,o.PH)(l.a.FOLDER_MOVE),k=(0,o.PH)(l.a.VIDEO_MOVE),T=(0,o.PH)(l.a.IMAGE_MOVE),L=(0,o.PH)(l.a.ITEM_MOVE),_=function(e,t){return function(n,r){var i=r(),o=(0,c.DK)(),l=[],u=[],f=[];t.forEach((function(e){"folder"===e.itemType?f.push(e):"video"===e.itemType?l.push(e):u.push(e)}));var m=l.map((function(e){return e.id})).join(","),p=f.map((function(e){return e.id})).join(","),h=u.map((function(e){return e.id})).join(","),v=(0,s.D3)(p.length,m.length,h.length);a.J1J(e,m,h,p).then((function(t){if(f.length&&(n(P({folderID:e,folders:f})),t.folders&&t.folders.length&&n(O(t))),l.length){var r="0"===e?"":i.folder.folders[e].name;n(k({folderID:e,videos:l,folderName:r})),n(L({folderID:e,items:l}))}if(u.length){var a="0"===e?"":i.folder.folders[e].name;n(T({folderID:e,images:u,folderName:a})),n(L({folderID:e,items:u}))}i.multipleSelect.selectedItems.length&&n((0,d.jh)()),(0,c.wD)(o,{msg:v+" moved successfully."})})).catch((function(e){(0,c.wD)(o,{type:"error",msg:"Moving "+v.toLowerCase()+" failed. "+e})}))}},R=(0,o.PH)(l.a.FOLDER_DELETE),M=(0,o.PH)(l.a.ITEM_DELETE),Z=function(e,t){return function(n){var r=[],i=[],o=[];e.forEach((function(e){"folder"===e.itemType||void 0!==e.parentID?o.push(j(j({},e),{},{itemType:"folder"})):"video"===e.itemType?r.push(e):i.push(e)}));var l=r.map((function(e){return e.id})).join(","),v=o.map((function(e){return e.id})).join(","),y=i.map((function(e){return e.id})).join(","),g=(0,c.DK)(),b=(0,s.D3)(v.length,l.length,y.length);a.B0$(l,y,v).then((function(){n((0,f.ne)(e)),n((0,f.lD)(e)),o.length&&(n(R({folders:o})),n((0,u.cC)()),n((0,h.Iz)()),n((0,m.uH)())),r.length&&(n(M({items:r})),n((0,h.LE)(r))),i.length&&(n(M({items:i})),n((0,u.H9)(i))),o.length?n((0,m.xI)()):n((0,m.Yy)([].concat(r,i))),n((0,d.jh)()),1!==r.length||i.length||o.length||!r[0].failed?(0,c.wD)(g,{msg:b+" move to Trash successfully."}):(0,c.wD)(g,{msg:"Thank you for reporting this problem. We will analyze the error report and find a solution as soon as possible."}),null==t||t(),n((0,p.Xw)())})).catch((function(e){(0,c.wD)(g,{type:"error",msg:"Moving "+b.toLowerCase()+" to Trash failed. "+e})}))}},F=(0,o.PH)(l.a.FOLDER_RENAME);function U(e,t){return function(n){var r=(0,c.DK)();a.Ec4(e,t).then((function(){(0,c.wD)(r,{msg:"Folder rename successfully."}),n(F({folderID:e,name:t})),n((0,f.r7)({id:e,itemType:"folder",name:t}))})).catch((function(e){(0,c.wD)(r,{type:"error",msg:"Renaming folder failed. "+e})}))}}var H=(0,o.PH)(l.a.FOLDER_EDIT_DESC),G=function(e,t){return function(n){var r=(0,c.DK)();a.RwP(e,t).then((function(){(0,c.wD)(r,{msg:"Folder edit description successfully."}),n(H({folderID:e,desc:t}))})).catch((function(e){(0,c.wD)(r,{type:"error",msg:"Editing folder description failed. "+e})}))}},B=(0,o.PH)(l.a.FOLDER_GET_SHARE_LINK),V=(0,o.PH)(l.a.FOLDER_GETTING_SHARE_LINK),z=function(e,t){return function(n){n(V()),a.lGg(e).then((function(r){n(B({folderID:e,shareKey:r.shareKey})),null==t||t(r.shareKey)}))}},W=(0,o.PH)(l.a.FOLDER_REVOKE_SHARE_LINK);function K(e){return function(){var t=I(x().mark((function t(n){return x().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.ty6(e);case 2:n(W(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(0,o.PH)(l.a.STAR_FOLDER_ADD);var Y=function(e){return function(t,n){var r=y(n().folder.starredFolderIDList);r.push(e);var i=r.join(",");a.oWj(i).then((function(){t(q(i))}))}},Q=(0,o.PH)(l.a.STAR_FOLDER_REMOVE),q=(0,o.PH)(l.a.STAR_FOLDER_UPDATE),J=function(e,t){return function(n){t?(n(q(e)),a.oWj(e)):a.oWj(e).then((function(){n(q(e))}))}},X=function(e){return function(t){t(Q(e)),a.QPT(e)}},$=(0,o.PH)(l.a.FOLDER_CHANGE_SORT)},15322:(e,t,n)=>{n.d(t,{H9:()=>A,I5:()=>b,KG:()=>D,Kv:()=>U,Ql:()=>k,Tw:()=>x,U5:()=>G,Vf:()=>H,Vu:()=>M,W_:()=>F,cC:()=>T,m8:()=>B,nY:()=>O,nt:()=>N});var r=n(50308),i=n.n(r),o=n(97168),a=n(31955),c=n(4976),s=n(85469),l=n(20722),u=n(97882),d=n(65936),f=n(10978),m=n(33179);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=(0,o.PH)(u.a.IMAGE_RENAME),b=function(e){return function(t){var n=e.id,r=e.name;(0,l.WZ)(c.I5G,{okMsg:"Rename Successfully.",errMsg:"Rename Failed."})(n,r).then((function(){t(g(e)),t((0,f.r7)({id:n,itemType:"image",name:r})),t((0,m.QM)({id:n,itemType:"image",name:r}))})).catch(i())}},j=(0,o.PH)(u.a.IMAGE_LIST_LOADING),w=(0,o.PH)(u.a.IMAGE_LIST_LOAD),x=function(e){return function(t,n){var r=n();t(j()),r.image.activeImages.isLoading?Promise.resolve():c.Twb(r.image.sort,e).then((function(n){t(w({images:n.images,page:e,total:n.total}))}))}},S=(0,o.PH)(u.a.IMAGE_LIST_SUB_LOADING),I=(0,o.PH)(u.a.IMAGE_LIST_LOAD_MORE),O=function(){return function(e,t){var n=t(),r=n.image.activeImages;if(r.isSubPageLoading||r.subPage===s.J6||r.isLoading||r.isEnd||0===r.page||-1===r.page)Promise.resolve();else{e(S());var i=r.lastTimestamp;c.Twb(n.image.sort,r.page*s.J6+r.subPage+1,i).then((function(t){e(I({images:t.images}))}))}}},E=(0,o.PH)(u.a.IMAGE_CHANGE_SORT),N=function(e){return function(t,n){var r=n();a.Z.set("image_sort",e),t(E(e)),r.image.sort!==e&&t(x(r.image.page))}},D=(0,o.PH)(u.a.IMAGE_SCROLL_UPDATE),A=(0,o.PH)(u.a.IMAGE_DELETE),C=(0,o.PH)(u.a.IMAGE_INFO_LOAD),P=(0,o.PH)(u.a.IMAGE_INFO_LOADING);function k(e,t,n){return function(r){n||r(P(e)),c.Qlm(e,t).then((function(t){var n=v(v({},t.image),{},{isChannelMember:t.isChannelMember,channelItemId:t.channelItemId});r(C({id:e,image:n}))})).catch((function(){r(C({id:e,image:null}))}))}}var T=(0,o.PH)(u.a.IMAGE_PAGE_UPDATE),L=(0,o.PH)(u.a.IMAGE_GENERATE_SHARE_LINK),_=(0,o.PH)(u.a.IMAGE_GENERATE_SHARE_LINK_LOADING),R=(0,o.PH)(u.a.IMAGE_GENERATE_SHARE_LINK_FAILED),M=function(e,t){return function(n,r){var i=r();n(_({id:e})),c.Eap(e).then((function(r){n(L({id:e,shareURI:r.shareURI,shareKey:r.shareKey})),n((0,m.RZ)(v(v({},i.image.images[e].info),{},{userAvatar:i.user.info.avatarURL,shareURI:r.shareURI,shareKey:r.shareKey}))),t&&t(r.shareURI)})).catch((function(){n(R({id:e}))}))}},Z=(0,o.PH)(u.a.IMAGE_REVOKE_SHARE_LINK),F=function(e){return function(t){c.HD(e).then((function(){})),t(Z({id:e})),t((0,m.Yy)([{itemType:"image",id:e}]))}},U=(0,o.PH)(u.a.IMAGE_LIST_RESTORE),H=(0,o.PH)(u.a.IMAGE_MOVE_TO_CHANNEL),G=(0,o.PH)(u.a.IMAGE_ANNOTATED),B=function(e,t){return function(n){(0,l.WZ)(c.m8y,{okMsg:"Image duplicated successfully",errMsg:"Image duplicated failed"})(e.id,e.shareKey,e.folderID,e.channel?e.channel.workspaceID:"",e.channel?e.channel.id:"").then((function(r){var i=r.image;"info"in i?null==t||t(i.info.id):(n((0,d.$)(e.folderID,[i])),null==t||t(i.id))})).catch(i())}}},65936:(e,t,n)=>{n.d(t,{$:()=>S,LD:()=>x,Of:()=>N,XT:()=>I,dZ:()=>A,nt:()=>E,oo:()=>b,s2:()=>C,y6:()=>g});n(50626);var r=n(48086),i=n(97168),o=n(31955),a=n(4976),c=n(85469),s=n(67618),l=n(97882),u=n(65880),d=n(15322),f=n(10978),m=n(55087),p=n(543),h=(0,i.PH)(l.a.ITEM_LIST_LOAD),v=(0,i.PH)(l.a.ITEM_LIST_LOAD_MORE),y=(0,i.PH)(l.a.ITEM_LIST_LOADING),g=(0,i.PH)(l.a.IMAGE_RECEIVED),b=(0,i.PH)(l.a.VIDEO_RECEIVED),j=(0,i.PH)(l.a.IMAGE_ADD),w=(0,i.PH)(l.a.ITEM_ADD),x=((0,i.PH)(l.a.ITEM_VIEW_SHOW),(0,i.PH)(l.a.ITEM_VIEW_HIDE),(0,i.PH)(l.a.ITEM_LIST_RESTORE)),S=function(e,t){return function(n){n(j({images:t})),n(w({folderID:e,items:t})),n((0,f.h_)(t)),n((0,m.Xw)())}},I=((0,i.PH)(l.a.ITEM_SHOW_PAGE_COUNT_RESTORE),function(e,t,n,r,i){return function(o,c){c().item.isLoading&&!n?Promise.resolve():(o(y()),a.usf(i||"",e,t,null,r,"",0).then((function(n){if(null===n.items)o(h({items:n.items,page:e,sort:n.sort,folderID:t,isShared:r}));else{var i=n.items.filter((function(e){return"image"===e.itemType}));o(g({images:i}));var a=n.items.filter((function(e){return"video"===e.itemType}));o(b({videos:a})),o(h({items:n.items,page:e,folderID:t,sort:n.sort,total:n.total,count:n.count,isShared:r}))}})))}}),O=(0,i.PH)(l.a.ITEM_CHANGE_SORT);function E(e){return function(t,n){var r=n();o.Z.set("item_sort",e),t(O(e)),r.item.sort!==e&&(t(I(r.item.page,r.item.folderID,!1,!1,e)),t((0,u.Zj)({folderID:r.item.folderID,sort:e})))}}var N=(0,i.PH)(l.a.ITEM_UPDATE_SCROLL),D=(0,i.PH)(l.a.ITEM_SUB_LOADING),A=function(e,t){return function(n,r){var i=r();if(i.item.isSubPageLoading||i.item.subPage===c.J6||i.item.isEnd||i.item.total<20||i.item.isLoading||0===i.item.page||e&&e!==i.item.folderID)Promise.resolve();else{n(D());var o=i.item.lastTimestamp;a.usf(i.item.sort,i.item.page,i.item.folderID,o,t,"",i.item.subPage+1).then((function(e){if(null===e.items)n(v({items:e.items}));else{var t=e.items.filter((function(e){return"image"===e.itemType}));n(g({images:t}));var r=e.items.filter((function(e){return"video"===e.itemType}));n(b({videos:r})),n(v({items:e.items}))}}))}}};function C(e){return function(t){"video"!==e.itemType?"image"!==e.itemType||t((0,d.Vu)(e.id,(function(e){(0,s.zp)(e),r.ZP.success("Link copied.")}))):t((0,p.i9)(e.id,(function(e){(0,s.zp)(e),r.ZP.success("Link copied.")})))}}},45826:(e,t,n)=>{n.d(t,{Pj:()=>l,Qd:()=>a,ah:()=>o,jh:()=>c,oT:()=>s});var r=n(97168),i=n(97882),o=(0,r.PH)(i.a.SELECTED_ADD),a=(0,r.PH)(i.a.SELECTED_REMOVE),c=(0,r.PH)(i.a.SELECTED_CLEAR),s=(0,r.PH)(i.a.SELECTED_TRASH_ADD),l=(0,r.PH)(i.a.SELECTED_TRASH_REMOVE)},94958:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(97168),i=n(4976),o=n(97882);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,c,s){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return i("throw",e,c,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,l,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function s(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}var l=(0,r.PH)(o.a.PLANS_LOAD_RECEICED);function u(e){return function(){var t,n=(t=c().mark((function t(n){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b9k(e);case 2:r=t.sent,n(l({data:r}));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){s(o,r,i,a,c,"next",e)}function c(e){s(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}()}},10978:(e,t,n)=>{n.d(t,{$3:()=>p,C8:()=>f,dj:()=>b,h_:()=>w,lD:()=>l,ne:()=>x,oO:()=>g,r7:()=>S,rh:()=>j});var r=n(97168),i=n(74221),o=n(4976),a=n(97882),c=n(65880),s=n(65936),l=(0,r.PH)(a.a.SEARCH_ITEM_DELETE),u=(0,r.PH)(a.a.SEARCH_LOAD),d=(0,r.PH)(a.a.SEARCH_LOADING),f=function(){return function(e,t){t().search.isLoading?Promise.resolve():(e(d()),o.C85().then((function(t){e(u(t.items))})))}},m=function(e,t){return t=t||[],new i.Z(t,{keys:["title","fullname"],useExtendedSearch:!0}).search("'"+e).map((function(e){return e.item}))},p=function(e){return function(t,n){var r=n();if(r.search.isMetaLoaded){var i=m(e,r.search.items);t(y(i,e))}else t(d()),o.C85().then((function(n){t(u(n.items));var r=m(e,n.items);t(y(r,e))}))}},h=(0,r.PH)(a.a.SEARCH_ITEM_LOAD),v=(0,r.PH)(a.a.SEARCH_ITEM_LOADING),y=function(e,t){return function(n){var r=[],i=[],a=[];e.forEach((function(e){"folder"===e.itemType?a.push(e):"video"===e.itemType?r.push(e):i.push(e)}));var l=r.map((function(e){return e.id})).join(","),u=a.map((function(e){return e.id})).join(","),d=i.map((function(e){return e.id})).join(",");n(v()),o.$3H(l,d,u).then((function(e){var r=e.folders||[],i=e.videos||[],o=e.images||[],a=i.concat(o);r.length&&n((0,c.es)({folders:r})),i.length&&n((0,s.oo)({videos:i})),o.length&&n((0,s.y6)({images:o})),n(h({folders:r,items:a,query:t}))}))}},g=(0,r.PH)(a.a.SEARCH_PAGE_CHANGE),b=(0,r.PH)(a.a.SEARCH_SCROLL_UPDATE),j=(0,r.PH)(a.a.SEARCH_QUERY_UPDATE),w=(0,r.PH)(a.a.SEARCH_META_ADD),x=(0,r.PH)(a.a.SEARCH_META_DELETE),S=(0,r.PH)(a.a.SEARCH_META_RENAME)},33179:(e,t,n)=>{n.d(t,{Ax:()=>m,Iz:()=>I,Of:()=>y,QM:()=>D,RZ:()=>E,Yy:()=>O,e$:()=>j,fR:()=>v,uH:()=>x,xI:()=>N});var r=n(97168),i=n(4976),o=n(85469),a=n(97882);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=(0,r.PH)(a.a.SHARED_LIST_LOADING),f=(0,r.PH)(a.a.SHARED_LIST_LOAD),m=function(e,t){return function(n,r){if(r().shared.isLoading&&!t)Promise.resolve();else{n(d());var a=e<2?1:e+(e-1)*o.J6;i.Ax(a).then((function(t){n(f(l(l({page:a},t),{},{currentDisplayPage:e})))}))}}},p=(0,r.PH)(a.a.SHARED_FOLDER_LIST_LOAD),h=(0,r.PH)(a.a.SHARED_FOLDER_LIST_LOADING),v=function(e){return function(t,n){n().shared.isFolderLoading&&!e?Promise.resolve():(t(h()),i.fRN().then((function(e){t(p(e))})))}},y=(0,r.PH)(a.a.SHARED_UPDATE_SCROLL),g=(0,r.PH)(a.a.SHARED_SUB_LOADING),b=(0,r.PH)(a.a.SHARED_LIST_LOAD_MORE),j=function(){return function(e,t){var n=t().shared;n.isSubPageLoading||n.subPage===o.J6||n.isEnd||n.total<20||n.isLoading?Promise.resolve():(e(g()),i.Ax(n.page+n.subPage+1).then((function(t){e(b(t.items))})))}},w=(0,r.PH)(a.a.SHARED_NOTI_LOAD),x=function(){return function(e){i.uHy().then((function(t){e(w(t.commentNotification||[]))}))}},S=(0,r.PH)(a.a.SHARED_NEW_COMMENTS_VIEWED),I=function(e,t,n){return function(r){r(S({itemType:e,itemId:t,count:n}))}},O=(0,r.PH)(a.a.SHARED_LIST_DELETE),E=(0,r.PH)(a.a.SHARED_LIST_ADD),N=(0,r.PH)(a.a.SHARED_LIST_RESTORE),D=(0,r.PH)(a.a.SHARED_TITLE_EDIT)},83539:(e,t,n)=>{n.d(t,{CV:()=>D,_x:()=>E,iX:()=>I,oO:()=>P,uo:()=>C});var r=n(97168),i=n(4976),o=n(20722),a=n(97882),c=n(71436),s=n(65880),l=n(15322),u=n(65936),d=n(45826),f=n(10978),m=n(33179),p=n(55087),h=n(543),v=n(51447);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||j(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=j(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function b(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||j(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=(0,r.PH)(a.a.TRASH_LOAD),S=(0,r.PH)(a.a.TRASH_LOADING),I=function(){return function(e){e(S()),i.xKl().then((function(t){e(x(t))}))}},O=(0,r.PH)(a.a.TRASH_RESTORE);function E(e,t){return function(n,r){var a=(0,o.DK)(),j=e.map((function(e){return e.id})),w=j.join(","),x=j.length>1?"Items":"Item";i._x6(w).then((function(e){var t=[];if(n(O(j)),e.folders){n((0,s.PW)(!0)),n((0,l.Kv)()),n((0,h.U2)());var i=e.folders.map((function(e){return{id:e.folderID,title:e.name,createdSec:e.createdSec,itemType:"folder"}}));t=[].concat(b(i),b(t))}if(e.videos&&(n((0,u.LD)()),n((0,h.U2)()),t=[].concat(b(e.videos),b(t))),e.images&&(n((0,u.LD)()),n((0,l.Kv)()),t=[].concat(b(e.images),b(t))),e.workspaceItems){var w,S=e.workspaceItems.reduce((function(e,t){var n=e.get(t.workspaceID)||new Set;return n.add(t.channelID),e.set(t.workspaceID,n),e}),new Map),I=r(),E=I.channel.channelFoldersMap,N=I.workspace.myWorkspaceHash,D=g(S.entries());try{for(D.s();!(w=D.n()).done;){var A=y(w.value,2),C=A[0],P=A[1],k=N[C];k&&"lite"===k.plan&&n((0,v.yQ)(C));var T,L=g(P.values());try{for(L.s();!(T=L.n()).done;){var _,R=T.value;null!==(_=E[C])&&void 0!==_&&_[R]&&n((0,c.W3)(C,R))}}catch(e){L.e(e)}finally{L.f()}}}catch(e){D.e(e)}finally{D.f()}}n((0,m.xI)()),n((0,c.A3)()),n((0,f.h_)(t)),n((0,d.jh)()),(0,o.wD)(a,{msg:x+" restore successfully."}),n((0,m.uH)()),n((0,p.Xw)())})).catch((function(e){1201===e.code?(t&&t(e),(0,o.vU)(a)):(0,o.wD)(a,{type:"error",msg:"Restoring "+x+" failed. "+e.msg})}))}}var N=(0,r.PH)(a.a.TRASH_DELETE),D=function(e){return function(t){var n=(0,o.DK)(),r=e.map((function(e){return e.id})),a=r.join(","),c=r.length>1?"Items":"Item";i.Rwp(a).then((function(){t(N(r)),t((0,d.jh)()),(0,o.wD)(n,{msg:c+" delete successfully."})})).catch((function(e){(0,o.wD)(n,{type:"error",msg:"Deleting "+c+" failed. "+e})}))}},A=(0,r.PH)(a.a.TRASH_EMPTY),C=function(e){return function(t){i.uoz(e).then((function(){t(A())}))}},P=(0,r.PH)(a.a.TRASH_PAGE_CHANGE)},71922:(e,t,n)=>{n.d(t,{G2:()=>c,i0:()=>m,mE:()=>s,oV:()=>a,sQ:()=>d,td:()=>f,uz:()=>p,v9:()=>o,vf:()=>l});var r=n(97168),i=n(97882),o=(0,r.PH)(i.a.UI_SHOW_ITEM),a=o,c=(0,r.PH)(i.a.UI_NEXT_ITEM),s=(0,r.PH)(i.a.UI_PREV_ITEM),l=(0,r.PH)(i.a.UI_RESET_BROWSING),u=(0,r.PH)(i.a.ITEM_LOADED_RESET),d=function(){return function(e){e(f()),e(u())}},f=(0,r.PH)(i.a.UI_HIDE_ITEM),m=(0,r.PH)(i.a.UI_UPDATE_RECORD_PANEL),p=(0,r.PH)(i.a.UI_IS_RECORDING)},55087:(e,t,n)=>{n.d(t,{J5:()=>p,JF:()=>m,Lk:()=>s,Xw:()=>d,vB:()=>f});var r=n(97168),i=n(4976),o=n(97882),a=(0,r.PH)(o.a.USER_LOAD_INFO),c=(0,r.PH)(o.a.USER_LOAD_INFO_LOADING);function s(e){return function(t,n){var r=n().user;!0!==e&&(r.isLoading||r.info&&r.info.uid)?Promise.resolve():(t(c()),i.OR9().then((function(e){t(a({data:e}))})))}}var l=(0,r.PH)(o.a.USER_PERMISSION_LOADING),u=(0,r.PH)(o.a.USER_PERMISSION_RECEIVE);function d(){return function(e,t){var n=t().user;n.isLoading||n.isLoadingPermission?Promise.resolve():(e(l()),i.e5V().then((function(t){e(u(t))})))}}var f=(0,r.PH)(o.a.USER_AVATAR_REFRESH),m=(0,r.PH)(o.a.USER_CLICK_FIVE_STAR),p=(0,r.PH)(o.a.USER_SET_SHOW_GUIDE)},62983:(e,t,n)=>{n.d(t,{AR:()=>h,C2:()=>i,F7:()=>v,If:()=>b,Rg:()=>r,T_:()=>p,YA:()=>y,aO:()=>j,wH:()=>g});var r,i,o=n(97168),a=n(97882),c=n(55087),s=n(4976),l=n(73458),u=n(67618);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e.Download="Download",e.Pin="Pin",e.Record="Record",e.Screenshot="Screenshot",e.Share="Share"}(r||(r={})),function(e){e.Pin="Pin",e.VideoShare="VideoShare",e.VideoComment="VideoComment",e.ImageLink="ImageLink"}(i||(i={}));var p=(0,o.PH)(a.a.USER_GUIDE_LOAD),h=(0,o.PH)(a.a.USER_GUIDE_SET_STEP_DONE),v=(0,o.PH)(a.a.USER_GUIDE_SET_POPUP_DONE);(0,o.PH)(a.a.USER_GUIDE_SKIP);function y(e){return function(t,n){t(h(e));var i=n(),o=i.userGuide,a=o.steps,d=o.loaded;if(i.user.showGuide&&d)if(!Object.keys(r).map((function(e){return a[e]})).some((function(e){return!e})))(0,s.YGj)(),(0,u.I1)("Complete all steps",{event_category:"userGuide"}),t((0,c.J5)(!1)),(0,l.Xf)();else{var f=n().userGuide,m=f.steps,p=f.popups;(0,s.MXx)(m,p)}}}function g(e){return function(t,n){var o,a=!1,c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(e=Array.isArray(e)?e:[e]);try{for(c.s();!(o=c.n()).done;){var l=o.value;t(v(l)),l===i.Pin&&(a=!0)}}catch(e){c.e(e)}finally{c.f()}if(a)t(y(r.Pin));else{var u=n().userGuide,d=u.steps,m=u.popups;(0,s.MXx)(d,m)}}}function b(){return function(e){e((0,c.J5)(!1)),(0,s.YGj)()}}function j(){return function(e){(0,s.p_Q)().then((function(t){var n=d(t,2),r=n[0],i=n[1];(0,u.LB)()&&(r.Download=!0),e(p({steps:r,popups:i}))}))}}},35646:(e,t,n)=>{n.d(t,{$:()=>c,u:()=>a});var r=n(97168),i=n(4976),o=n(97882),a=(0,r.PH)(o.a.SETTING_THEME_CHANGE);function c(e){return function(t){if(t(a(e)),"auto"===e){var n=window.matchMedia("(prefers-color-scheme: dark)").matches;document.documentElement.setAttribute("data-theme",n?"dark":"light")}else document.documentElement.setAttribute("data-theme",e);i.$ll(e)}}},543:(e,t,n)=>{n.d(t,{DI:()=>z,F6:()=>L,Iz:()=>re,LE:()=>A,M5:()=>P,Nx:()=>I,O1:()=>X,OS:()=>q,U2:()=>ie,XH:()=>F,cb:()=>x,i9:()=>B,lT:()=>oe,mE:()=>ee,mU:()=>Y,nt:()=>ne,t3:()=>M,ul:()=>b,wZ:()=>N});var r=n(97168),i=n(31955),o=n(4976),a=n(85469),c=n(20722),s=n(79993),l=n(97882),u=n(10978),d=n(33179);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function m(){}function p(){}function h(){}var y={};s(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=h.prototype=m.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==f(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=h,r(j,"constructor",{value:h,configurable:!0}),r(h,"constructor",{value:p,configurable:!0}),p.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),s(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),s(j,c,"Generator"),s(j,o,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function y(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,c,"next",e)}function c(e){y(o,r,i,a,c,"throw",e)}a(void 0)}))}}var b=(0,r.PH)(l.a.VIDEO_SCROLL_UPDATE),j=(0,r.PH)(l.a.VIDEO_LOAD_INFO),w=(0,r.PH)(l.a.VIDEO_INFO_LOADING);function x(e,t,n){return function(r){n||r(w({id:e,shareKey:t})),o.fBG(e,t).then((function(n){var i=n.video;!s.Z.webmSupport()&&i&&0==i.isMP4Requested&&0==i.mp4Available&&o.MxH(e,t).then((function(){r(x(e,t,!0))})),r(j({id:e,data:n}))})).catch((function(t){r(j({id:e,error:t,data:{}}))}))}}var S=(0,r.PH)(l.a.VIDEO_UPDATE_INFO);function I(e,t){return function(){var n=g(v().mark((function n(r){var i;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o.fBG(e,t);case 2:if(i=n.sent.video){n.next=5;break}return n.abrupt("return");case 5:r(S({id:i.id,info:i}));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}var O=(0,r.PH)(l.a.VIDEO_LOADED_ANNOTATIONS),E=(0,r.PH)(l.a.VIDEO_LOADING_ANNOTATIONS);function N(e,t,n){return function(r){r(E({id:e,version:t})),o.n6q(e,t,n).then((function(t){var n=t.actions;if(n&&n.length>0){var i=n[0];r(O({id:e,version:i.version,baseVersion:i.baseVersion,actions:JSON.parse(i.data)}))}else r(O({id:e,version:"",actions:[]}))})).catch((function(){r(O({id:e,version:"",actions:[]}))}))}}var D=(0,r.PH)(l.a.VIDEO_ACTIVE_LIST_LOADING),A=((0,r.PH)(l.a.VIDEO_DELETED),(0,r.PH)(l.a.VIDEO_DELETE_MULTIPLE)),C=(0,r.PH)(l.a.VIDEO_LOAD_ACTIVE_LIST);function P(e){return function(t,n){var r=n();t(D()),o.hWi(r.video.sort,e,"").then((function(n){t(C({page:e,videos:n.videos,total:n.total}))}))}}var k=(0,r.PH)(l.a.VIDEO_LIST_SUB_LOADING),T=(0,r.PH)(l.a.VIDEO_LIST_LOAD_MORE),L=function(){return function(e,t){var n=t(),r=n.video.activeVideos;if(r.isSubPageLoading||r.subPage===a.J6||r.isEnd||0===r.page||-1===r.page)Promise.resolve();else{e(k());var i=r.lastTimestamp;o.hWi(n.video.sort,r.page*a.J6+r.subPage+1,"active",i).then((function(t){e(T({videos:t.videos}))}))}}},_=(0,r.PH)(l.a.VIDEO_INACTIVE_LIST_LOADING),R=(0,r.PH)(l.a.VIDEO_LOAD_INACTIVE_LIST);function M(e,t){return function(n){n(_()),o.hWi("create",e,"inactive").then((function(r){n(R({count:t,page:e,status:"inactive",data:{page:r.page,pageSize:r.pageSize,total:r.total,videos:r.videos||[]}}))}))}}var Z=(0,r.PH)(l.a.VIDEO_CONVERTING_TO_MP4_INFO);function F(e){return function(t){o.POR(e).then((function(){t(Z(e)),t(x(e,"",!0))}))}}var U=(0,r.PH)(l.a.VIDEO_GENERATE_SHARE_LINK),H=(0,r.PH)(l.a.VIDEO_GENERATE_SHARE_LINK_LOADING),G=(0,r.PH)(l.a.VIDEO_GENERATE_SHARE_LINK_FAILED);function B(e,t){return function(){var n=g(v().mark((function n(r,i){var a,c;return v().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=i(),r(H({id:e})),n.prev=2,n.next=5,o.fZt(e);case 5:c=n.sent,r(U({id:e,shareURI:c.shareURI,shareKey:c.shareKey})),r((0,d.RZ)(p(p({},a.video.videos[e].info),{},{userAvatar:a.user.info.avatarURL,shareURI:c.shareURI,shareKey:c.shareKey}))),null==t||t(c.shareURI),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),r(G({id:e}));case 14:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e,t){return n.apply(this,arguments)}}()}var V=(0,r.PH)(l.a.VIDEO_REVOKE_SHARE_LINK),z=function(e){return function(t){o.UCi(e).then((function(){})),t(V({id:e})),t((0,d.Yy)([{itemType:"video",id:e}]))}},W=(0,r.PH)(l.a.VIDEO_EDIT_TITLE_LOADING),K=(0,r.PH)(l.a.VIDEO_EDIT_TITLE),Y=function(e,t){return function(n){n(W({id:e}));var r=(0,c.DK)();o.Nbr(e,t).then((function(){n(K({id:e,title:t})),n((0,u.r7)({id:e,itemType:"video",name:t})),n((0,d.QM)({id:e,itemType:"video",name:t})),(0,c.wD)(r,{msg:"Rename successfully."})})).catch((function(){(0,c.wD)(r,{type:"error",msg:"Rename Failed."})}))}},Q=(0,r.PH)(l.a.VIDEO_OPEN_EDIT_TITLE),q=function(e){return function(t){t(Q({id:e}))}},J=(0,r.PH)(l.a.VIDEO_HIDE_EDIT_TITLE),X=function(e){return function(t){t(J({id:e}))}},$=(0,r.PH)(l.a.VIDEO_SET_COMPLETE_DONE),ee=function(e){return function(t){o.sVk(e).then((function(n){t($({id:e,info:n}))}))}},te=(0,r.PH)(l.a.VIDEO_CHANGE_SORT),ne=function(e){return function(t,n){var r=n();i.Z.set("video_sort",e),t(te(e)),r.video.sort!==e&&t(P(r.video.page))}},re=(0,r.PH)(l.a.VIDEO_PAGE_UPDATE),ie=(0,r.PH)(l.a.VIDEO_LIST_RESTORE),oe=(0,r.PH)(l.a.VIDEO_MOVE_TO_CHANNEL)},51447:(e,t,n)=>{n.d(t,{Ce:()=>b,EV:()=>k,Eb:()=>O,Pf:()=>m,SE:()=>I,UU:()=>j,aA:()=>f,cK:()=>N,mi:()=>v,n8:()=>A,nI:()=>x,yQ:()=>L,zl:()=>C});var r=n(97168),i=n(4976),o=n(20722),a=n(97882);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,s){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,l,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,c,"next",e)}function c(e){l(o,r,i,a,c,"throw",e)}a(void 0)}))}}var d=(0,r.PH)(a.a.WORKSPACE_LOADING),f=(0,r.PH)(a.a.WORKSPACE_LOAD);function m(e){return function(){var t=u(s().mark((function t(n,r){var o,a,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=r(),a=o.workspace,e||!a.isLoading&&!a.loaded){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return n(d()),t.next=8,i.PfW();case 8:return c=t.sent,n(f(c)),t.abrupt("return",c);case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}var p=(0,r.PH)(a.a.CHANNEL_CREATE),h=(0,r.PH)(a.a.CHANNEL_CREATING);function v(e,t,n){return function(){var r=u(s().mark((function r(o){var a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o(h()),r.next=3,i.mih(e,t,n);case 3:return a=r.sent,o(p({workspaceID:e,channel:a.channel})),r.abrupt("return",a.channel);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var y=(0,r.PH)(a.a.WORKSPACE_CHANNEL_LOAD),g=(0,r.PH)(a.a.WORKSPACE_CHANNEL_LOADING);function b(e){return function(t){t(g()),i.CeK(e).then((function(e){t(y(e.channels))}))}}var j=(0,r.PH)(a.a.WORKSPACE_MEMBER_LOAD),w=(0,r.PH)(a.a.WORKSPACE_MEMBER_LOADING);function x(e){return function(t,n){var r=n();r.workspace.isLoadingAllMembers||r.workspace.memberLoadedID===e?Promise.resolve():(t(w()),i.nI8(e).then((function(n){t(j({members:n.members,workspaceID:e}))})))}}var S=(0,r.PH)(a.a.WORKSPACE_META_EDIT);function I(e,t,n){return function(){var r=u(s().mark((function r(o){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.SEu(e,t,n);case 2:o(S({workspaceID:e,type:t,value:n}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}var O=(0,r.PH)(a.a.WORKSPACE_ENTER),E=(0,r.PH)(a.a.WORKSPACE_CHANGE_ROLE);function N(e,t){return function(n,r){var o=r();n(E({memberID:e,role:t})),i.cKX(o.workspace.currentWorkspaceID,String(e),t)}}var D=(0,r.PH)(a.a.WORKSPACE_LEAVE);function A(e){return function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.n8r(e);case 2:n(D(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function C(e){return function(){var t=u(s().mark((function t(n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.zlV(e);case 2:n(D(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var P=(0,r.PH)(a.a.WORKSPACE_MEMBER_REMOVE);function k(e,t){return function(n){var r=(0,o.DK)();i.n8r(e,t).then((function(){n(P(t)),(0,o.wD)(r,{msg:"Member removed."})}))}}var T=(0,r.PH)(a.a.WORKSPACE_INFO_LOAD);function L(e){return function(){var t=u(s().mark((function t(n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.yQs(e);case 2:r=t.sent,n(T(r.workspaces));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},4976:(e,t,n)=>{n.d(t,{$3H:()=>Pe,$lD:()=>fn,$ll:()=>et,$vQ:()=>jt,A95:()=>le,Ax:()=>Ve,B0$:()=>Oe,BBL:()=>H,C85:()=>Ce,CAL:()=>T,CVk:()=>ke,CZT:()=>Rt,CeK:()=>ht,Cpd:()=>Z,D45:()=>St,E2j:()=>x,EaK:()=>Le,Eap:()=>oe,Ec4:()=>Ee,Eq_:()=>pn,FB8:()=>gt,FHV:()=>h,FMP:()=>q,FOj:()=>_t,FY6:()=>F,FbR:()=>ut,GMb:()=>K,GY:()=>rn,Goc:()=>Nt,GpV:()=>nn,GvO:()=>qe,HCH:()=>_,HD:()=>ae,HFJ:()=>V,I5G:()=>Ze,IQ2:()=>te,J1C:()=>Et,J1J:()=>Se,JJ5:()=>xt,JX8:()=>ve,KTp:()=>Ue,KUr:()=>an,Kwg:()=>Qt,L60:()=>xe,LDB:()=>E,MBc:()=>ot,MR5:()=>Ot,MXx:()=>jn,MjW:()=>Be,MxH:()=>qt,Myt:()=>wt,Nbr:()=>ce,O35:()=>Yt,OR9:()=>j,PEq:()=>on,POR:()=>ne,PW5:()=>be,Pck:()=>En,PfW:()=>it,Pwg:()=>pt,QPT:()=>rt,QPX:()=>dt,QbM:()=>me,Qlm:()=>Re,Qrg:()=>ln,Qrl:()=>Dt,R2R:()=>k,R9S:()=>tn,Rhi:()=>pe,RwP:()=>Jt,Rwp:()=>Ae,S0H:()=>Vt,SEu:()=>ft,T3h:()=>Gt,TL7:()=>P,Twb:()=>_e,UCi:()=>ie,Ufv:()=>Kt,Uw7:()=>Dn,Wc0:()=>he,X7m:()=>sn,YFy:()=>Ge,YGj:()=>gn,Yrx:()=>He,Zaq:()=>Je,Zef:()=>C,_x6:()=>De,ajT:()=>X,b9k:()=>L,bG5:()=>fe,c$2:()=>ye,cKX:()=>Ct,ck4:()=>M,d5$:()=>ct,djw:()=>cn,e$B:()=>w,e5V:()=>un,eB6:()=>Ht,eE4:()=>y,eH4:()=>yt,fBG:()=>Q,fCJ:()=>Fe,fLe:()=>Ft,fOZ:()=>N,fRN:()=>ze,fZt:()=>re,fvm:()=>In,gg6:()=>Ke,hWi:()=>Y,hz1:()=>W,iAQ:()=>On,iHA:()=>Ut,iQz:()=>J,j3I:()=>kt,jTH:()=>ee,kA_:()=>B,l$X:()=>zt,lGg:()=>Xt,lYX:()=>R,m8y:()=>vn,mih:()=>at,mwz:()=>bt,n6q:()=>$,n8r:()=>Pt,nI8:()=>vt,npm:()=>O,oED:()=>S,oH9:()=>U,oWj:()=>nt,ovQ:()=>se,p7n:()=>b,p_Q:()=>xn,pvB:()=>Nn,qQg:()=>G,qcI:()=>tt,qo7:()=>Zt,rXU:()=>Bt,ri7:()=>At,sKT:()=>lt,sVk:()=>ue,szH:()=>dn,tM0:()=>z,tRN:()=>$e,tmw:()=>de,ttN:()=>I,ty6:()=>$t,u2R:()=>A,uHy:()=>We,uoz:()=>Te,usf:()=>we,v$z:()=>st,vNM:()=>D,vQG:()=>en,w73:()=>Mt,wWy:()=>Qe,xKl:()=>Ne,yQs:()=>Wt,ywm:()=>mt,zB2:()=>g,zEL:()=>It,zlV:()=>Lt,zzM:()=>Tt});n(50626);var r=n(48086),i=n(12956),o=n(43087);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){c=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,c,s){var l=f(e[r],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,c,s)}),(function(e){i("throw",e,c,s)})):t.resolve(d).then((function(e){u.value=e,c(u)}),(function(e){return i("throw",e,c,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,l,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,l,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,c,"next",e)}function c(e){m(o,r,i,a,c,"throw",e)}a(void 0)}))}}var h="https://www.awesomescreenshot.com",v=["/premium/stripe/create_plan","/premium/stripe/change_plan","/folder/create","/folder/add_items","/folder/change_name","/trash/throw_into","/image/change_title","/video/update_title","/trash/restore","/trash/delete","/image/upload","/workspace/channel/move_items","/workspace/channel/load_items","/workspace/channel/load_members","/video/websocket/token","/refer/check_accept"],y=i.Z.create({baseURL:"/api/v1/"});function g(e){var t=e.email,n=e.password,r=new URLSearchParams;return r.append("mail",t),r.append("password",n),(0,i.Z)({method:"post",url:h+"/user/loginCommit?from=web_recorder",data:r})}function b(e,t,n){for(var r=new FormData,o=0,a=Object.entries(e);o<a.length;o++){var c=d(a[o],2),s=c[0],l=c[1];r.append(s,l)}var u=n||"https://awesomescreenshot.s3.amazonaws.com/";return(0,i.Z)({method:"POST",crossdomain:!0,url:u,data:r,onUploadProgress:function(e){var n,r=Math.round(100*e.loaded/(null!==(n=e.total)&&void 0!==n?n:1/0));t(r)}})}function j(){return y({method:"GET",url:"/user/info"})}function w(e,t,n,r){return y({method:"POST",url:"/premium/stripe/create_plan",data:{PlanName:e,stripeToken:t.id,stripeEmail:t.email,PPCancelSuccess:n,promotionCode:r}})}function x(e,t){var n=new FormData;return n.append("imageID",e),n.append("file",t),y({method:"POST",url:"/image/upload_annotated",data:n})}function S(e){return y({method:"POST",url:"/user/update_card",data:{paymentMethod:e}})}function I(){return y({method:"GET",url:"/account/load"})}function O(e){return y({method:"POST",url:"/account/delete",data:{accountID:e}})}function E(){return y({method:"GET",url:"/destination/load"})}function N(e){return y({method:"POST",url:"/destination/delete",data:{destinationID:e}})}function D(e,t){return y({method:"POST",url:"/destination/change_privacy",data:{destinationID:e,privacy:t}})}function A(){return y({method:"GET",url:"/team/member/load"})}function C(e,t){return y({method:"POST",url:"/team/member/remove",data:{UID:e,teamID:t}})}function P(e,t){return y({method:"GET",url:"/team/info",params:{teamID:e,code:t}})}function k(e,t){return y({method:"POST",url:"/team/member/apply",data:{teamID:e,code:t}})}function T(e){return y({method:"POST",url:"/team/member/invite_by_email",data:{emails:e}})}function L(e){return y({method:"GET",url:"/premium/plans",params:{promotionCode:e}})}function _(e,t){return t||(t=1),y({method:"GET",url:"/destination/image/list",params:{DestID:e,Limit:20,Offset:20*(t-1)}})}function R(e,t){return t||(t=1),y({method:"GET",url:"/destination/video/list",params:{DestID:e,Limit:20,Offset:20*(t-1)}})}function M(e){return y({method:"POST",url:"/user/update_profile",data:e})}function Z(e){return y({method:"POST",url:"/user/change_password",data:e})}function F(e){return y({method:"POST",url:"/user/set_google_account_password",data:{password:e}})}function U(e){return y({method:"GET",url:"Stripe"===e?"/premium/stripe/cancel_plan":"/premium/paypal/cancel_plan"})}function H(e){return y({method:"POST",url:"/premium/stripe/change_plan",data:{PlanName:e}})}function G(e,t){return y({method:"GET",url:"/premium/stripe/preview_upgrade_cost",params:{NewPlanName:e,promotionCode:t}})}function B(){return y({method:"GET",url:"/video/websocket/token"})}function V(e){return(0,i.Z)({method:"GET",url:"https://tinyurl.com/api-create.php?url="+e})}function z(e){var t={from:e},n=document.querySelector("#aws-chrome-installed");if(n){var r=n.getAttribute("data-version");null!==r&&(t.clientVersion=r)}return y({method:"GET",url:"/premium/pricing_opened",params:t})}function W(e){return y({method:"POST",url:"/common/contact_us",data:e})}function K(e,t){return y({method:"POST",url:"/premium/paypal/create_plan",data:{PlanName:e,promotionCode:t}})}function Y(e,t,n,r){return y({method:"GET",url:"/video/load_user_videos",params:{page:t,status:n,sort:e,timestamp:r}})}function Q(e,t){return y({method:"GET",url:"/video/load_video",params:{id:e,key:t||void 0}})}function q(e){return y({method:"POST",url:"/video/delete_video",data:{videoID:e}})}function J(e,t){if(t&&!(t.length<=0))return y({method:"POST",url:"/video/edit/delete_annotate_image",data:{videoID:e,imageKeys:t.join(",")}})}function X(e,t){return y({method:"POST",url:"/video/edit/sign_upload_url_annotate_image",data:{videoID:e,imageKeys:t.join(",")}})}function $(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"annotation",i={actionType:r,videoID:e,baseVersion:t||void 0,key:n||void 0};return y({method:"GET",url:"/video/edit/load_actions",params:i})}function ee(e,t,n){var r={videoID:e,key:n,imageKeys:t.join(",")};return y({method:"POST",url:"/video/edit/load_annotate_images_url",data:r})}function te(e,t,n,r,i,o){return y({method:"POST",url:"/video/edit/action",data:{videoID:e,actionTypeName:t,baseVersion:n||"0",version:r,data:JSON.stringify({actions:i,tracks:o})}})}function ne(e){return y({method:"POST",url:"/video/convert_to_mp4",data:{videoID:e}})}function re(e){return y({method:"GET",url:"/video/get_share_link",params:{id:e}})}function ie(e){return y({method:"POST",url:"/video/revoke_share_link",data:{videoID:e}})}function oe(e){return y({method:"GET",url:"/image/get_share_link",params:{id:e}})}function ae(e){return y({method:"POST",url:"/image/revoke_share_link",data:{imageID:e}})}function ce(e,t){return y({method:"POST",url:"/video/update_title",data:{videoID:e,title:t}})}function se(e){return y({method:"POST",url:"/video/increase_view",data:{videoID:e}})}function le(e){return y({method:"POST",url:"/image/increase_view",data:{imageID:String(e)}})}function ue(e){return y({method:"POST",url:"/video/complete",data:{videoID:e,f:"userClick"}})}function de(e){return y({method:"POST",url:"/user/delete_account",data:{verificationCode:e}})}function fe(e){return y({method:"POST",url:"/video/video_visit_request",data:{videoID:e}})}function me(e){return y({method:"POST",url:"/image/image_visit_request",data:{imageID:e}})}function pe(e){return y({method:"GET",url:"/user/get_billing_history",params:{page:e}})}function he(){return y({method:"GET",url:"/user/get_receipt_info"})}function ve(e){return y({method:"POST",url:"/user/save_receipt_info",data:e})}function ye(e,t){return y({method:"POST",url:"/video/complete",data:{videoName:e,title:t||void 0}})}function ge(e){return l(l({},e),{},{id:e.folderID,itemType:"folder",title:e.name})}function be(){return je.apply(this,arguments)}function je(){return(je=p(c().mark((function e(){var t,n,r,i,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:"GET",url:"/folder/load_user_folders"});case 2:for(t=e.sent,n=0,r=Object.entries(t.folders);n<r.length;n++)i=d(r[n],2),o=i[0],a=i[1],t.folders[o]=a.map(ge);return e.abrupt("return",{folders:t.folders,favoriteFolders:t.favoriteFolders.length?t.favoriteFolders.split(","):[],sort:t.sort});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e,t,n,r,i,o,a){return y({method:"GET",url:"/folder/load_items",params:{page:t,count:20,sort:e,timestamp:r||void 0,shared:i?"yes":void 0,folderID:n||void 0,key:o||void 0,subPage:a||void 0}})}function xe(e,t){return y({method:"POST",url:"/folder/create",data:{name:e,parentID:t}})}function Se(e,t,n,r){return Ie.apply(this,arguments)}function Ie(){return(Ie=p(c().mark((function e(t,n,r,i){var o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({method:"POST",url:"/folder/add_items",data:{folderID:t,videos:n,images:r,folders:i}});case 2:return(o=e.sent).folders=o.folders.map(ge),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t,n){return y({method:"POST",url:"/trash/throw_into",data:{videos:e,images:t,folders:n}})}function Ee(e,t){return y({method:"POST",url:"/folder/change_name",data:{folderID:e,newName:t}})}function Ne(){return y({method:"GET",url:"/trash/load_user_items"})}function De(e){return y({method:"POST",url:"/trash/restore",data:{ids:e}})}function Ae(e){return y({method:"POST",url:"/trash/delete",data:{ids:e}})}function Ce(){return y({method:"GET",url:"/search/load_meta"})}function Pe(e,t,n){return y({method:"POST",url:"/search/load_items",data:{videos:e,images:t,folders:n}})}function ke(e,t,n,r,i,o){var a=new FormData;return a.append("file",t),a.append("title",n),a.append("actionType","website"),i&&a.append("workspaceID",i),o&&a.append("channelID",o),i&&o&&"0"!==e?a.append("channelFolderID",e):a.append("folderID",e),y({method:"POST",url:"/image/upload",data:a,onUploadProgress:function(e){var t,n=Math.round(100*e.loaded/(null!==(t=e.total)&&void 0!==t?t:1/0));r(n)}})}function Te(e){return y({method:"POST",url:"/trash/empty",data:{userID:String(e)}})}function Le(e,t){return(0,i.Z)({method:"GET",url:"/api/v1/user/oauth/login",params:{from:e,referKey:t}})}function _e(e,t,n){return y({method:"GET",url:"/image/load_user_images",params:{page:t,sort:e,timestamp:n}})}function Re(e,t){return Me.apply(this,arguments)}function Me(){return(Me=p(c().mark((function e(t,n){var r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:t,key:n||void 0},e.next=3,y({method:"GET",url:"/image/load",params:r});case 3:return(i=e.sent).image.wcFolder&&(i.image.wcFolder=(0,o.EY)(i.image.wcFolder)),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(e,t){return y({method:"POST",url:"/image/change_title",data:{imageID:e,title:t}})}function Fe(){return y({method:"GET",url:"/team/delete"})}function Ue(e,t,n){return y({method:"GET",url:"/comment/list",params:{key:n,item_id:t,item_type:e,page:1,offset:100}})}function He(e,t,n,r,i){return y({method:"POST",url:"/comment/create",data:{item_type:e,item_id:t,is_emoji:r,timestamp:String(i),content:n}})}function Ge(e){return y({method:"POST",url:"/comment/delete",data:{id:e+""}})}function Be(e,t,n){return y({method:"GET",url:"/comment/list_user",params:{key:n,item_id:t,item_type:e}})}function Ve(e){return y({method:"GET",url:"/folder/load_shared_items",params:{count:20,page:e}})}function ze(){return y({method:"GET",url:"/folder/load_shared_folders"})}function We(){return y({method:"GET",url:"/folder/load_notification"})}function Ke(e){var t=new FormData;return t.append("file",e),y({method:"POST",url:"/user/upload_avatar",data:t})}function Ye(e){return y({method:"POST",url:"/user/stuff",data:{type:e}})}function Qe(){return Ye("chromeFiveStarCancel")}function qe(){return Ye("chromeFiveStarClick")}function Je(){return Ye("chromeFiveStarFeedback")}function Xe(e){return y({method:"POST",url:"/user/update_setting",data:e})}function $e(e){return y({method:"POST",url:"/premium/stripe/create_plan_from_wallet",data:e})}function et(e){return Xe({type:"theme",theme:e})}function tt(e){return y({method:"POST",url:"/user/one_tap_login",data:{token:e}})}function nt(e){return Xe({type:"favoriteFolder",folders:e})}function rt(e){return y({method:"POST",url:"/user/remove_favorite_folder",data:{folderID:e}})}function it(){return y({method:"GET",url:"/workspace/load_user_all"})}function ot(e,t){return y({method:"POST",url:"/workspace/create",data:{name:e,plan:t}})}function at(e,t,n){return y({method:"POST",url:"/workspace/channel/create",data:{workspaceID:e,name:t,description:n}})}function ct(e,t,n){return y({method:"POST",url:"/workspace/member/invite",data:{workspaceID:e,emails:n,channelID:t||void 0}})}function st(e,t,n,r,i,o,a){return y({method:"GET",url:"/workspace/channel/load_items",params:{page:t,count:20,sort:e,workspaceID:n,channelID:r,folderID:"0"===i?void 0:i,timestamp:o||void 0,timestampItemID:a}})}function lt(e,t){var n=e.workspaceID,r=e.channelID,i=e.folderID;return y({method:"POST",url:"/workspace/channel/move_items",data:{workspaceID:n,channelID:r,folderID:i,items:t}})}function ut(e,t){return y({method:"GET",url:"/workspace/channel/load_members",params:{workspaceID:e,channelID:t}})}function dt(e,t,n,r){var i=u({workspaceID:e,channelID:t},n,r);return y({method:"POST",url:"/workspace/channel/meta",data:i})}function ft(e,t,n){var r=u({workspaceID:e},t,n);return y({method:"POST",url:"/workspace/meta",data:r})}function mt(e,t,n){return y({method:"POST",url:"/workspace/channel/transfer",data:{workspaceID:e,channelID:t,newOwnerUID:String(n)}})}function pt(e,t,n){return y({method:"POST",url:"/workspace/channel/quit",data:{workspaceID:e,channelID:t,memberUID:String(n)}})}function ht(e){return y({method:"GET",url:"/workspace/load_channels",params:{workspaceID:e}})}function vt(e){return y({method:"GET",url:"/workspace/load_members",params:{workspaceID:e}})}function yt(e,t,n){return y({method:"GET",url:"/workspace/payment/pricing",params:{workspaceID:e,from:t,promotionCode:n||void 0}})}function gt(e,t,n,r){return y({method:"GET",url:"/workspace/payment/secret",params:{workspaceID:e,from:t,planName:n,promotionCode:r||void 0}})}function bt(e,t,n){return y({method:"POST",url:"/workspace/payment/create",data:{workspaceID:e,intentID:t,paymentMethod:n}})}function jt(e,t,n){return y({method:"POST",url:"/workspace/payment/lite_upgrade",data:{workspaceID:e,intentID:t,paymentMethod:n}})}function wt(e,t){return y({method:"POST",url:"/workspace/member/invite_link",data:{workspaceID:e,channelID:t||void 0}})}function xt(e,t){return y({method:"POST",url:"/workspace/channel/join",data:{workspaceID:e,channelID:t}})}function St(e){return y({method:"GET",url:"/workspace/member/invite_info",params:{key:e}})}function It(e){return y({method:"POST",url:"/workspace/member/join_by_key",data:{inviteKey:e}})}function Ot(e){return y({method:"GET",url:"/workspace/payment/billing",params:{workspaceID:e}})}function Et(){return y({method:"GET",url:"/user/notification/load"})}function Nt(e){return y({method:"POST",url:"/user/notification/read",data:{notificationID:e}})}function Dt(){return y({method:"POST",url:"/user/notification/read_all"})}function At(e,t,n){return y({method:"POST",url:"/workspace/channel/add_members",data:{workspaceID:e,channelID:t,memberUIDs:n}})}function Ct(e,t,n){return y({method:"POST",url:"/workspace/member/change_role",data:{workspaceID:e,memberID:t,role:n}})}function Pt(e,t){var n={workspaceID:e,memberUID:t?String(t):void 0};return y({method:"POST",url:"/workspace/member/quit",data:n})}function kt(e,t,n){return y({method:"POST",url:"/workspace/channel/quit",data:{workspaceID:e,channelID:t,memberUID:n||void 0}})}function Tt(e,t){return y({method:"POST",url:"/workspace/channel/delete",data:{workspaceID:e,channelID:t}})}function Lt(e){return y({method:"POST",url:"/workspace/delete",data:{workspaceID:e}})}function _t(e,t,n){return y({method:"POST",url:"/workspace/channel/delete_item",data:{workspaceID:e,channelID:t,channelItemID:n}})}function Rt(e){var t=e.workspaceID,n=e.channelID,r=e.id,i=e.folderID;return y({method:"POST",url:"/workspace/channel/return_item",data:{workspaceID:t,channelID:n,folderID:i,channelItemID:r}})}function Mt(){return(0,i.Z)({method:"GET",url:"/web/user/logout"})}function Zt(e,t,n){return y({method:"POST",url:"/workspace/notify",data:{workspaceID:t,type:e,channelID:n||void 0}})}function Ft(e,t){return y({method:"GET",url:"/workspace/payment/billing_log",params:{workspaceID:e,startingAfter:t||void 0}})}function Ut(e,t,n){return y({method:"POST",url:"/workspace/payment/renew",data:{workspaceID:e,intentID:t,paymentMethod:n}})}function Ht(e,t){return y({method:"POST",url:"/workspace/payment/update_card",data:{workspaceID:e,paymentMethod:t}})}function Gt(e){return y({method:"POST",url:"/workspace/payment/cancel",data:{workspaceID:e}})}function Bt(e){return y({method:"POST",url:"/workspace/payment/upgrade",data:{workspaceID:e}})}function Vt(e,t){return y({method:"POST",url:"/workspace/payment/resubscribe",data:{workspaceID:e,planName:t}})}function zt(e){return y({method:"POST",url:"/workspace/payment/pay",data:{workspaceID:e}})}function Wt(e){return y({method:"GET",url:"/workspace/info",params:{workspaceID:e}})}function Kt(e,t,n,r){return y({method:"POST",url:"/workspace/payment/transfer",data:{workspaceName:e,channelName:t,channelDescription:n,paymentMethod:r}})}function Yt(e){return y({method:"GET",url:"/workspace/payment/get_customer_info",params:{workspaceID:e}})}function Qt(e){return y({method:"POST",url:"/workspace/payment/update_customer",data:e})}function qt(e,t){return y({method:"POST",url:"/video/convert_webm_for_view",data:{videoID:e,shareKey:t||void 0}})}function Jt(e,t){return y({method:"POST",url:"/folder/change_description",data:{description:t,folderID:e}})}function Xt(e){return y({method:"POST",url:"/folder/get_share_key",data:{folderID:e}})}function $t(e){return y({method:"POST",url:"/folder/revoke_share_key",data:{folderID:e}})}function en(e,t){return y({method:"GET",url:"/folder/load_info",params:{folderID:e,key:t||void 0}})}function tn(e,t){return y({method:"GET",url:"/premium/stripe/secret",params:{planName:e,promotionCode:t}})}function nn(e,t){return y({method:"POST",url:"/premium/stripe/create_plan",data:{intentID:e,paymentMethod:t}})}function rn(){return y({method:"GET",url:"/user/setup_intent"})}function on(){return y({method:"GET",url:"/premium/stripe/renew_plan"})}function an(){return y({method:"GET",url:"/refer/load_invite_link"})}function cn(){return y({method:"GET",url:"/refer/load_referrals"})}function sn(e){return y({method:"POST",url:"/refer/send_email_invitation",data:{email:e}})}function ln(e){return y({method:"POST",url:"/refer/active_gift",data:{referralID:e}})}function un(){return y({method:"GET",url:"/user/permission"})}function dn(e){return y({method:"GET",url:"/refer/check_accept",params:{referKey:e}})}function fn(e){return mn.apply(this,arguments)}function mn(){return(mn=p(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y({method:"POST",url:"/folder/download",timeout:6e4,data:{folderID:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e){return hn.apply(this,arguments)}function hn(){return(hn=p(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y({method:"POST",url:"folder/download_info",data:{folderID:t}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vn(e,t,n,r,i){return yn.apply(this,arguments)}function yn(){return(yn=p(c().mark((function e(t,n,r,i,a){var s,l;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={imageID:t,shareKey:n,folderID:r,workspaceID:i||void 0,channelID:a||void 0},e.next=3,y({method:"POST",url:"/image/copy",data:s});case 3:return"info"in(l=e.sent).image&&l.image.info.wcFolder&&(l.image.info.wcFolder=(0,o.EY)(l.image.info.wcFolder)),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gn(){return bn.apply(this,arguments)}function bn(){return bn=p(c().mark((function e(){var t,n=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(n.length>0&&void 0!==n[0])||n[0],e.abrupt("return",y({method:"POST",url:"/user/stuff",data:{type:"userGuideClose",value:String(t)}}));case 2:case"end":return e.stop()}}),e)}))),bn.apply(this,arguments)}function jn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=p(c().mark((function e(t,n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){return Object.entries(e).filter((function(e){var t=d(e,2);t[0];return t[1]})).map((function(e){return d(e,1)[0]})).join(",")},e.abrupt("return",y({method:"POST",url:"/user/stuff",data:{type:"userGuideComplete",guideStep:r(t)+"|"+r(n)}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(){return Sn.apply(this,arguments)}function Sn(){return(Sn=p(c().mark((function e(){var t,n,r,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=function(e){var t=d(e.split("|"),2),n=t[0],r=void 0===n?"":n,i=t[1],o=void 0===i?"":i;return[Object.fromEntries(r.split(",").filter(Boolean).map((function(e){return[e,!0]}))),Object.fromEntries(o.split(",").filter(Boolean).map((function(e){return[e,!0]})))]},e.next=3,y({method:"GET",url:"/user/stuff_load",params:{type:"userGuide"}});case 3:return i=e.sent,e.abrupt("return",r(null!==(t=null==i||null===(n=i.userGuide)||void 0===n?void 0:n.guideComplete)&&void 0!==t?t:"|"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function In(e,t){return(0,i.Z)({method:"POST",url:"/api/v1/user/token_login",data:{userID:e,authorization:t}})}function On(e){var t=e.workspaceID,n=e.channelID,r=e.page;return y({method:"GET",url:"workspace/activity",params:{workspaceID:t,channelID:n,page:r}})}function En(e){return y({method:"GET",url:"workspace/member/profile",params:{workspaceID:e}})}function Nn(e){var t=e.workspaceID,n=e.nickname,r=e.introduction;return y({method:"POST",url:"/workspace/member/update_profile",data:{workspaceID:t,nickname:n,introduction:r}})}function Dn(e,t){var n=new FormData;return n.append("file",e),n.append("workspaceID",t),y({method:"POST",url:"/workspace/member/upload_avatar",data:n})}y.interceptors.request.use((function(e){return e}),(function(){return r.ZP.error("Network error, Request timeout!"),Promise.reject()})),y.interceptors.response.use((function(e){var t=e.data,n=e.config;if(t&&1===t.code)return Promise.resolve(t.data);if(1e3==t.code&&"/pricing"!==window.location.pathname)window.location.href="/signin?redirect="+window.location.href;else{if(2001===t.code)return Promise.reject(t);if(1201===t.code)return Promise.reject(t);if(t.msg){if(n.url&&v.includes(n.url))return Promise.reject(t.msg);if(r.ZP.error(t.msg),"/pricing"!==window.location.pathname)return Promise.reject(t.msg)}}}),(function(e){if(e.response){var t=e.response.status;r.ZP.error("Network error! Error Code "+t)}return Promise.reject(e)}))},43087:(e,t,n)=>{n.d(t,{$2:()=>v,$T:()=>k,EY:()=>h,HW:()=>E,KS:()=>I,OT:()=>L,YX:()=>Z,_n:()=>C,aq:()=>R,h5:()=>D,mw:()=>g,oi:()=>x,qz:()=>j});var r=n(4976);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof p?t:p,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var m={};function p(){}function h(){}function v(){}var y={};u(y,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(D([])));b&&b!==t&&n.call(b,o)&&(y=b);var j=v.prototype=p.prototype=Object.create(y);function w(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,o,a,c){var s=f(e[r],e,o);if("throw"!==s.type){var u=s.arg,d=u.value;return d&&"object"==l(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===m)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=f(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===m)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var i=f(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return h.prototype=v,r(j,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:h,configurable:!0}),h.displayName=u(v,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},e.awrap=function(e){return{__await:e}},w(x.prototype),u(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(j),u(j,c,"Generator"),u(j,o,(function(){return this})),u(j,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},e}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,c,"next",e)}function c(e){u(o,r,i,a,c,"throw",e)}a(void 0)}))}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return m({itemType:"folder",id:e.folderID,title:e.name},e)}function v(e,t){return y.apply(this,arguments)}function y(){return(y=d(s().mark((function e(t,n){var i,o,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.workspaceID,o=t.channelID,a=t.folderID,c=n.name,l=n.description,e.next=4,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/create",data:{workspaceID:i,channelID:o,parentID:a,name:c,description:l}});case 4:return u=e.sent,e.abrupt("return",h(u.folder));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return b.apply(this,arguments)}function b(){return(b=d(s().mark((function e(t,n){var i,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,r.eE4)("/workspace/channel/folder/all",{params:{workspaceID:t,channelID:n}});case 2:return i=e.sent,a=Object.fromEntries(Object.entries(i.folders).map((function(e){var t=o(e,2),n=t[0],r=t[1];return[n,null==r?void 0:r.map(h)]}))),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return w.apply(this,arguments)}function w(){return w=d(s().mark((function e(t){var n,i,o,a=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},i=a.length>2?a[2]:void 0,e.next=4,(0,r.eE4)({method:"get",url:"/workspace/channel/load_items",params:m(m(m({},t),{},{folderID:"0"===t.folderID?void 0:t.folderID},n),{},{folderShareKey:i})});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function x(e,t){return S.apply(this,arguments)}function S(){return(S=d(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.workspaceID,o=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/change_name",data:{workspaceID:i,channelID:o,folderID:a,newName:n}});case 3:return c=e.sent,e.abrupt("return",h(c.folder));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return O.apply(this,arguments)}function O(){return(O=d(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.workspaceID,o=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/change_description",data:{workspaceID:i,channelID:o,folderID:a,description:n}});case 3:return c=e.sent,e.abrupt("return",h(c.folder));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return N.apply(this,arguments)}function N(){return(N=d(s().mark((function e(t){var n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceID,i=t.channelID,o=t.folderID,e.abrupt("return",(0,r.eE4)({method:"post",url:"/workspace/channel/folder/remove",data:{workspaceID:n,channelID:i,folderID:o}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return A.apply(this,arguments)}function A(){return(A=d(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.workspaceID,o=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/move",data:{workspaceID:i,channelID:o,parentID:a,folders:n.map((function(e){return e.id})).join(",")}});case 3:return(c=e.sent).folders=c.folders.map(h),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return P.apply(this,arguments)}function P(){return(P=d(s().mark((function e(t){var n,i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceID,i=t.channelID,o=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/folder/get_share_key",data:{workspaceID:n,channelID:i,folderID:o}});case 3:return a=e.sent,e.abrupt("return",a.shareKey);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return T.apply(this,arguments)}function T(){return(T=d(s().mark((function e(t){var n,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.workspaceID,i=t.channelID,o=t.folderID,e.abrupt("return",(0,r.eE4)({method:"post",url:"/workspace/channel/folder/revoke_share_key",data:{workspaceID:n,channelID:i,folderID:o}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return _.apply(this,arguments)}function _(){return(_=d(s().mark((function e(t,n){var o,a,c,l,u,d,f,m,p,v;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.workspaceID,a=t.channelID,c=t.folderID,e.next=3,(0,r.eE4)({method:"post",url:"/workspace/channel/move_items",data:{workspaceID:o,channelID:a,folderID:c,items:n.map((function(e){return"".concat(e.itemType,"-").concat(e.itemID)})).join(", ")}});case 3:l=e.sent,u=l.channel,d=l.workspace,(f=l.folder)&&(l.folder=h(f)),m=i(l.items);try{for(m.s();!(p=m.n()).done;)v=p.value,Object.assign(v.info,{channel:u,workspace:d,wcFolder:l.folder,channelItemId:v.id,isChannelMember:u.isMember})}catch(e){m.e(e)}finally{m.f()}return e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return M.apply(this,arguments)}function M(){return(M=d(s().mark((function e(t,n){var i,o,a,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.workspaceID,o=t.channelID,a=t.folderID,e.next=3,(0,r.eE4)({method:"get",url:"/workspace/channel/folder/info",params:{workspaceID:i,channelID:o,folderID:a,key:n}});case 3:return c=e.sent,e.abrupt("return",Object.assign(c,{folder:h(c.folder),parentFolders:c.parentFolders.map(h),subFolders:c.subFolders.map(h)}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return F.apply(this,arguments)}function F(){return(F=d(s().mark((function e(t,n){var i,o,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.workspaceID,o=t.channelID,a=t.id,e.abrupt("return",(0,r.eE4)({url:"/workspace/channel/rename_item",method:"post",data:{workspaceID:i,channelID:o,channelItemID:a,title:n}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},59985:(e,t,n)=>{n.d(t,{Z:()=>H});n(85624);var r=n(71577),i=n(67294),o=n(56262),a=n(20348),c=n(92807),s=n(85469),l=n(67618),u=(n(91324),n(45777)),d=n(85893);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const p=function(e){var t=e.title,n=e.children,r=e.onClick,o=f((0,i.useState)(!1),2),a=o[0],c=o[1];return(0,d.jsx)(u.Z,{title:t,onClick:function(){c(!1)},onVisibleChange:c,mouseEnterDelay:.5,visible:a,children:(0,d.jsx)("div",{className:"action-btn comment-action-btn",onClick:r,children:n})})};var h=n(73935),v=n(47481);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=(0,i.lazy)((function(){return Promise.all([n.e(466),n.e(341)]).then(n.bind(n,87341))}));const j=function(e){var t=e.onSelect,n=y((0,i.useState)(!1),2),r=n[0],o=n[1],a=y((0,i.useState)({left:0,top:0}),2),c=a[0],s=a[1],f=(0,i.useRef)(null),m=(0,i.useRef)();function p(e){var t=e.target;(0,l.IY)(t,".emoji-picker")||o(!1)}function g(){j()}function j(){var e=f.current.getBoundingClientRect().left;e+320>=document.documentElement.offsetWidth&&(e-=e+320-document.documentElement.offsetWidth+10);var t=f.current.getBoundingClientRect().top+document.scrollingElement.scrollTop+-426;s({left:e,top:t})}(0,i.useEffect)((function(){return r?(document.documentElement.addEventListener("click",p,!1),window.addEventListener("resize",g,!1)):(document.documentElement.removeEventListener("click",p,!1),window.removeEventListener("resize",g,!1)),function(){document.documentElement.removeEventListener("click",p,!1),window.removeEventListener("resize",g,!1)}}),[r]);var w=function(e){e.stopPropagation(),j(),m.current={width:window.innerWidth,height:window.innerHeight},o(!r)};return(0,d.jsxs)("div",{className:"emoji-btn-wrapper",children:[r?(0,d.jsx)("div",{className:"emoji-btn ".concat(r?"active":""),ref:f,onClick:w,children:(0,d.jsx)(v.O9,{})}):(0,d.jsx)(u.Z,{title:"Emoji",mouseEnterDelay:.5,children:(0,d.jsx)("div",{className:"emoji-btn ".concat(r?"active":""),ref:f,onClick:w,children:(0,d.jsx)(v.O9,{})})}),r&&(0,h.createPortal)((0,d.jsx)("div",{style:{position:"absolute",left:"0",top:"0",width:"100%"},children:(0,d.jsx)("div",{className:"as-emoji-picker",style:{position:"absolute",zIndex:"1000",left:c.left,top:c.top},children:(0,d.jsx)(i.Suspense,{fallback:(0,d.jsx)("div",{className:"emoji-loading",children:"Loading Emojis..."}),children:(0,d.jsx)(b,{handleOnSelect:function(e){t(e.native),o(!r)}})})})}),document.body)]})};var w=n(3432);var x={createComment:c.Yr};const S=(0,o.$j)((function(e){return{isCreating:e.comment.isCreating,userList:e.comment.userList}}),x)((function(e){var t=e.onCancel,n=e.itemType,o=e.itemId,a=e.isCreating,c=e.mentionUser,u=e.userList,f=e.createComment,m=e.onCreateCommentFinish,h=e.currentVideoTime,y=(0,i.useRef)();(0,i.useEffect)((function(){if(c){var e={id:c.userID,value:c.userName};setTimeout((function(){y.current.addMention(e)}),100)}}),[c]);var g=(0,i.useMemo)((function(){var e=u.map((function(e){return{id:e.userID,value:e.fullName,avatar:e.userAvatar}}));return e.length>1&&e.unshift({id:"-1",value:"All"}),e}),[u]);return(0,d.jsxs)("div",{className:"comment-input",children:[(0,d.jsx)(w.Z,{ref:y,defaultMentionUsers:c,mentionUsers:g}),(0,d.jsxs)("div",{className:"action-bar",children:[(0,d.jsxs)("div",{className:"action-btns",children:[(0,d.jsx)(j,{onSelect:function(e){y.current.addEmoji(e)}}),(0,d.jsx)(p,{title:"Mention someone",onClick:function(){y.current.addAt()},children:(0,d.jsx)(v.lO,{})})]}),(0,d.jsxs)("div",{className:"comment-btns",children:[!a&&(0,d.jsx)("a",{className:"cancel-btn",onClick:t,children:"Cancel"}),(0,d.jsx)(r.Z,{type:"primary",onClick:function(){var e=y.current.getContent(),t=(0,l.Er)(e);f(n,o,t,"0",c?c.timestamp:h,(function(){m()}))},loading:a,children:n!==s.Z$.video?"Comment":c?"Reply":h?"Comment at "+(0,l.z7)(h):void 0})]})]})]})}));n(47386);var I=n(48889),O=n(94184),E=n.n(O),N=n(27856),D=n.n(N),A=n(99096),C=D().sanitize;function P(e,t){var n=e.comment,r=e.type,i=e.isSelf,o=e.isOwner,a=e.handleSeekTo,c=e.handleReply,u=e.handleDelete,f=o?i?"delete":"delete & reply":i?"delete":"reply",m=E()("comment-item",{new:0!==n.isNew});return(0,d.jsxs)("div",{className:m,ref:t,onAnimationEnd:function(e){e.target.classList.remove("selected-animate")},children:[(0,d.jsxs)("div",{className:"comment-actions",children:[/delete/.test(f)&&(0,d.jsx)("div",{className:"comment-action-btn delete",onClick:function(){var e;e=n.id,I.Z.confirm({title:"Are you sure you want to delete this comment?",content:"",onOk:function(){u(e)},okText:"Delete",okType:"danger"})},children:"Delete"}),/reply/.test(f)&&(0,d.jsx)("div",{className:"comment-action-btn",onClick:function(){c({uid:n.userID,userName:n.userName,userID:n.userID,timestamp:n.timestamp})},children:"Reply"})]}),(0,d.jsx)("div",{className:"avatar",children:(0,d.jsx)(A.Z,{username:n.userName,avatarUrl:n.userAvatar,size:"30"})}),(0,d.jsxs)("div",{className:"content-area",children:[(0,d.jsxs)("div",{className:"name-area",children:[(0,d.jsx)("div",{className:"name",children:n.userName}),r===s.Z$.video&&(0,d.jsxs)("span",{className:"video-time",onClick:function(){a(n.timestamp)},children:["at"," ",(0,d.jsx)("span",{className:"time-text",children:(0,l.z7)(n.timestamp)})]})]}),(0,d.jsx)("div",{className:"content",children:(0,d.jsx)("span",{dangerouslySetInnerHTML:{__html:C(n.content,{ADD_ATTR:["target"]})}})}),(0,d.jsx)("div",{className:"time",children:(0,l.Hu)(n.createTime)})]})]})}const k=(0,i.memo)((0,i.forwardRef)(P));var T=n(71853),L=n(23427),_=n(11572),R=n(45384);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F(e,t){var n=e.loadCommentUserList,o=e.userinfo,c=e.isOwner,s=e.comments,l=e.isCommentLoading,u=e.currentVideoTime,f=e.onCommentStart,m=e.itemType,p=e.itemId,h=e.shareKey,y=e.height,g=e.handleSeekTo,b=e.deleteComment,j=e.removeCommentMentioned,w=e.isInChannel,x=e.userList,I=e.channel,O=e.isUserListLoading,E=e.goToSignIn,N=M((0,i.useState)((function(){return w})),2),D=N[0],A=N[1],C=M((0,i.useState)(null),2),P=C[0],Z=C[1],F=(0,i.useRef)(),U=(0,i.useRef)({}),H=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return{scrollTo:G,getIsShowInput:function(){return D}}})),(0,i.useEffect)((function(){n(m,p,h)}),[]),(0,i.useEffect)((function(){var e;return s.forEach((function(e){var t,n;return(t=U.current)[n=e.id]||(t[n]=(0,i.createRef)())})),s.filter((function(e){return 1===e.isNew})).length>0&&(e=setTimeout((function(){H.current.scrollToIndex(s.length)}),200)),function(){return clearTimeout(e)}}),[s.length]);var G=function(e){var t=s.findIndex((function(t){return t.id===e}));H.current.scrollToIndex({index:t,align:"start"}),setTimeout((function(){U.current[e].classList.add("selected-animate")}),100)},B=(0,R.t)((function(e){o.uid?(Z(e),A(!0)):z()})),V=(0,i.useCallback)((function(e){b(m,p,e)}),[]),z=function(){window.location.href="/signin?redirect="+window.location.href+"&from=comment"},W=s.filter((function(e){return 1===e.isMention}));return(0,d.jsx)("div",{className:"comment-container",style:{height:y},children:l?(0,d.jsx)("div",{className:"comment-loading",children:(0,d.jsx)(T.Z,{})}):(0,d.jsxs)(d.Fragment,{children:[0===s.length?(0,d.jsx)("div",{className:"no-comment",children:(0,d.jsxs)("div",{className:"no-comment-box",children:[(0,d.jsx)("div",{className:"no-comment-pic"}),!O&&(0,d.jsx)(d.Fragment,{children:x.length>0||!w?(0,d.jsx)("div",{className:"no-comment-title",children:"No comments yet."}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"no-comment-desc",children:"Can’t wait to hear other people’s thoughts? Invite people to discuss with you."}),(0,d.jsx)(_.Z,{render:function(e,t,n){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r.Z,{type:"primary",onClick:t,children:[(0,d.jsx)(v.dt,{}),"invite"]}),(0,d.jsx)(L.Z,{visible:e,channel:I,onCancel:n})]})}})]})})]})}):(0,d.jsxs)(d.Fragment,{children:[W.length>0&&(0,d.jsxs)("div",{className:"mentioned-tip",onClick:function(){var e=W[0].id;G(e),j({itemType:m,itemId:p,id:e})},children:[(0,d.jsx)(v.xR,{}),W.length," ",W.length>1?"comments":"comment"," ","mentioned you"]}),(0,d.jsx)("div",{className:"comment-box",ref:F,children:(0,d.jsx)(a.OO,{style:{height:"100%"},ref:H,className:"virtuoso-box",totalCount:s.length,itemContent:function(e){var t=s[e];return(0,d.jsx)(k,{type:m,ref:function(e){return U.current[t.id]=e},comment:t,handleSeekTo:g,handleReply:B,handleDelete:V,isSelf:o.uid===t.userID,isOwner:c},t.id)}})})]}),(0,d.jsxs)("div",{className:"send-area",children:[s.length>0&&0===x.length&&w&&(0,d.jsx)(_.Z,{render:function(e,t,n){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"invite-area",onClick:t,children:["Invite people to discuss with you.",(0,d.jsx)(r.Z,{shape:"circle",icon:(0,d.jsx)(v.pF,{}),type:"primary"})]}),(0,d.jsx)(L.Z,{visible:e,channel:I,onCancel:n})]})}}),D?(0,d.jsx)(S,{itemType:m,itemId:p,onCancel:function(){A(!1),Z(null)},mentionUser:P,onCreateCommentFinish:function(){A(!1),Z(null),setTimeout((function(){H.current.scrollToIndex(s.length)}),200)},currentVideoTime:u,isInChannel:w}):(0,d.jsx)(d.Fragment,{children:o.uid?(0,d.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:function(){A(!0),null==f||f()},children:"Leave a comment"}):(0,d.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:E,children:"Sign in to leave a comment"})})]})]})})}var U={loadCommentUserList:c.Mj,deleteComment:c.YF,removeCommentMentioned:c.xF};const H=(0,o.$j)((function(e,t){return{userinfo:e.user.info,comments:e.comment.comments[t.itemType+t.itemId]||[],userList:e.comment.userList,isUserListLoading:e.comment.isUserListLoading}}),U,null,{forwardRef:!0})((0,i.forwardRef)(F))},71853:(e,t,n)=>{n.d(t,{Z:()=>o});n(42738);var r=n(7085),i=n(85893);const o=function(e){var t=e.size;return(0,i.jsx)("div",{className:"container-loading ".concat(null!=t?t:""),children:(0,i.jsx)(r.Z,{})})}},95411:(e,t,n)=>{n.d(t,{Z:()=>d});n(91324);var r=n(45777),i=n(94184),o=n.n(i),a=n(67294),c=n(96974),s=n(47481),l=n(85893);function u(e){var t=e.folder,n=e.clickable,i=e.count,a=e.shareKey,u=e.noShareIcon,d=(0,c.s0)(),f=o()("crumb-item",{clickable:n}),m=Math.floor((30*(i-1)+92)/(i-1))+36,p=Math.floor(100/(i-1)),h={maxWidth:"My Items"===t.name?"92px":"calc("+p+"% - "+m+"px)"};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.Z,{title:t.name,mouseEnterDelay:.5,children:(0,l.jsxs)("div",{className:f,style:h,onClick:function(){n&&("0"===String(t.folderID)?d("/my_items"):d(a?"/s/folder/".concat(t.folderID,"/").concat(a):"/folder/".concat(t.folderID)))},children:[!n&&(0,l.jsxs)("div",{className:"folder-icon",children:[t.isInStarred?(0,l.jsx)(s.wn,{}):(0,l.jsx)(s.RO,{}),!u&&t.shareKey&&(0,l.jsx)("div",{className:"shared-badge",children:(0,l.jsx)(s.Od,{})})]}),t.name]})}),n&&(0,l.jsx)("div",{className:"crumb-sep",children:(0,l.jsx)(s.e0,{})})]})}const d=(0,a.memo)(u)},63173:(e,t,n)=>{n.d(t,{Z:()=>u});n(91324);var r=n(45777),i=n(94184),o=n.n(i),a=n(67294),c=n(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t=e.text,n=e.className,i=e.width,l=e.onClick,u=e.isHtml,d=s((0,a.useState)(!1),2),f=d[0],m=d[1],p=(0,a.useRef)(null);function h(){var e=p.current;m(e.scrollWidth>e.offsetWidth)}var v=o()("ellipsis-text",n);return(0,c.jsx)(r.Z,{title:f?t:"",mouseLeaveDelay:0,mouseEnterDelay:.3,children:u?(0,c.jsx)("span",{className:v,style:{maxWidth:i},ref:p,onClick:l,onMouseEnter:h,dangerouslySetInnerHTML:{__html:t}}):(0,c.jsx)("span",{className:v,style:{maxWidth:i},ref:p,onClick:l,onMouseEnter:h,children:t})})}},36450:(e,t,n)=>{n.d(t,{Z:()=>y});n(85624);var r=n(71577),i=(n(79133),n(32787)),o=(n(50626),n(48086)),a=(n(15285),n(71257)),c=n(38819),s=n(67294),l=n(4976),u=n(83417),d=n(67618),f=n(21862),m=n(47481),p=n(85893);function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const y=function(e){var t=e.channel,n=e.workspaceID,v=e.afterInvite,y=h((0,s.useState)(1),2),g=y[0],b=y[1],j=h((0,s.useState)(!1),2),w=j[0],x=j[1],S=h((0,s.useState)(!1),2),I=S[0],O=(S[1],h(a.Z.useForm(),1)[0]),E=h((0,u.Z)(),5),N=E[0],D=E[1],A=E[2],C=E[3],P=E[4],k=(0,d.vA)(g);return(0,p.jsxs)("div",{className:"email-invite-form",children:[I?(0,p.jsxs)("div",{className:"finish-tip",children:[(0,p.jsx)(c.Z,{}),(0,p.jsx)("div",{children:"Invitations has been sent."})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(a.Z,{onFinish:function(e){var r=[];for(var i in e)r.push(e[i]);var a=r.join(",");if(""!==a){x(!0);var c=t?t.id:"",s=n||t.workspaceID;(0,l.d5$)(s,c,a).then((function(){x(!1),o.ZP.success("Invitations have been sent successfully."),O.resetFields(),v&&v()})).catch((function(e){void 0!==e.isOwner&&(P(e.isOwner),D(!0))}))}},name:"email-invite",form:O,children:[k.map((function(e,t){return(0,p.jsx)(a.Z.Item,{name:e,children:(0,p.jsx)(i.Z,{size:"large",type:"email",placeholder:"Email",autoComplete:"chrome-off",name:"email"+t},e)},e)})),(0,p.jsxs)("a",{className:"add-email",onClick:function(){b(g+1)},children:[(0,p.jsx)(m.dt,{})," Add another"]}),(0,p.jsx)(r.Z,{htmlType:"submit",block:!0,loading:w,size:"large",type:"primary",children:"Send invitation"})]}),(0,p.jsx)("div",{className:"invite-link",children:(0,p.jsxs)("a",{onClick:function(){var e="inviteLink";o.ZP.loading({content:"Generating invite link",key:e});var r=t?t.id:"",i=n||t.workspaceID;(0,l.Myt)(i,r).then((function(t){(0,d.zp)(window.location.origin+"/workspace/invite/"+t.inviteKey),o.ZP.success({content:"Invite link has been copied to your clipboard successfully.",key:e})}))},children:[(0,p.jsx)(m.Od,{}),"Get a shareable invite link instead"]})})]}),(0,p.jsx)(f.Z,{visible:N,onCancel:A,isOwner:C,workspaceID:n,type:"memberJoin"})]})}},62734:(e,t,n)=>{n.d(t,{Z:()=>y});n(85624);var r=n(71577),i=(n(11947),n(38648)),o=n(67294),a=n(56262),c=n(32250),s=n(55087),l=n(4976),u=n(79993),d=n(41721),f=n(85893);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=/Edg/.test(window.navigator.userAgent);var v={clickFiveStarAction:s.JF};const y=(0,a.$j)((function(e){return{userinfo:e.user.info,permissions:e.user.permissions}}),v)((function(e){var t=e.userinfo,n=e.permissions,a=e.isInApp,s=e.isFailed,p=e.type,v=e.clickFiveStarAction,y=m((0,o.useState)(!1),2),g=y[0],b=y[1],j=(0,o.useRef)(!1);(0,c.D)(n.showChromeFiveStar),(0,o.useEffect)((function(){j.current||!0!==n.showChromeFiveStar||!u.Z.isChrome()&&!h||a||"video"===p&&(void 0===s||s)||(D(),j.current=!0)}),[n,s]);var w=function(){O("clickNo"),i.Z.destroy()},x=function(e,t){i.Z.open({key:"fivestar",className:"five-star-promotion",placement:"bottomRight",duration:0,style:{width:435,marginLeft:-80},message:e,description:t,onClose:w})},S=function(){var e=h?"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo":"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj/reviews";window.open(e),O("fivestar"),i.Z.destroy()},I=function(){b(!0),O("feedback"),i.Z.destroy()},O=function(e){switch(e){case"clickNo":(0,l.wWy)();break;case"fivestar":(0,l.GvO)();break;case"feedback":(0,l.Zaq)()}v()},E=function(){x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"title",children:[(0,f.jsx)("div",{className:"icon"}),"User Satisfaction Survey"]}),(0,f.jsx)("div",{className:"content",children:"Your review means a lot to us. Would you mind taking a moment to rate the extension in the Web Store?"}),(0,f.jsxs)("div",{className:"btn-area",children:[(0,f.jsx)(r.Z,{style:{width:"236px",marginRight:"20px"},type:"primary",onClick:S,children:"Sure, take me to the Web Store."}),(0,f.jsx)(r.Z,{style:{width:"100px"},onClick:w,children:"No, thanks."})]})]}))},N=function(){x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"title",children:[(0,f.jsx)("div",{className:"icon"}),"User Satisfaction Survey"]}),(0,f.jsx)("div",{className:"content",children:"Would you like to report any issues you're experiencing or give us some suggestions so that we can make the extension better for you?"}),(0,f.jsxs)("div",{className:"btn-area",children:[(0,f.jsx)(r.Z,{style:{width:"240px",marginRight:"20px"},type:"primary",onClick:I,children:"Sure, take me to feedback."}),(0,f.jsx)(r.Z,{style:{width:"100px"},onClick:w,children:"No, thanks."})]})]}))},D=function(){x((0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:"title",children:[(0,f.jsx)("div",{className:"icon"}),"User Satisfaction Survey"]}),(0,f.jsxs)("div",{className:"content",children:["Hi ",t.fullName,", Are you enjoying Awesome Screenshot?"]}),(0,f.jsxs)("div",{className:"btn-area",children:[(0,f.jsx)(r.Z,{onClick:E,type:"primary",ghost:!0,children:"Yes!"}),(0,f.jsx)(r.Z,{type:"primary",ghost:!0,onClick:N,children:"Not really"})]})]}),(0,f.jsx)(f.Fragment,{}))};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.r,{visible:g,onCancel:function(){b(!1)}})})}))},73732:(e,t,n)=>{n.d(t,{Z:()=>l});n(91938);var r=n(94184),i=n.n(r),o=n(67294),a=n(97957),c=n(85893);function s(e){var t=i()("item-area",{compact:"compact"===e.type});return(0,c.jsxs)("div",{className:t,children:[e.subTitle&&(0,c.jsx)("div",{className:"subtitle",children:e.subTitle}),(0,c.jsxs)(a.Z,{children:[e.children,(0,c.jsx)("div",{className:"placeholder"}),(0,c.jsx)("div",{className:"placeholder"}),(0,c.jsx)("div",{className:"placeholder"})]})]})}const l=(0,o.memo)(s)},97957:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(67294),i=n(85893);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(e){var t=e.children,n=o((0,r.useState)("small"),2),a=n[0],c=n[1],s=(0,r.useRef)(null);function l(){var e=document.querySelector(".channel-grid-item")||document.querySelector(".trash-item.item")||document.querySelector(".shared-grid-item")||document.querySelector(".grid-item");if(e){var t=e.offsetWidth;c(t<320?"small":t>320&&t<330?"medium":"large")}}(0,r.useEffect)((function(){var e=new ResizeObserver(l);return e.observe(s.current),function(){return e.disconnect()}}),[]),(0,r.useEffect)(l,[t]);var u="item-box grid-box ".concat(a);return(0,i.jsx)("div",{className:u,ref:s,children:t})}},13924:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(85893);const i=function(){return(0,r.jsxs)("div",{className:"item-detail-skeleton",children:[(0,r.jsxs)("div",{className:"item-detail-skeleton-item-container",children:[(0,r.jsx)("div",{className:"item-detail-skeleton-item",children:(0,r.jsx)("div",{className:"item-detail-skeleton-item-box"})}),(0,r.jsx)("div",{className:"item-detail-skeleton-sidebar"})]}),(0,r.jsxs)("div",{className:"item-detail-skeleton-title",children:[(0,r.jsx)("div",{className:"item-detail-skeleton-title-inner"}),(0,r.jsxs)("div",{className:"item-detail-skeleton-title-extra",children:[(0,r.jsx)("div",{className:"item-detail-skeletion-avatar"}),(0,r.jsx)("div",{className:"item-detail-skeletion-username"})]})]})]})}},37822:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(50308),i=n.n(r),o=n(94184),a=n.n(o),c=n(67294),s=n(56262),l=n(71436),u=n(15322),d=n(543),f=n(20722),m=n(85893);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={renameImage:u.I5,renameVideo:d.mU,renameChannelItem1:l.y7};const y=(0,s.$j)(null,v)((function(e){var t=e.item,n=e.renameImage,r=e.renameVideo,o=e.renameChannelItem1,s=p((0,c.useState)(!1),2),l=s[0],u=s[1],d=p((0,c.useState)(t.title),2),h=d[0],v=d[1],y=(0,c.useRef)(null);(0,c.useEffect)((function(){v(t.title)}),[t.title]);var g=a()("item-detail-title",{active:l});return(0,m.jsxs)("div",{className:g,children:[(0,m.jsxs)("pre",{children:[(0,m.jsx)("span",{children:h}),(0,m.jsx)("br",{})]}),(0,m.jsx)("textarea",{spellCheck:"false",maxLength:100,ref:y,onInput:function(e){return v(e.currentTarget.value)},onFocus:function(){u(!0),y.current.select()},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),y.current.blur())},onBlur:function(){u(!1);var e=y.current.value;if(!e.trim())return v(t.title);e!==t.title&&(t.channel?(0,f.WZ)(o(t,e),{okMsg:"Rename successfully.",errMsg:function(e){return"string"==typeof e?e:"Rename Failed."}}).catch(i()):"video"===t.itemType?r(t.id,e):n({id:t.id,name:e}))},value:h})]})}))},22037:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(94184),i=n.n(r),o=n(67294),a=n(85893),c=Array.from({length:5},(function(e,t){return t}));function s(e){var t=e.size,n=e.isShare,r=i()("item-skeleton-item",{compact:"compact"===t,shared:n});return(0,a.jsx)(a.Fragment,{children:c.map((function(e,i){return(0,a.jsx)("div",{className:r,children:"compact"!==t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"thumbnail"}),(0,a.jsxs)("div",{className:"info",children:[(0,a.jsx)("div",{className:"name"}),(0,a.jsx)("div",{className:"extra"}),n&&(0,a.jsx)("div",{className:"skeleton-avatar"})]})]})},i)}))})}const l=(0,o.memo)(s)},92159:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(67294),i=n(85893);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const c=function(){var e=o((0,r.useState)(!1),2);return e[0],e[1],(0,r.useEffect)((function(){})),(0,i.jsx)("div",{className:"loading-wrapper",children:(0,i.jsx)("div",{className:"logo"})})}},97591:(e,t,n)=>{n.d(t,{Z:()=>a});n(85624);var r=n(71577),i=n(61401),o=n(85893);const a=function(e){var t=e.visible,n=e.onCancel,a=e.handleDone;return(0,o.jsxs)(i.Z,{visible:t,onCancel:n,className:"apple-workspace-tip",width:500,children:[(0,o.jsx)("div",{className:"title",children:"Payment successful"}),(0,o.jsxs)("div",{className:"content",children:[(0,o.jsx)("p",{children:"You have successfully created a Workspace Premium subscription!"}),(0,o.jsxs)("p",{children:["Your remaining credit from the previous plan has been credited toward the Workspace Premium. We won't be able to cancel your in-app purchase due to Apple's policy."," "]}),(0,o.jsx)("p",{children:(0,o.jsx)("b",{children:"Please cancel your in-app purchase on App Store to prevent a dual subscription."})})]}),(0,o.jsxs)("div",{className:"btn-box",children:[(0,o.jsx)(r.Z,{type:"primary",size:"large",onClick:function(){window.open("https://apps.apple.com/account/subscriptions"),null==a||a()},children:"Go to App store"}),(0,o.jsx)("a",{href:"https://support.apple.com/en-gb/HT202039",rel:"noreferrer",target:"_blank",children:"How to cancel a subscription from Apple?"})]})]})}},7991:(e,t,n)=>{n.d(t,{Z:()=>u});n(47386);var r=n(48889),i=n(67294),o=n(4976),a=n(47481),c=n(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){var t=s((0,i.useState)(!1),2),n=t[0],l=t[1];return(0,c.jsx)(r.Z,{title:"Confirm",visible:e.visible,onOk:function(){l(!0),(0,o.oH9)("paypal").then((function(t){l(!1),e.handleCancelPlanSuccess()}),(function(e){l(!1),message.error(e.toString())}))},okText:"OK, unsbscribe",okType:"danger",confirmLoading:n,cancelText:"Cancel",onCancel:e.handleCancel,className:"cancel-plan-modal",closeIcon:(0,c.jsx)(a.Tw,{style:{fontSize:"12px"}}),children:(0,c.jsx)("p",{children:"You've paid our personal plan through Paypal. If you want to choose this plan, you need to cancel your current plan and pay through credit card."})})}},27972:(e,t,n)=>{n.d(t,{Z:()=>u});n(91324);var r=n(45777),i=(n(85624),n(71577)),o=n(67294),a=n(47481),c=n(85893);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const u=function(e){var t=e.onClick,n=s((0,o.useState)(!1),2),l=n[0],u=n[1];return(0,c.jsx)(r.Z,{title:"Copied!",visible:l,children:(0,c.jsxs)(i.Z,{className:"copy-btn",onClick:function(){u(!0),t(),setTimeout((function(){u(!1)}),1e3)},children:[(0,c.jsx)(a.TI,{}),"Copy"]})})}},23427:(e,t,n)=>{n.d(t,{Z:()=>_});n(85624);var r=n(71577),i=(n(79133),n(32787)),o=(n(50626),n(48086)),a=n(67294),c=n(56262),s=n(71436),l=n(51447),u=n(4976),d=n(83417),f=n(67618),m=n(71853),p=n(47481),h=n(61401),v=n(21862),y=n(27972),g=n(23279),b=n.n(g),j=n(76570),w=n(99096),x=n(85893);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O={loadWorkspaceMember:l.nI,addMemberFromWorkspace:s.ri};const E=(0,c.$j)((function(e){return{members:e.workspace.workspaceAllMembers,isLoading:e.workspace.isLoadingAllMembers,channelMembers:e.channel.members}}),O)((function(e){var t=e.members,n=e.channelMembers,o=e.isLoading,c=e.channel,s=e.addMemberFromWorkspace,l=S((0,a.useState)(""),2),u=l[0],d=l[1],f=b()((function(e){d(e)}),500),h=t.filter((function(e){return function(e){for(var t=0;t<n.length;t++)if(n[t].userID===e)return!1;return!0}(e.userID)})),v=h.filter((function(e){return-1!==e.userInfo.fullName.indexOf(u)||-1!==e.userInfo.mail.indexOf(u)})),y=u.length?v:h;return(0,x.jsx)("div",{className:"invite-workspace-member-list",children:o?(0,x.jsx)(m.Z,{}):(0,x.jsx)(x.Fragment,{children:0===h.length?(0,x.jsxs)("div",{className:"no-member",children:[(0,x.jsx)("div",{children:(0,x.jsx)(p.tL,{})}),(0,x.jsx)("div",{className:"no-member-text",children:"All members are in this channel."})]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"search-bar",children:(0,x.jsx)(i.Z,{prefix:(0,x.jsx)(j.Z,{}),placeholder:"Search",className:"search-input",onChange:function(e){f(e.target.value)}})}),(0,x.jsx)("div",{className:"list-container",children:y.map((function(e){return(0,x.jsxs)("div",{className:"invite-member-item",children:[(0,x.jsx)("div",{className:"avatar-area",children:(0,x.jsx)(w.Z,{username:e.userInfo.fullName,size:36})}),(0,x.jsxs)("div",{className:"info",children:[(0,x.jsx)("div",{className:"name",children:e.userInfo.fullName}),(0,x.jsx)("div",{className:"email",children:e.userInfo.mail})]}),(0,x.jsx)("div",{className:"action-area",children:(0,x.jsx)(r.Z,{size:"small",onClick:function(){var t;t=e.userID,s(c.workspaceID,c.id,t+"")},children:"Add"})})]},e.userID)}))})]})})})}));function N(e){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t=function(e){var t=function(e,t){if("object"!==N(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===N(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T={loadWorkspaceMember:l.nI,addMemberFromWorkspace:s.ri},L=(0,c.$j)((function(e){return{members:e.workspace.workspaceAllMembers,isLoading:e.workspace.isLoadingAllMembers,channelMembers:e.channel.members}}),T)((function(e){var t=e.channel,n=e.isLoading,c=e.loadWorkspaceMember,s=P((0,a.useState)(!1),2),l=s[0],h=s[1],g=P((0,a.useState)(!1),2),b=g[0],j=g[1],w=P((0,a.useState)(""),2),S=w[0],I=w[1],O=P((0,d.Z)(),5),N=O[0],D=O[1],A=O[2],C=O[3],k=O[4];return(0,a.useEffect)((function(){c(t.workspaceID);var e=t.id,n=t.workspaceID;(0,u.Myt)(n,e).then((function(e){h(window.location.origin+"/workspace/invite/"+e.inviteKey)}))}),[]),(0,x.jsxs)("div",{className:"channel-invite-panel",children:[(0,x.jsx)("div",{className:"title",children:"Add Members"}),(0,x.jsx)("div",{className:"content",children:l&&!n?(0,x.jsxs)("div",{className:"main",children:[(0,x.jsx)("div",{className:"subtitle",children:"Invite by link"}),(0,x.jsxs)("div",{className:"link-invite",children:[(0,x.jsx)(p.Od,{}),(0,x.jsx)("div",{className:"link-text",children:l}),(0,x.jsx)(y.Z,{onClick:function(){(0,f.zp)(l)}})]}),(0,x.jsx)("div",{className:"subtitle",children:"Add from workspace"}),(0,x.jsx)(E,{channel:t}),(0,x.jsxs)("div",{className:"email-invite",children:[(0,x.jsx)(i.Z,{bordered:!1,value:S,onChange:function(e){I(e.target.value)},placeholder:"Not listed above? Invite by email address...",type:"email"}),(0,x.jsx)(r.Z,{loading:b,type:"primary",onClick:function(){var e=t?t.id:"",n=t.workspaceID;(0,u.d5$)(n,e,S).then((function(){j(!1),I(""),o.ZP.success("Invitations have been sent successfully.")})).catch((function(e){void 0!==e.isOwner&&(k(e.isOwner),D(!0))}))},children:"Send invitation"})]})]}):(0,x.jsx)(m.Z,{})}),(0,x.jsx)(v.Z,{visible:N,onCancel:A,isOwner:C,workspaceID:t.workspaceID,type:"memberJoin"})]})}));const _=function(e){return(0,x.jsx)(h.Z,{visible:e.visible,onCancel:e.onCancel,width:500,children:(0,x.jsx)(L,A(A({},e),{},{closeModal:e.onCancel}))})}},61401:(e,t,n)=>{n.d(t,{Z:()=>f});n(47386);var r=n(48889),i=n(94184),o=n.n(i),a=n(47481),c=n(85893);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(0,c.jsx)(r.Z,u(u({},e),{},{footer:null,maskClosable:!1,destroyOnClose:!0,className:o()("common-modal",e.className),width:e.width||456,closeIcon:(0,c.jsx)(a.Tw,{style:{fontSize:"12px"}}),children:e.children}))}},80472:(e,t,n)=>{n.d(t,{Z:()=>j});n(85624);var r=n(71577),i=(n(15285),n(71257)),o=(n(79133),n(32787)),a=n(67294),c=n(56262),s=n(96974),l=n(51447),u=n(61401),d=n(85893);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g={createChannel:l.mi},b=(0,c.$j)((function(e){return{isCreating:e.workspace.isCreatingChannel}}),g)((function(e){var t=e.workspaceId,n=e.createChannel,c=e.isCreating,l=e.closeModal,u=e.noRedirect,f=v((0,a.useState)(!0),2),m=f[0],p=f[1],h=(0,s.s0)();return(0,d.jsxs)("div",{className:"create-channel-panel",children:[(0,d.jsx)("div",{className:"title",children:"Create a Channel"}),(0,d.jsx)("div",{className:"modal-desc",children:"Channels are best when organized around a project or a topic"}),(0,d.jsxs)(i.Z,{onFinish:function(e){var r=e.channelName,i=e.channelDesc;n(t,r,i).then((function(e){!u&&h("/workspace/"+t+"/"+e.id)})),l()},onValuesChange:function(e,t){t.channelName&&t.channelName.length?m&&p(!1):m||p(!0)},children:[(0,d.jsxs)("div",{className:"content",children:[(0,d.jsx)("div",{className:"label",children:"Name"}),(0,d.jsx)(i.Z.Item,{name:"channelName",children:(0,d.jsx)(o.Z,{size:"large",autoComplete:"off",autoFocus:!0,placeholder:"e.g. Product Research/ New Year Planning"})}),(0,d.jsx)("div",{className:"input-tip",children:"What do your team plan to work on?"}),(0,d.jsxs)("div",{className:"label",children:["Description ",(0,d.jsx)("span",{children:"(optional)"})]}),(0,d.jsx)(i.Z.Item,{name:"channelDesc",children:(0,d.jsx)(o.Z.TextArea,{autoSize:{minRows:4}})}),(0,d.jsx)("div",{className:"input-tip",children:"What’s this channel about?"})]}),(0,d.jsxs)("div",{className:"btn-area",children:[(0,d.jsx)(r.Z,{onClick:l,children:"Cancel"}),(0,d.jsx)(r.Z,{type:"primary",loading:c,htmlType:"submit",disabled:m,children:"Create"})]})]})]})}));const j=function(e){return(0,d.jsx)(u.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,d.jsx)(b,p(p({},e),{},{closeModal:e.onCancel}))})}},8872:(e,t,n)=>{n.d(t,{Z:()=>j});var r=n(61401),i=(n(85624),n(71577)),o=(n(79133),n(32787)),a=(n(50626),n(48086)),c=n(67294),s=n(56262),l=n(65880),u=n(63173),d=n(85893);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p={createFolder:l.L6};const h=(0,s.$j)(null,p)((function(e){var t=f((0,c.useState)(""),2),n=t[0],r=t[1],s=(0,c.useRef)(null);(0,c.useEffect)((function(){var e=setTimeout((function(){s.current.focus()}),100);return function(){return clearTimeout(e)}}),[]);var l=function(){if(n.length>60)a.ZP.error("The folder name is too long!");else{var t=e.selectedFolder?e.selectedFolder.folderID:e.folderID;e.createFolder(n.trim(),t,e.afterCreate),e.closeModal()}};return(0,d.jsxs)("div",{className:"create-folder-panel",children:[(0,d.jsx)("div",{className:"title",children:"New folder"}),(0,d.jsxs)("div",{className:"content",children:[e.selectedFolder?(0,d.jsxs)("div",{className:"sub-folder-tip",children:["Create a new folder in"," ",(0,d.jsx)(u.Z,{text:e.selectedFolder.title,width:200})]}):null,(0,d.jsx)(o.Z,{size:"large",placeholder:"Enter a folder name",onChange:function(e){r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&l()},ref:s})]}),(0,d.jsxs)("div",{className:"btn-area",children:[(0,d.jsx)(i.Z,{onClick:e.closeModal,children:"Cancel"}),(0,d.jsx)(i.Z,{type:"primary",disabled:!n.trim(),onClick:l,children:"Create"})]})]})}));function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j=function(e){return(0,d.jsx)(r.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,d.jsx)(h,g(g({},e),{},{closeModal:e.onCancel}))})}},41721:(e,t,n)=>{n.d(t,{r:()=>N});n(52927);var r=n(9676),i=(n(91324),n(45777)),o=(n(79133),n(32787)),a=(n(15285),n(71257)),c=(n(85624),n(71577)),s=(n(50626),n(48086)),l=(n(28763),n(34041)),u=n(38819),d=n(1870),f=n(31795),m=n.n(f),p=n(67294),h=n(56262),v=n(4976),y=n(85469),g=n(61401),b=n(85893);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=l.Z.Option;function N(e){return(0,b.jsx)(g.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,b.jsx)(D,I(I({},e),{},{closeModal:e.onCancel}))})}var D=(0,h.$j)((function(e){return{userinfo:e.user.info}}))((function(e){var t=w((0,p.useState)(!1),2),n=t[0],f=t[1],h=w((0,p.useState)(!1),2),g=h[0],j=h[1],x=w((0,p.useState)(e.type?e.type:"Video"),2),S=x[0],I=x[1];return(0,b.jsxs)("div",{className:"feedback-panel",children:[(0,b.jsx)("div",{className:"title",children:"Send Feedback"}),(0,b.jsx)("div",{className:"content",children:g?(0,b.jsxs)("div",{className:"sent-message",children:[(0,b.jsx)("div",{children:(0,b.jsx)(u.Z,{})}),(0,b.jsx)("div",{className:"title",children:"Thank you"}),(0,b.jsx)("div",{className:"content",children:"The form was submitted successfully. We will contact you shortly."}),(0,b.jsx)(c.Z,{type:"primary",onClick:function(){j(!1)},children:"Submit another issue"})]}):(0,b.jsxs)(a.Z,{onFinish:function(t){var n={};n.Browser||(n.Browser=m().name+" "+m().version),n.OS||(n.OS=m().os.toString()),n["Screen Size"]||(n["Screen Size"]=window.screen.width+"x"+window.screen.height);var r=!0===t.isSendInfo||void 0===t.isSendInfo?function(e,t){var n="";for(var r in n+=e+"<br/><br/><br/><hr>",t)n+="<b>"+r+"</b>: "+t[r]+"<br/>";return n}(t.content,n):t.content,i={email:t.email||e.userinfo.mail,name:e.userinfo.fullName,subject:"[".concat(t.type,"]"),content:r};f(!0),(0,v.hz1)(i).then((function(){f(!1),j(!0)})).catch((function(){f(!1),s.ZP.error("Submission failed. Please retry or copy summary and details to send an email to care@awesomescreenshot.com.")}))},children:[(0,b.jsx)("div",{className:"label",children:"Issue Type"}),(0,b.jsx)(a.Z.Item,{name:"type",initialValue:S,rules:[{required:!0}],children:(0,b.jsx)(l.Z,{onChange:function(e){I(e)},children:y.WM.map((function(e){return(0,b.jsx)(E,{value:e,children:e},e)}))})}),(0,b.jsx)("div",{className:"label",children:"Bug Summary"}),(0,b.jsx)("div",{className:"label-tip",children:"Let us know what happened in detail."}),(0,b.jsx)(a.Z.Item,{name:"content",rules:[{required:!0,message:"Please input some details"}],children:(0,b.jsx)(o.Z.TextArea,{autoSize:{minRows:5}})}),e.userinfo&&/privaterelay.appleid.com/.test(e.userinfo.mail)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"label",children:"Your Email Address"}),(0,b.jsx)("div",{className:"label-tip",children:"Enter an email address to receive updates on the issue."}),(0,b.jsx)(a.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email"},{type:"email",message:"Please input a valid email"}],children:(0,b.jsx)(o.Z,{})})]}),(0,b.jsx)(a.Z.Item,{name:"isSendInfo",valuePropName:"checked",initialValue:!0,children:(0,b.jsxs)(r.Z,{children:["Include OS and browser info to help developers debug errors"," ",(0,b.jsx)(i.Z,{title:"Specifically, version number of your OS, browser, extension, and screen size will be included. ",children:(0,b.jsx)(d.Z,{})})]})}),(0,b.jsxs)("div",{className:"btn-area",children:[(0,b.jsx)(c.Z,{onClick:e.closeModal,children:"Cancel"}),(0,b.jsx)(c.Z,{type:"primary",htmlType:"submit",loading:n,size:"large",children:"Submit"})]})]})})]})}))},2294:(e,t,n)=>{n.d(t,{Z:()=>ue});n(85624);var r=n(71577),i=(n(28763),n(34041)),o=n(67294),a=n(56262),c=n(96974),s=n(51447),l=n(32250),u=n(71853),d=n(61401),f=(n(52927),n(9676)),m=(n(41226),n(14277)),p=(n(35797),n(82363)),h=n(50308),v=n.n(h),y=n(71436),g=n(92807),b=n(47481),j=n(83417),w=n(20722),x=n(67618),S=n(80472),I=n(21862),O=n(4976),E=n(3432),N=n(85893);function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){var n=e.channelID,r=e.workspaceID,i=(0,o.useRef)(null),a=D((0,o.useState)([]),2),c=a[0],s=a[1];return(0,o.useImperativeHandle)(t,(function(){return{getContent:i.current.getContent}})),(0,o.useEffect)((function(){r&&n&&(0,O.FbR)(r,n).then((function(e){e.members&&s(e.members.map((function(e){return{id:e.userInfo.uid,value:e.userInfo.fullName,avatar:e.userInfo.avatarURL}})))}))}),[r,n]),(0,N.jsx)("div",{className:"move-to-comment-box",children:(0,N.jsx)(E.Z,{ref:i,defaultMentionUsers:[],mentionUsers:c})})}const P=(0,o.forwardRef)(C);function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==k(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===k(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t,n,r){var i;return(null==e||null===(i=e[t])||void 0===i?void 0:i.children.map((function(t){return{key:t.id,children:Z(e,t.id,n,r+1),title:t.name,disabled:n,data:{idParams:t,levels:r,title:t.name,type:"channel-folder"},icon:function(e){return e.expanded?(0,N.jsx)(b.Hf,{}):(0,N.jsx)(b.q7,{})}}})))||[]}var F={moveToChannel:y.sK,moveIntoChannelFolder:y.wN,createComment:g.Yr,loadChannelAllFolders:y.W3};const U=(0,a.$j)((function(e){return{workspaceHash:e.workspace.myWorkspaceHash,channelHash:e.workspace.channelHash,channelFoldersChildrenMap:e.channel.channelFoldersChildrenMap,currentUser:e.user.info}}),F)((function(e){var t=e.workspaceID,n=e.workspaceHash,i=e.moveToChannel,a=e.moveIntoChannelFolder,c=e.createComment,s=e.loadChannelAllFolders,l=e.channelFoldersChildrenMap,u=e.items,d=e.currentUser,h=e.closeModal,y=e.channelHash,g=R((0,o.useState)(!1),2),O=g[0],E=g[1],D=R((0,o.useState)(!1),2),A=D[0],C=D[1],k=R((0,j.Z)(),5),T=k[0],_=k[1],M=k[2],F=k[3],U=k[4];(0,o.useEffect)((function(){E(!1)}),[t]);var H=!!u[0].channel,G=u[0].channel,B=!H||!u.some((function(e){return String(e.userID)!==String(d.uid)}));(0,o.useEffect)((function(){}),[B,H]);var V=(0,o.useRef)(null),z=n[t],W=z.channels.filter((function(e){return y[e].isMember})),K=(0,o.useMemo)((function(){var e;return(null===(e=n[t])||void 0===e?void 0:e.channels.filter((function(e){var t;return null===(t=y[e])||void 0===t?void 0:t.isMember})))||[]}),[n,y,t]);(0,o.useEffect)((function(){t&&K.forEach((function(e){return s(t,e,{skipIfLoaded:!0})}))}),[K,t]);var Y=(0,o.useMemo)((function(){return K.map((function(e){var t,n,r=y[e],i=H&&!B&&r.id!==(null==G?void 0:G.id);if(!i)return{key:e,title:r.name,children:Z(null===(t=l[r.workspaceID])||void 0===t||null===(n=t[e])||void 0===n?void 0:n.folders,"0",!1,1),icon:(0,N.jsx)(b.MC,{}),disabled:i,data:{idParams:{workspaceID:r.workspaceID,channelID:e},levels:0,type:"channel-root",title:r.name}}})).filter(Boolean)}),[K,l,t]),Q=R((0,o.useState)([]),2),q=Q[0],J=Q[1],X=R((0,o.useState)(null),2),$=X[0],ee=X[1];return(0,N.jsxs)("div",{className:"folder-select",children:[(0,N.jsxs)("div",{className:"move-select",children:[(0,N.jsx)("div",{className:"select-container",children:W.length>0?(0,N.jsx)(p.Z.DirectoryTree,{expandAction:"doubleClick",treeData:Y,height:274,expandedKeys:q,onExpand:function(e,t){return!t.node.disabled&&J(e)},onSelect:function(e,t){var n=t.node;ee(n.data)}}):(0,N.jsx)(m.Z,{image:m.Z.PRESENTED_IMAGE_SIMPLE,description:"No channels"})}),(0,N.jsx)("div",{className:"folder-btn-area",children:(0,N.jsxs)("a",{onClick:function(){return C(!0)},children:[" ",(0,N.jsx)(b.dt,{})," Create a channel"]})})]}),$&&(0,N.jsxs)("div",{className:"notify-others",children:[(0,N.jsx)(f.Z,{checked:O,onChange:function(e){return E(e.target.checked)},children:"Notify others"}),O&&(0,N.jsx)("div",{className:"notify-box",children:(0,N.jsx)(P,{ref:V,workspaceID:t,channelID:$.idParams.channelID})})]}),(0,N.jsxs)("div",{className:"btn-area",children:[(0,N.jsx)(r.Z,{onClick:h,children:"Cancel"}),(0,N.jsxs)(r.Z,{type:"primary",className:"",disabled:function(){if(null===$)return!0;var e=$.idParams,t=e.workspaceID+e.channelID+(e.folderID||"0");return u.some((function(e){if(e.channel){var n,r=e.channel;return r.workspaceID+r.id+((null===(n=e.wcFolder)||void 0===n?void 0:n.folderID)||"0")===t}return!1}))}(),onClick:function(){var e=$.idParams,t=e.workspaceID,n=e.channelID,r=e.folderID;if(u.some((function(e){return e.channel}))?(0,w.WZ)(a({workspaceID:t,channelID:n,folderID:r},u.map((function(e){return L(L({},e),{},{itemID:+(e.itemID||e.id)})})),(function(e){U(e),_(!0)})),{okMsg:"Move successfully.",errMsg:function(e){return"string"==typeof e?e:"Move failed."}}).then(h).catch(v()):i({workspaceID:t,channelID:n,folderID:r},u,(function(e){U(e),_(!0)}),(function(){return h()})),O&&V.current.getContent()){var o=(0,x.Er)(V.current.getContent());c(u[0].itemType,u[0].id,o,"0")}},children:[(0,N.jsx)("span",{className:"move-to-label",style:$?{marginRight:"8px"}:void 0,children:"Move to"}),$?(0,N.jsxs)(N.Fragment,{children:["channel-root"===$.type?(0,N.jsx)(b.MC,{}):(0,N.jsx)(b.q7,{}),(0,N.jsx)("span",{className:"btn-folder-name",children:$.title})]}):""]})]}),(0,N.jsx)(I.Z,{visible:T,onCancel:M,isOwner:F,workspaceID:z.id,type:"itemAdd",channelID:(null==$?void 0:$.idParams.channelID)||""}),(0,N.jsx)(S.Z,{workspaceId:z.id,visible:A,onCancel:function(){return C(!1)},noRedirect:!0})]})}));var H=n(65880),G=n(32195),B=n(8872);function V(e){return V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==V(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==V(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===V(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Y(e){return function(e){if(Array.isArray(e))return J(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,t):void 0}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=p.Z.DirectoryTree;var $={loadFolders:H.PW,moveFolder:H.J1};const ee=(0,a.$j)((function(e){return{isLoading:e.folder.isLoading,treeData:(0,G.D)(e),folders:e.folder.folders}}),$)((function(e){var t=e.items,n=e.closeModal,i=e.treeData,a=e.isLoading,c=e.loadFolders,s=e.moveFolder,l=e.folders,d=Q((0,o.useState)(null),2),f=d[0],m=d[1],p=Q((0,o.useState)(!1),2),h=p[0],v=p[1],y=Q((0,o.useState)([]),2),g=y[0],j=y[1],w=Q((0,o.useState)([]),2),S=w[0],I=w[1],O=(0,o.useRef)();(0,o.useEffect)((function(){i[1]||c()}),[]),(0,o.useEffect)((function(){if(O.current&&T(O.current,"0",i)){var e=T(O.current,"0",i);I((function(t){return[].concat(Y(t),[e.parentKey])})),j([e.key]),m({title:e.title,folderID:O.current}),O.current=""}}),[i]);var E=function(e,t){var n={r:!0};return D(e,t,n),n.r},D=function e(t,n,r){t===n?r.r=!1:l[n]&&"0"!==l[n].parentID&&e(t,l[n].parentID,r)},A=i.slice();A[0]&&(A[0]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i[0]),A[0].icon=(0,N.jsx)(b.M,{}));var C="",P="",k=function e(t,n,r){var i,o=K(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;a.folderID===t?(C=a.key,P=n):a.children&&e(t,a.key,a.children)}}catch(e){o.e(e)}finally{o.f()}},T=function(e,t,n){var r=null;return function e(t,n,i){var o,a=K(i);try{for(a.s();!(o=a.n()).done;){var c=o.value;c.folderID===t?r={key:c.key,parentKey:n,title:c.title}:c.children&&e(t,c.key,c.children)}}catch(e){a.e(e)}finally{a.f()}}(e,t,n),r},L=function(){if(1===t.length){var e="folder"===t[0].itemType?t[0].parentID:t[0].folderID;return k(e,"0",A),"0"===P?{key:C,parentKey:""}:{key:C,parentKey:P}}return{key:"",parentKey:""}}();return(0,N.jsxs)("div",{className:"folder-select",children:[a?(0,N.jsx)(u.Z,{}):(0,N.jsxs)("div",{className:"move-select",children:[(0,N.jsx)("div",{className:"select-container",children:(0,N.jsx)(X,{expandAction:"doubleClick",autoExpandParent:!0,treeData:A,height:274,expandedKeys:S,onExpand:function(e,t){t.expanded;I(e)},selectedKeys:g,onSelect:function(e,t){j(e),m({title:t.node.title,folderID:t.node.folderID})},defaultSelectedKeys:[L.key],defaultExpandedKeys:[L.parentKey]})}),(0,N.jsx)("div",{className:"folder-btn-area",children:(0,N.jsxs)("a",{onClick:function(){v(!0)},children:[" ",(0,N.jsx)(b.dt,{})," Create a new folder"," ",f?(0,N.jsxs)(N.Fragment,{children:["in ",(0,N.jsx)("b",{children:f.title})]}):null]})})]}),(0,N.jsxs)("div",{className:"btn-area",children:[(0,N.jsx)(r.Z,{onClick:n,children:"Cancel"}),(0,N.jsxs)(r.Z,{type:"primary",className:"",disabled:!function(){var e=!0;if(f){var n,r=K(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e="folder"===i.itemType?e&&E(i.id,f.folderID):e&&i.folderID!==f.folderID}}catch(e){r.e(e)}finally{r.f()}return e}e=!1}(),onClick:function(){null!==f&&t.length&&(s(f.folderID,t),n(),(0,x.I1)("move to folder",{event_category:"folder"}))},children:[(0,N.jsx)("span",{className:"move-to-label",style:f?{marginRight:"8px"}:void 0,children:"Move to"}),f?(0,N.jsxs)(N.Fragment,{children:["My Items"===f.title?(0,N.jsx)(b.M,{}):(0,N.jsx)(b.RO,{}),(0,N.jsx)("span",{className:"btn-folder-name",children:f.title})," "]}):""]})]}),(0,N.jsx)(B.Z,{visible:h,onCancel:function(){v(!1)},selectedFolder:f,afterCreate:function(e){O.current=e},folderID:"0"})]})}));function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=i.Z.Option,se={loadWorkspaces:s.Pf};var le=(0,a.$j)((function(e){return{workspaceIDList:e.workspace.myWorkspaceIDList,workspaceHash:e.workspace.myWorkspaceHash,isLoading:e.workspace.isLoading,userInfo:e.user.info}}),se)((function(e){var t=e.items,n=e.closeModal,a=e.workspaceIDList,s=e.workspaceHash,d=e.isLoading,f=e.userInfo,m=e.loadWorkspaces,p=e.des,h=oe((0,o.useState)((function(){return"channel"===p?a[0]:"personal"})),2),v=h[0],y=h[1],g=oe((0,o.useState)((function(){return"channel"===p?s[a[0]]:null})),2),b=g[0],j=g[1],w=!!t[0].channel,x=t[0].channel,S=!t.some((function(e){return String(e.userID)!==String(f.uid)})),I=(0,l.D)(d),O=(0,c.s0)();function E(){return t.some((function(e){return"folder"===e.itemType}))}return(0,o.useEffect)((function(){m()}),[]),(0,o.useEffect)((function(){x&&j(s[x.workspaceID])}),[x,s]),(0,o.useEffect)((function(){I&&!d&&("channel"===p&&y(a[0]),j(s[a[0]]))}),[d,a,s]),(0,N.jsxs)("div",{className:"move-to-panel",children:[(0,N.jsx)("div",{className:"title",children:"Move to"}),(0,N.jsx)("div",{className:"content",children:d?(0,N.jsx)(u.Z,{}):(0,N.jsx)(N.Fragment,{children:b&&a.length>0||"channel"!==p?(0,N.jsxs)(N.Fragment,{children:[!E()&&"folder"!==p&&!(w&&!S)&&(0,N.jsxs)("div",{className:"destination-select",children:[(0,N.jsx)("div",{className:"select-label",children:"both"===p?"Personal & Workspaces":"Workspaces"}),(0,N.jsxs)(i.Z,{style:{width:"100%",textAlign:"left"},size:"large",value:v,onChange:function(e){y(e),"personal"!==e&&j(s[e])},children:["channel"!==p&&(0,N.jsx)(ce,{value:"personal",children:"Personal"}),!E()&&(0,N.jsx)(N.Fragment,{children:a.map((function(e){return(0,N.jsx)(ce,{value:e,children:s[e].name},e)}))})]})]}),(0,N.jsxs)("div",{className:"box",children:[(0,N.jsx)("div",{className:"select-label",children:"personal"===v?"Folders":"Channels"}),"personal"===v?(0,N.jsx)(ee,{items:t,closeModal:n}):(0,N.jsx)(U,{workspaceID:b?b.id:null,closeModal:n,items:t})]})]}):(0,N.jsxs)("div",{className:"empty-workspace",children:[(0,N.jsx)("p",{children:"You don't have a workspace yet."}),(0,N.jsx)(r.Z,{type:"primary",onClick:function(){return O("/workspace/create")},children:"Go to create a workspace"})]})})})]})}));const ue=function(e){return(0,N.jsx)(d.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,N.jsx)(le,re(re({},e),{},{closeModal:e.onCancel}))})}},6386:(e,t,n)=>{n.d(t,{Z:()=>l});n(47386);var r=n(48889),i=(n(85624),n(71577)),o=n(38819),a=n(73218),c=n(47481),s=n(85893);function l(e){var t="success"===e.type;return(0,s.jsxs)(r.Z,{visible:e.visible,destroyOnClose:!0,onCancel:e.handleCancel,className:"payment-modal",footer:null,closable:!1,centered:!0,closeIcon:(0,s.jsx)(c.Tw,{style:{fontSize:"12px"}}),children:[t?(0,s.jsx)(o.Z,{className:t?"success":""}):(0,s.jsx)(a.Z,{}),(0,s.jsx)("div",{className:"content",children:t?"Payment Successful!":"Payment Failed."}),(0,s.jsx)(i.Z,{className:"btn",size:"large",block:!0,type:"primary",onClick:e.handleCancel,children:t?"Got it!":"Retry"})]})}},25754:(e,t,n)=>{n.d(t,{Z:()=>C});n(47386);var r=n(48889),i=n(47481),o=(n(32399),n(11382)),a=(n(85624),n(71577)),c=(n(90),n(16114)),s=(n(48315),n(28682)),l=(n(16154),n(47933)),u=n(7085),d=n(57254),f=n(27484),m=n.n(f),p=n(67294),h=n(67618),v=(n(57906),n(76772)),y=n(86664),g=n(85893);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const w=function(e){var t=e.amount,n=e.handleApplePay,r=e.handleApplePayFallback,i=e.planText,o=(0,y.useStripe)(),a=b((0,p.useState)(null),2),c=a[0],s=a[1],l=b((0,p.useState)(null),2),u=l[0];l[1];return(0,p.useEffect)((function(){if(o){var e=o.paymentRequest({country:"US",currency:"usd",total:{label:i,amount:100*t},requestPayerName:!0,requestPayerEmail:!0});e.canMakePayment().then((function(t){s(e)})),e.on("paymentmethod",(function(e){var t=e.paymentMethod;t&&n(t),e.complete("success")}))}}),[o]),(0,g.jsxs)("div",{className:"apple-checkout-form",children:[(!u||!u.applePay)&&(0,g.jsx)(v.Z,{message:"Add cards to Apple Pay to make purchases on this Mac.",showIcon:!0,description:(0,g.jsxs)(g.Fragment,{children:["You can add cards to Apple Pay in System Preferences.",(0,g.jsx)("br",{})," Or you can try"," ",(0,g.jsx)("a",{onClick:function(){r()},children:"other payment methods"}),"."]}),type:"warning"}),(0,g.jsx)("div",{className:"apple-pay-btn",onClick:function(){c.show()}})]})};function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=l.ZP.Group;function O(e){var t=e.upgradeCostInfo,n=x((0,p.useState)("Stripe"),2),r=n[0],i=n[1],f=x((0,p.useState)(!1),2),v=f[0],y=f[1],b=e.isForceYear?"year":e.billingPeriod;(0,p.useEffect)((function(){t&&"Both"!==t.PaymentMethod&&i(t.PaymentMethod)}),[t]);var j=function(t){e.handleBillingPeriodChange(t)},S=function(e){i(e.target.value)},O=(0,h.IT)();return(0,g.jsxs)("div",{className:"plan-overview-panel",children:[e.isShowOverviewLoading&&(0,g.jsx)("div",{className:"msg-wrapper",children:(0,g.jsxs)("div",{className:"msg",children:[(0,g.jsx)("div",{className:"icon",children:(0,g.jsx)(u.Z,{})}),(0,g.jsx)("div",{className:"info",children:"Processing your payment, please wait."})]})}),(0,g.jsx)("div",{className:"title",children:"Billing Overview"}),"basic"===e.currentChoose&&O&&(0,g.jsxs)("div",{className:"tip",children:["Reminder: Basic plan cannot unlock the limit on video access. Please upgrade to ",(0,g.jsx)("b",{children:"Professional"})," to gain unlimited access."]}),t?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"section",children:(0,g.jsxs)("div",{className:"section-wrapper bill-period",children:[(0,g.jsxs)("div",{className:"period-switch",children:[(0,g.jsx)(c.Z,{overlay:(0,g.jsxs)(s.Z,{children:[(0,g.jsxs)(s.Z.Item,{onClick:function(){j("month")},disabled:e.isForceYear,children:["Monthly - $",t.SubscriptionPriceMonthly," / month"]}),(0,g.jsxs)(s.Z.Item,{onClick:function(){j("year")},children:["Yearly - $",t.SubscriptionPriceYearly," / year"," ",(0,g.jsxs)("span",{className:"menu-tip",children:["Equals to"," ",(0,g.jsxs)("b",{children:["$",(0,h.MW)(t.SubscriptionPriceYearly),"/month"]}),", Saving more than 25%"]})]})]}),trigger:["click"],children:(0,g.jsxs)("div",{className:"change-period-btn",children:["Billed ","month"===b?"Monthly":"Yearly",(0,g.jsx)(d.Z,{})]})}),(0,g.jsx)("div",{className:"period-tip",children:"month"===b?(0,g.jsxs)(g.Fragment,{children:["Save more than 25% with"," ",(0,g.jsx)("span",{className:"tip-link",onClick:function(){j("year")},children:"yearly billing"})]}):(0,g.jsxs)(g.Fragment,{children:["You’re saving more than 25%",(0,g.jsx)("br",{})," with yearly billing cycle."]})})]}),(0,g.jsxs)("div",{className:"price",children:[(0,g.jsxs)("span",{className:"price-num",children:["$",t.SubscriptionPrice]})," ","/ ","year"===b?"year":"month","year"===b&&(0,g.jsxs)("div",{className:"price-tip",children:["Equals to"," ",(0,g.jsxs)("b",{children:["$",(0,h.MW)(t.SubscriptionPrice)]})," / month"]})]})]})}),(0,g.jsx)("div",{className:"section",children:(0,g.jsxs)("div",{className:"section-wrapper",children:[(0,g.jsx)("div",{className:"section-title",children:"Chosen Plan"}),(0,g.jsx)("div",{className:"section-content",children:e.planText})]})}),(0,g.jsxs)("div",{className:"section",children:[(0,g.jsxs)("div",{className:"section-wrapper",children:[(0,g.jsxs)("div",{className:"section-title",children:["Total Due Today",(0!==t.CreditApplied||0!==t.CreditRemain)&&(0,g.jsx)(g.Fragment,{children:" *"})]}),(0,g.jsxs)("div",{className:"section-content",children:["$",t.UpgradeCost]})]}),(0,g.jsx)("div",{className:"section-tip",children:(0!==t.CreditApplied||0!==t.CreditRemain)&&(0,g.jsxs)(g.Fragment,{children:["* This is the prorated amount you need to pay today for your plan change. Your subscription will renew at $",t.SubscriptionPrice," / ",b," on"," ",m()(t.NextPaymentDue).format("ll")]})})]}),(!v||""!==t.CurrentPlanName)&&(0,g.jsx)("div",{className:"section",children:(0,g.jsxs)("div",{className:"section-wrapper",children:[(0,g.jsx)("div",{className:"section-title",children:"Payment Method"}),(0,g.jsx)("div",{className:"section-content",children:"Both"!==t.PaymentMethod?(0,g.jsx)("div",{children:t.PaymentMethod}):(0,g.jsx)("div",{className:"period-select",children:(0,g.jsxs)(I,{defaultValue:r,buttonStyle:"solid",onChange:S,children:[(0,g.jsx)(l.ZP,{value:"Stripe",className:"select-item",children:"Card"}),(0,g.jsx)(l.ZP,{value:"PayPal",className:"select-item",children:"PayPal"})]})})})]})}),(0,g.jsx)("div",{className:"btn-area",children:v&&""===t.CurrentPlanName?(0,g.jsx)(w,{amount:t.UpgradeCost,handleApplePay:e.handleApplePay,handleApplePayFallback:function(){y(!1)},planText:e.planText}):(0,g.jsx)(a.Z,{block:!0,type:"primary",loading:e.isUpgradeBtnLoading&&!e.isShowOverviewLoading,size:"large",onClick:function(){e.handlePay(r),(0,h.I1)("click pay button",{event_category:"pricing"})},children:"Upgrade"})})]}):(0,g.jsx)("div",{className:"loading",children:(0,g.jsx)(o.Z,{indicator:(0,g.jsx)(u.Z,{style:{fontSize:24},spin:!0})})})]})}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return(0,g.jsx)(r.Z,{visible:e.visible,destroyOnClose:!0,onCancel:e.handleCancel,className:"plan-overview-modal",footer:null,centered:!0,closeIcon:(0,g.jsx)(i.Tw,{style:{fontSize:"12px"}}),children:(0,g.jsx)(O,D({},e))})}},62579:(e,t,n)=>{n.d(t,{Z:()=>Z});n(47386);var r=n(48889),i=(n(50626),n(48086)),o=n(67294),a=n(4976),c=n(67618),s=(n(85624),n(71577)),l=(n(15285),n(71257)),u=(n(79133),n(32787)),d=n(89366),f=n(2603),m=n(85893);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===p(o)?o:String(o)),r)}var i,o}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}const w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(o,e);var t,n,r,i=y(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).handleSubmit=t.handleSubmit.bind(b(t)),t.fp=t.fp.bind(b(t)),t}return t=o,(n=[{key:"handleSubmit",value:function(e){this.props.onSignInSubmit(e)}},{key:"fp",value:function(){(0,c.Ah)("https://www.awesomescreenshot.com/user/forgetPassword")}},{key:"render",value:function(){return(0,m.jsxs)(l.Z,{onFinish:this.handleSubmit,children:[(0,m.jsx)(l.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:(0,m.jsx)(u.Z,{size:"large",prefix:(0,m.jsx)(d.Z,{}),type:"email",placeholder:"Email"})}),(0,m.jsx)(l.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:(0,m.jsx)(u.Z,{size:"large",prefix:(0,m.jsx)(f.Z,{}),type:"password",placeholder:"Password"})}),(0,m.jsx)("div",{className:"fp-box",children:(0,m.jsx)("a",{className:"fp",onClick:this.fp,children:"Forget Password"})}),(0,m.jsx)(l.Z.Item,{children:(0,m.jsx)(s.Z,{size:"large",type:"primary",loading:this.props.signInLoading,block:!0,htmlType:"submit",children:"Sign In"})})]})}}])&&h(t.prototype,n),r&&h(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(o.Component);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N(r.key),r)}}function N(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}function D(e,t){return D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},D(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return P(e)}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}const T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(s,e);var t,n,r,o=A(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={isShowSignIn:!1,signInLoading:!1},t.enterSignIn=t.enterSignIn.bind(P(t)),t.handleSignInSubmit=t.handleSignInSubmit.bind(P(t)),t.handleConnectGoogle=t.handleConnectGoogle.bind(P(t)),t.goToSignUp=t.goToSignUp.bind(P(t)),t}return t=s,(n=[{key:"enterSignIn",value:function(e){e.preventDefault(),this.setState({isShowSignIn:!0})}},{key:"goToSignUp",value:function(){(0,c.Ah)("https://www.awesomescreenshot.com/user/login"),this.props.onCancel()}},{key:"handleSignInSubmit",value:function(e){var t=this;this.setState({signInLoading:!0}),(0,a.zB2)(e).then((function(e){var n=e.data;0==n.ErrorCode?(n.S,t.setState({signInLoading:!1}),t.props.onSignInFinish()):(i.ZP.error(n.ErrorMsg),t.setState({signInLoading:!1}))})).catch((function(e){t.setState({signInLoading:!1}),i.ZP.error("Network error. Please try later.")}))}},{key:"handleConnectGoogle",value:function(){if("web"===this.props.type){var e=a.FHV+"/openid/auth2?redirect_url="+encodeURIComponent(document.URL);(0,c.Ah)(e)}else(0,c.Ah)(a.FHV+"/openid/auth2?redirect_url="+encodeURIComponent(chrome.runtime.getURL("aws")))}},{key:"render",value:function(){var e=this.props.type,t=this.state.isShowSignIn;return(0,m.jsxs)("div",{className:"sign-in-panel",children:[(0,m.jsxs)("div",{className:"title",children:[(0,m.jsx)("div",{className:"logo",children:(0,m.jsx)("b",{})}),"Awesome Screenshot"]}),(0,m.jsx)("p",{className:"tip",children:function(e){return"aws"===e?"":"drive"===e?"You need to sign in to an Awesome Screenshot account in order to connect with cloud services.":"des"===e?"You need to sign in to an Awesome Screenshot account in order to connect with other services.":""}(e)}),(0,m.jsx)("div",{className:"box",children:t?(0,m.jsx)("div",{className:"signInForm",children:(0,m.jsx)(w,I(I({},this.state),{},{onSignInSubmit:this.handleSignInSubmit}))}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"google-signin-btn",onClick:this.handleConnectGoogle,children:[(0,m.jsx)("div",{className:"icon",children:(0,m.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"18px",height:"18px",viewBox:"0 0 48 48",className:"abcRioButtonSvg",children:(0,m.jsxs)("g",{children:[(0,m.jsx)("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),(0,m.jsx)("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),(0,m.jsx)("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),(0,m.jsx)("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),(0,m.jsx)("path",{fill:"none",d:"M0 0h48v48H0z"})]})})}),(0,m.jsx)("span",{children:"Sign in with Google"})]}),(0,m.jsx)("div",{className:"sign-in-tip",children:(0,m.jsxs)("a",{onClick:this.enterSignIn,children:[(0,m.jsx)("b",{children:"Sign in"})," with email and password"]})}),(0,m.jsx)("div",{className:"sign-up-tip",children:(0,m.jsxs)("a",{onClick:this.goToSignUp,children:[(0,m.jsx)("b",{children:"Create account"})," with other email"]})})]})})]})}}])&&E(t.prototype,n),r&&E(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(o.Component);function L(e){return L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t=function(e){var t=function(e,t){if("object"!==L(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==L(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===L(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=function(e){return(0,m.jsx)(r.Z,R(R({},e),{},{footer:null,maskClosable:!1,wrapClassName:"sign-in",destroyOnClose:!0,centered:!0,children:(0,m.jsx)(T,R({},e))}))}},51594:(e,t,n)=>{n.d(t,{Z:()=>s});n(47386);var r=n(48889),i=(n(85624),n(71577)),o=n(96974),a=n(47481),c=n(85893);const s=function(e){var t=e.visible,n=e.onCancel,s=(0,o.s0)();return(0,c.jsx)(r.Z,{visible:t,onCancel:n,footer:null,maskClosable:!1,className:"transfer-team-modal",destroyOnClose:!0,width:786,closeIcon:(0,c.jsx)(a.Tw,{style:{fontSize:"12px"}}),children:(0,c.jsxs)("div",{className:"transfer-team-panel",children:[(0,c.jsx)("div",{className:"title",children:"Transfer to Workspace"}),(0,c.jsxs)("div",{className:"desc",children:["Thank you for choosing Awesome Screenshot Team plan.",(0,c.jsx)("br",{})," We are thrilled to launch Workspace, a solution for asynchronous communication across teammates and a visual repository for teams."]}),(0,c.jsxs)("div",{className:"content",children:[(0,c.jsxs)("div",{className:"transfer-item",children:[(0,c.jsx)("div",{className:"item-title",children:"Old Team Plan"}),(0,c.jsx)("ul",{className:"feature-list",children:(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Every member has a professional plan"]})})]}),(0,c.jsx)("div",{className:"transfer-arrow",children:(0,c.jsx)(a.e0,{})}),(0,c.jsxs)("div",{className:"transfer-item",children:[(0,c.jsx)("div",{className:"item-title",children:"Workspace"}),(0,c.jsxs)("ul",{className:"feature-list",children:[(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Every member has a professional plan"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Team management"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Collaborate with teammates"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"Seamless synchronization across different platforms"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)(a.m9,{}),"One place for all team resource and content"]})]}),(0,c.jsxs)("div",{className:"price",children:[(0,c.jsx)(a.Sr,{})," No change in unit price, more flexible price plan"]})]})]}),(0,c.jsxs)("div",{className:"tip",children:["Get greater collaborative experience with"," ",(0,c.jsx)("span",{children:"NO addtional cost"}),"."]}),(0,c.jsx)("div",{className:"btn-area",children:(0,c.jsx)(i.Z,{type:"primary",size:"large",onClick:function(){s("/workspace/transfer")},children:"Create a workspace and transfer"})})]})})}},1660:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(75531),i=n(61401),o=n(85893);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.workspace,n=e.afterUpdate,i=e.type;return(0,o.jsxs)("div",{className:"change-card-panel",children:[(0,o.jsxs)("div",{className:"title",children:[" ","addCard"===i?"Add Card":"Update Card"]}),(0,o.jsx)("div",{className:"content",children:(0,o.jsx)(r.Z,{workspace:t,afterPay:n,type:i})})]})}const d=function(e){return(0,o.jsx)(i.Z,s(s({},e),{},{visible:e.visible,onCancel:e.onCancel,children:(0,o.jsx)(u,s(s({},e),{},{closeModal:e.onCancel}))}))}},21862:(e,t,n)=>{n.d(t,{Z:()=>u});n(47386);var r=n(48889),i=(n(85624),n(71577)),o=(n(50626),n(48086)),a=n(96974),c=n(4976),s=n(47481),l=n(85893);function u(e){var t=e.visible,n=e.onCancel,u=e.isOwner,d=e.workspaceID,f=e.channelID,m=e.type,p=(0,a.s0)();return(0,l.jsx)(r.Z,{visible:t,onCancel:n,footer:null,width:548,maskClosable:!1,wrapClassName:"workspace-upgrade-modal",destroyOnClose:!0,centered:!0,closeIcon:(0,l.jsx)(s.Tw,{style:{fontSize:"12px"}}),children:(0,l.jsxs)("div",{className:"workspace-upgrade-panel",children:[(0,l.jsx)("div",{className:"title",children:"Get more with Workspace Premium"}),(0,l.jsx)("div",{className:"subtitle",children:"Workspace has reached items limit"}),(0,l.jsxs)("div",{className:"feature-box",children:[(0,l.jsxs)("div",{className:"feature-item",children:[(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(s.dG,{})}),(0,l.jsx)("div",{className:"text",children:"Unlimited Videos"})]}),(0,l.jsxs)("div",{className:"feature-item",children:[(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(s.K,{})}),(0,l.jsx)("div",{className:"text",children:"Unlimited Images"})]}),(0,l.jsxs)("div",{className:"feature-item",children:[(0,l.jsx)("div",{className:"icon",children:(0,l.jsx)(s.$g,{})}),(0,l.jsx)("div",{className:"text",children:"Unlimited members"})]})]}),(0,l.jsx)(i.Z,{className:"up-btn",size:"large",type:"primary",onClick:function(){u?p("/workspace/setting/"+d+"?tab=billing"):(0,c.qo7)(m,d,f).then((function(){o.ZP.success("Remind successfully."),n()}))},children:u?"Upgrade Now":"Remind owner to upgrade"})]})})}},11572:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(67294);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const a=function(e){var t=e.render,n=i((0,r.useState)(!1),2),o=n[0],a=n[1];return t(o,(function(){a(!0)}),(function(){a(!1)}))}},75309:(e,t,n)=>{n.d(t,{Z:()=>f});n(15285);var r=n(71257),i=(n(85624),n(71577)),o=(n(79133),n(32787)),a=n(67294),c=n(4976),s=n(85893);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=o.Z.TextArea;const f=function(e){var t=l((0,a.useState)(!1),2),n=t[0],u=t[1],f=l((0,a.useState)(!1),2),m=f[0],p=f[1];return(0,s.jsx)("div",{className:"plan-contact-form",children:m?(0,s.jsx)("div",{className:"finish-view",children:(0,s.jsxs)("div",{className:"center",children:[(0,s.jsx)("h2",{children:"Message sent!"}),(0,s.jsx)("p",{children:"We'll be in touch."}),(0,s.jsx)(i.Z,{type:"primary",onClick:p.bind(null,!1),children:"Send us another message"})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"win-title",children:"Get in touch with us"}),(0,s.jsx)("div",{className:"tip",children:"Have a question or request? Drop us a line :)"}),(0,s.jsx)("div",{className:"form",children:(0,s.jsxs)(r.Z,{onFinish:function(e){u(!0);var t={email:e.email,subject:"Plan page contact us",content:e.content};(0,c.hz1)(t).then((function(){p(!0),u(!1)}))},children:[(0,s.jsx)(r.Z.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"}],children:(0,s.jsx)(o.Z,{type:"email",placeholder:"Your Email"})}),(0,s.jsx)(r.Z.Item,{name:"content",rules:[{required:!0,message:"Please say something!"}],children:(0,s.jsx)(d,{rows:4,placeholder:"Message"})}),(0,s.jsx)(r.Z.Item,{children:(0,s.jsx)(i.Z,{className:"contact-submit-btn",loading:n,type:"primary",htmlType:"submit",size:"large",block:!0,children:"Send"})})]})})]})})}},54353:(e,t,n)=>{n.d(t,{Z:()=>s});n(67004);var r=n(19181),i=(n(91324),n(45777)),o=n(85469),a=n(47481),c=n(85893);const s=function(){var e=o.uK[1],t=(0,c.jsx)("div",{className:"pro-pop",children:(0,c.jsxs)("div",{className:"feature-box",children:[(0,c.jsx)("div",{className:"feature-title",children:"Screenshot"}),(0,c.jsx)("div",{className:"feature-section",children:(0,c.jsx)("ul",{className:"feature-list",children:e.features.screenshot.map((function(t,n){return(0,c.jsx)("li",{children:(0,c.jsxs)("div",{className:"feature-item",children:[(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:t.replace(/(Unlimited|All)/gi,"<b>$&</b>")}}),"Save screenshots to:"===t&&(0,c.jsx)("div",{className:"integrations-container",children:e.features.integrations_cs.map((function(e){return(0,c.jsx)(i.Z,{title:e.displayName,children:(0,c.jsx)("div",{className:"integration-item small ".concat(e.name)})},e.name)}))})]})},n)}))})}),(0,c.jsxs)("div",{className:"feature-section",children:[(0,c.jsx)("div",{className:"feature-title",children:"Video Recording"}),(0,c.jsx)("ul",{className:"feature-list",children:e.features.record.map((function(e,t){return(0,c.jsx)("li",{children:(0,c.jsx)("div",{className:"feature-item",children:"string"===e.type?(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}):(0,c.jsxs)("div",{className:"feature-link",children:[(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}),(0,c.jsxs)("div",{className:"feature-preview ".concat(e.preview),children:[(0,c.jsx)("div",{className:"text",children:"local"===e.preview?'Local Recordings: temporarily stored under "My Local Recordings", can be further saved to your local disk.':"Cloud Recordings: automatically saved to your account, can be shared instantly and also downloadable."}),(0,c.jsx)("div",{className:"pic"})]})]})})},t)}))}),("free"===e.type||"basic"===e.type)&&(0,c.jsxs)("div",{className:"extra",children:[(0,c.jsx)("div",{className:"extra-title",children:"For the first 20 videos recorded with cloud mode, you can try professional features listed below:"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{className:"list-item",children:"Download in MP4"}),(0,c.jsx)("li",{className:"list-item",children:"Use annotation tools while recording"}),(0,c.jsx)("li",{className:"list-item",children:"Unlimited length per recording"}),(0,c.jsx)("li",{className:"list-item",children:"Edit video"})]})]})]}),e.features.integrations_cp.length>0&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"feature-title",children:"Integrations"}),(0,c.jsx)("div",{className:"integrations-container",children:e.features.integrations_cp.map((function(e){return(0,c.jsx)(i.Z,{title:e.displayName,children:(0,c.jsx)("div",{className:"integration-item ".concat(e.name)})},e.name)}))})]})]})});return(0,c.jsx)(r.Z,{content:t,placement:"rightBottom",arrowPointAtCenter:!0,children:(0,c.jsxs)("div",{className:"pro-card",children:[(0,c.jsx)("div",{className:"icon",children:(0,c.jsx)(a.CE,{})}),"Professional plan",(0,c.jsx)("div",{className:"bg-icon",children:(0,c.jsx)(a.dd,{})})]})})}},3432:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(76832),i=n.n(r),o=n(15654),a=n(67294),c=n(71167),s=n.n(c),l=n(96774),u=n.n(l),d=n(85469),f=n(85893);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}c.Quill.register("modules/magicUrl",i()),c.Quill.register("modules/mention",o.Z);function h(e,t){var n=e.mentionUsers,r=e.defaultMentionUsers,i=(0,a.useRef)(null),o=m((0,a.useState)(!0),2),c=o[0],l=o[1];function u(){i.current.getEditor().getModule("mention").openMenu(" @")}function p(e){var t=i.current.getEditor(),n=t.getSelection(!0),r=n?n.index:0;t.insertText(r,e),t.focus()}function h(){return i.current.getEditor().root.innerHTML}function v(e){e.denotationChar="@",i.current.getEditor().getModule("mention").insertItem(e,!0)}(0,a.useEffect)((function(){l(!1)}),[]),(0,a.useEffect)((function(){r&&r.length&&r.forEach((function(e){v(e)}))}),[r]),(0,a.useImperativeHandle)(t,(function(){return{addAt:u,addEmoji:p,addMention:v,getContent:h}}));var y={allowedChars:/^[A-Za-z\sÅÄÖåäö]*$/,mentionDenotationChars:["@"],isolateCharacter:!0,source:function(e,t,r){var i;if("@"===r&&(i=n),0===e.length)t(i,e);else{for(var o=[],a=0;a<i.length;a++)~i[a].value.toLowerCase().indexOf(e.toLowerCase())&&o.push(i[a]);t(o,e)}},renderItem:function(e){var t,n,r,i=(t=e.value,n=t?t.length:0,d.Cj[n%d.Cj.length]),o=function(e){var t=e?e.split(" "):[],n="";return t.forEach((function(e){n+=e.charAt(0).toUpperCase()})),n=n.substr(0,3)}(e.value),a=(r=o.length,12-Math.max(2,r)+"px");return'<div class="mention-user"><div class="mention-user-avatar" style="background-color:'.concat(i,";font-size: ").concat(a,'">').concat(o,'<img onerror="javascript:this.remove();" src="').concat(e.avatar,'" /></div><div class="mention-user-name">').concat(e.value,"</div></div>")}};return(0,f.jsx)("div",{className:"quill-comment-box",children:(0,f.jsx)(s(),{ref:i,placeholder:"use @ to mention team members",theme:"snow",readOnly:c,formats:["link","mention"],modules:{toolbar:!1,mention:y,magicUrl:!0}})})}var v=(0,a.forwardRef)(h);const y=(0,a.memo)(v,(function(e,t){return u()(e.mentionUsers,t.mentionUsers)&&u()(e.defaultMentionUsers,t.defaultMentionUsers)}))},74601:(e,t,n)=>{n.d(t,{Z:()=>f});n(91324);var r=n(45777),i=(n(76751),n(67294)),o=n(96974),a=n(96774),c=n.n(a),s=n(99096),l=n(47481),u=n(85893);function d(e){var t=e.folder,n=e.shareKey,i=e.showAvatar,a=(0,o.s0)();return(0,u.jsxs)("div",{className:"folder-item",children:[(0,u.jsx)("div",{className:"checked-badge"}),(0,u.jsx)("div",{className:"click-area",onClick:function(){a("/s/folder/".concat(t.folderID,"/").concat(n),{inApp:!/\/s\/folder/.test(window.location.pathname)})}}),(0,u.jsx)(l.RO,{}),(0,u.jsx)("span",{className:"name",children:t.name||t.title}),i&&(0,u.jsx)(r.Z,{title:t.userName,color:"#26242a",placement:"top",children:(0,u.jsx)("div",{className:"avatar-box",children:(0,u.jsx)(s.Z,{username:t.userName,size:30,avatarUrl:t.userAvatar})})})]})}const f=(0,i.memo)(d,(function(e,t){return c()(e.folder,t.folder)}))},28191:(e,t,n)=>{n.d(t,{Z:()=>w});n(91324);var r=n(45777),i=n(94184),o=n.n(i),a=n(27484),c=n.n(a),s=n(67294),l=n(1216),u=n(56262),d=n(96774),f=n.n(d),m=n(99096),p=n(33179),h=n(67618),v=n(47481),y=n(85893);function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e){var t=e.item,n=e.viewSharedNewComment,i=e.query,a=e.isFolder,u=e.handleShowItem,d=g((0,s.useState)(!1),2),f=d[0],p=d[1];(0,s.useEffect)((function(){var e=setTimeout((function(){return(0,l.be)()}),100);return function(){return clearTimeout(e)}}),[]);var b=(0,s.useRef)(null),j=function(){a||n(t.itemType,t.id,t.newCommentCount),u(t)},w=o()("shared-grid-item",{notify:t.hasNewComments});return(0,y.jsx)("div",{className:w,ref:b,children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"thumbnail-area",onClick:j,children:[(0,y.jsx)(l.ZP,{scrollContainer:"#item-container",offset:100,once:!0,children:(0,y.jsx)("img",{src:t.thumbnailURI,alt:"",onLoad:function(){return p(!0)},onError:function(e){return e.currentTarget.style.opacity="0"}})}),!f&&(0,y.jsx)("div",{className:"placeholder",children:"video"===t.itemType?(0,y.jsx)(v.dG,{}):(0,y.jsx)(v.K,{})}),(0,y.jsx)("div",{className:"overlay"}),"video"===t.itemType&&(0,y.jsx)("div",{className:"duration",children:t.duration})]}),(0,y.jsxs)("div",{className:"info-area",children:[!a&&(0,y.jsx)(r.Z,{title:t.userName,placement:"left",children:(0,y.jsx)("div",{className:"shared-item-avatar",children:(0,y.jsx)(m.Z,{username:t.userName,avatarUrl:t.userAvatar,size:"30"})})}),(0,y.jsx)("div",{className:"name ".concat(t.itemType),onClick:j,children:(0,y.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,h.CH)(i,(0,h.ol)(t.title))}})}),(0,y.jsxs)("div",{className:"extra-info",children:["video"===t.itemType?(0,y.jsx)(v.dG,{}):(0,y.jsx)(v.K,{}),(0,y.jsx)("div",{className:"date",children:c().unix(t.updatedSec).format("ll")}),(0,y.jsx)("div",{className:"sep",children:"•"}),(0,y.jsxs)("div",{className:"view",children:[t.views," ",t.views>1?"views":"view"]})]})]})]})})}const w=(0,u.$j)(null,{viewSharedNewComment:p.Iz})((0,s.memo)(j,(function(e,t){return e.handleShowItem===t.handleShowItem&&f()(e.item,t.item)})))},85580:(e,t,n)=>{n.d(t,{Z:()=>d});n(85624);var r=n(71577),i=n(67294),o=n(44539),a=n(2294),c=n(47481),s=n(85893);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const d=function(e){var t=e.item,n=l((0,i.useState)(!1),2),u=n[0],d=n[1],f=l((0,i.useState)("both"),2),m=f[0],p=f[1],h=(0,i.useRef)(null);return(0,s.jsxs)("div",{className:"sidebar-move-to-panel",children:[(0,s.jsx)("div",{className:"section compact",children:"0"!==t.folderID||t.channel?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"current-location-container",children:[(0,s.jsx)("div",{className:"title",children:"Currently in"}),(0,s.jsxs)("div",{className:"current-location",onClick:function(){var e;t.channel?h.current.open([t],{from:"channel",idParams:{workspaceID:t.channel.workspaceID,channelID:t.channel.id,folderID:(null===(e=t.wcFolder)||void 0===e?void 0:e.folderID)||"0"}}):(d(!0),p("both"))},children:[(0,s.jsx)("div",{className:"location",children:t.channel?t.wcFolder?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.RO,{}),(0,s.jsx)("span",{className:"location-name",title:t.wcFolder.name,children:t.wcFolder.name})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.MC,{}),(0,s.jsx)("span",{className:"location-name",title:t.channel.name,children:t.channel.name})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.RO,{}),(0,s.jsx)("span",{className:"location-name",title:t.folderName,children:t.folderName})]})}),(0,s.jsx)("div",{children:(0,s.jsx)(c.e0,{})})]})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"tip",children:"Currently saved in My items, move to:"}),(0,s.jsxs)("div",{className:"btn-area",children:[(0,s.jsx)(r.Z,{type:"primary",onClick:function(){d(!0),p("folder")},children:"Folder"}),(0,s.jsx)("span",{className:"or",children:"or"}),(0,s.jsx)(r.Z,{type:"primary",onClick:function(){d(!0),p("channel")},children:"Workspace"})]})]})}),(0,s.jsx)(a.Z,{visible:u,onCancel:function(){return d(!1)},items:[t],des:m}),(0,s.jsx)(o.p,{ref:h})]})}},47481:(e,t,n)=>{n.d(t,{$E:()=>Tn,$Z:()=>On,$g:()=>rr,AM:()=>tr,Ak:()=>qt,CE:()=>dr,DE:()=>lr,Dn:()=>yn,EA:()=>tn,FL:()=>Yt,GK:()=>An,GR:()=>jr,GS:()=>gn,HC:()=>Dr,HH:()=>Kn,Hf:()=>sn,Iu:()=>_r,JJ:()=>Qt,K:()=>$t,Kv:()=>Jn,LI:()=>hn,M:()=>en,MC:()=>Xn,Mj:()=>Sr,N3:()=>Gn,NA:()=>Mr,NJ:()=>sr,NK:()=>Nn,Nt:()=>Cn,O$:()=>mr,O9:()=>gr,OO:()=>ur,Od:()=>Bt,PD:()=>Er,Pg:()=>_n,Py:()=>on,Qe:()=>Ln,R7:()=>kr,RO:()=>Jt,Sl:()=>kn,Sr:()=>Zn,TI:()=>zt,Tw:()=>Ht,U_:()=>wn,V_:()=>Un,Vn:()=>Or,WU:()=>Vt,Wp:()=>Rr,Wv:()=>Pr,XB:()=>Xt,XH:()=>pn,Xt:()=>In,ZO:()=>Wn,_8:()=>Kt,_K:()=>nr,a3:()=>Bn,a6:()=>Ar,aA:()=>Lr,aN:()=>mn,aY:()=>Ir,bv:()=>bn,cV:()=>Gt,dG:()=>vn,dd:()=>fr,dt:()=>Zt,dz:()=>Dn,e0:()=>Ut,eL:()=>Qn,f4:()=>Mt,fK:()=>ir,fR:()=>ln,fY:()=>Hn,fp:()=>xn,g7:()=>er,ih:()=>En,j4:()=>Pn,lO:()=>yr,m9:()=>fn,mB:()=>Cr,n2:()=>an,nX:()=>nn,o1:()=>jn,oI:()=>vr,p5:()=>cr,pF:()=>Nr,pG:()=>br,q7:()=>Fr,q9:()=>Vn,qY:()=>$n,qh:()=>zn,qz:()=>Mn,r7:()=>or,r_:()=>rn,sh:()=>cn,tL:()=>ar,tN:()=>Fn,tj:()=>xr,u3:()=>pr,uz:()=>Tr,vp:()=>wr,wn:()=>hr,xR:()=>Rn,xY:()=>qn,xj:()=>un,xm:()=>Yn,y3:()=>Wt,yT:()=>dn,yb:()=>Zr,yi:()=>Sn,zJ:()=>Ft});n(50058);var r=n(16165),i=n(94184),o=n.n(i),a=n(67294),c=n(95334),s=n(7144),l=n(5064),u=n(9499),d=n(97860),f=n(90138),m=n(40247),p=n(38282),h=n(89236),v=n(79635),y=n(44685),g=n(36596),b=n(21712),j=n(73314),w=n(96214),x=n(79624),S=n(75707),I=n(33024),O=n(17322),E=n(36117),N=n(93667),D=n(82152),A=n(2460),C=n(94246),P=n(93126),k=n(36291),T=n(54239),L=n(13399),_=n(886),R=n(25563),M=n(1785),Z=n(16952),F=n(29841),U=n(90149),H=n(57343),G=n(71552),B=n(50710),V=n(41573),z=n(76062),W=n(12999),K=n(20525),Y=n(96949),Q=n(74602),q=n(9887),J=n(34716),X=n(18232),$=n(15119),ee=n(63439),te=n(16054),ne=n(20842),re=n(1276),ie=n(88987),oe=n(27861),ae=n(49918),ce=n(89066),se=n(93307),le=n(71442),ue=n(16414),de=n(33094),fe=n(86022),me=n(90153),pe=n(53773),he=n(81528),ve=n(42367),ye=n(29230),ge=n(40630),be=n(67636),je=n(42746),we=n(85037),xe=n(26130),Se=n(60182),Ie=n(22632),Oe=n(41921),Ee=n(79959),Ne=n(71124),De=n(27239),Ae=n(71273),Ce=n(42170),Pe=n(5777),ke=n(84590),Te=n(59834),Le=n(21311),_e=n(70861),Re=n(54464),Me=n(26085),Ze=n(78286),Fe=n(19358),Ue=n(5554),He=n(26180),Ge=n(32330),Be=n(47727),Ve=n(57808),ze=n(16364),We=n(55518),Ke=n(67334),Ye=n(12818),Qe=n(50149),qe=n(16501),Je=n(98320),Xe=n(66185),$e=n(98387),et=n(52511),tt=n(13309),nt=n(49544),rt=n(87113),it=n(27183),ot=n(63921),at=n(69926),ct=n(81683),st=n(12322),lt=n(78646),ut=n(97930),dt=n(82191),ft=n(6797),mt=n(35854),pt=n(56739),ht=n(24565),vt=n(80304),yt=n(91100),gt=n(40110),bt=n(78736),jt=n(15238),wt=n(64862),xt=n(16739),St=n(9992),It=n(45716),Ot=n(85606),Et=n(8895),Nt=n(5443),Dt=n(85893);function At(e){return At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(e)}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){kt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==At(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==At(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===At(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _t={AddImageIcon:p.Z,AddIcon:m.Z,AnnotateIcon:y.Z,ArrowIcon:g.Z,ArrowFilledIcon:b.Z,CloseIcon:D.Z,CommentIcon:A.Z,CompleteIcon:P.Z,NarrowIcon:u.Z,CopyLinkIcon:L.Z,CopyIcon:T.Z,DownloadFolderIcon:H.Z,DownloadIcon:G.Z,EmbedIcon:K.Z,EnlargeIcon:l.Z,NotCompleteIcon:d.Z,FeedbackIcon:J.Z,FolderIcon:f.Z,ImageIcon:xe.Z,ImagesIcon:Se.Z,ItemsIcon:Ie.Z,LoadingMoreIcon:Ee.Z,MoreIcon:ke.Z,MoveFolderIcon:Le.Z,MoveFolderContextmenyIcon:_e.Z,NotificationIcon:Ze.Z,OpenFolderIcon:c.Z,PutBackIcon:Je.Z,RenameIcon:nt.Z,RenameFolderIcon:rt.Z,RightIcon:at.Z,TagIcon:bt.Z,TrashFilledIcon:wt.Z,TrashIcon:jt.Z,VideoIcon:xt.Z,VideosIcon:St.Z,AddTextIcon:v.Z,CutIcon:M.Z,ProIcon:Qe.Z,PullIcon:qe.Z,ReduceIcon:tt.Z,MoreDotIcon:Te.Z,PlayIcon:ze.Z,PlayControlIcon:We.Z,PauseIcon:Ue.Z,PauseControlIcon:He.Z,FullScreenIcon:te.Z,NormalScreenIcon:Me.Z,PIPIcon:Ve.Z,ReplayIcon:it.Z,ReplayControlIcon:ot.Z,VolumeCloseIcon:It.Z,VolumeHighIcon:Et.Z,VolumeLowIcon:Ot.Z,SharedIcon:ft.Z,StepForwardIcon:yt.Z,StepBackIcon:vt.Z,CommentBubbleIcon:C.Z,MentionMsgIcon:Ce.Z,VideoEditorIcon:W.Z,EmojiIcon:gt.Z,RecordDesktopIcon:et.Z,RecordCameraIcon:$e.Z,PricingTagIcon:Ke.Z,LightThemeIcon:Oe.Z,DarkThemeIcon:Z.Z,AutoThemeIcon:w.Z,NewTabIcon:Re.Z,MicIcon:Pe.Z,HDIcon:re.Z,CameraIcon:S.Z,ChromeIcon:N.Z,EdgeIcon:V.Z,GoogleIcon:ne.Z,BrushIcon:de.Z,SecurityIcon:ge.Z,SyncIcon:je.Z,ChannelIcon:O.Z,SettingIcon:ct.Z,MemberIcon:Ae.Z,PersonIcon:Be.Z,QuestionMarkIcon:Xe.Z,CardIcon:I.Z,SharedMeIcon:ut.Z,MeIcon:Ne.Z,StarIcon:ht.Z,EmptyIcon:Y.Z,PdfIcon:Ge.Z,PrinterIcon:Ye.Z,CopyImageIcon:k.Z,SmileIcon:mt.Z,CrownIcon:_.Z,CrownBgIcon:R.Z,SharedMeFilledIcon:dt.Z,WarningIcon:q.Z,BilligIcon:x.Z,StarFolderIcon:s.Z,MeFilledIcon:De.Z,AtIcon:j.Z,StickerIcon:gt.Z,CameraNoIcon:me.Z,TrashRecordIcon:we.Z,StopRecordIcon:be.Z,ActionBigIcon:ie.Z,ActionMiniIcon:oe.Z,CameraRecordIcon:ce.Z,CheckboxIcon:E.Z,DragIcon:ue.Z,AddMemberIcon:h.Z,RecordPauseIcon:pe.Z,RecordPlayIcon:ve.Z,LockIcon:fe.Z,EnterpriseIcon:Q.Z,DomainIcon:U.Z,SsoIcon:pt.Z,DownloadExtIcon:le.Z,CopyExtIcon:se.Z,PDFExtIcon:he.Z,PrintExtIcon:ye.Z,BackupExtIcon:ae.Z,OutIcon:Fe.Z,ShareIcon:st.Z,ShareFolderIcon:lt.Z,DescIcon:F.Z,FolderFilledIcon:$.Z,VideoFolderIcon:ee.Z,VideoFilmIcon:X.Z,VideoEditIcon:z.Z,DuplicateIcon:B.Z,ChangelogIcon:Nt.Z,FolderGradientIcon:f.Z},Rt=Object.fromEntries(Object.entries(_t).map((function(e){var t=Tt(e,2),n=t[0],i=t[1],c=(0,a.memo)((function(e){return(0,Dt.jsx)(r.Z,Pt(Pt({component:i},e),{},{className:o()("svg-icon",e.className)}))}));return c.displayName=n,[n,c]}))),Mt=Rt.AddImageIcon,Zt=Rt.AddIcon,Ft=Rt.AnnotateIcon,Ut=Rt.ArrowIcon,Ht=(Rt.ArrowFilledIcon,Rt.CloseIcon),Gt=(Rt.CommentIcon,Rt.CompleteIcon),Bt=Rt.CopyLinkIcon,Vt=Rt.NarrowIcon,zt=Rt.CopyIcon,Wt=Rt.DownloadFolderIcon,Kt=Rt.DownloadIcon,Yt=Rt.EmbedIcon,Qt=Rt.EnlargeIcon,qt=Rt.FeedbackIcon,Jt=Rt.FolderIcon,Xt=Rt.ImageIcon,$t=Rt.ImagesIcon,en=Rt.ItemsIcon,tn=Rt.LoadingMoreIcon,nn=Rt.MoreIcon,rn=Rt.MoveFolderIcon,on=Rt.MoveFolderContextmenyIcon,an=Rt.NotCompleteIcon,cn=Rt.NotificationIcon,sn=Rt.OpenFolderIcon,ln=Rt.PutBackIcon,un=Rt.RenameIcon,dn=Rt.RenameFolderIcon,fn=Rt.RightIcon,mn=(Rt.TagIcon,Rt.TrashFilledIcon),pn=Rt.TrashIcon,hn=Rt.VideoIcon,vn=Rt.VideosIcon,yn=(Rt.AddTextIcon,Rt.CutIcon,Rt.ProIcon,Rt.PullIcon),gn=Rt.ReduceIcon,bn=Rt.MoreDotIcon,jn=Rt.PlayIcon,wn=Rt.PlayControlIcon,xn=Rt.PauseIcon,Sn=Rt.PauseControlIcon,In=Rt.FullScreenIcon,On=Rt.NormalScreenIcon,En=Rt.PIPIcon,Nn=Rt.ReplayIcon,Dn=Rt.ReplayControlIcon,An=Rt.VolumeCloseIcon,Cn=Rt.VolumeHighIcon,Pn=Rt.VolumeLowIcon,kn=(Rt.SharedIcon,Rt.ShareFolderIcon),Tn=Rt.StepForwardIcon,Ln=Rt.StepBackIcon,_n=Rt.CommentBubbleIcon,Rn=Rt.MentionMsgIcon,Mn=Rt.VideoEditorIcon,Zn=Rt.EmojiIcon,Fn=Rt.RecordDesktopIcon,Un=Rt.RecordCameraIcon,Hn=Rt.PricingTagIcon,Gn=Rt.LightThemeIcon,Bn=Rt.DarkThemeIcon,Vn=Rt.AutoThemeIcon,zn=Rt.NewTabIcon,Wn=Rt.MicIcon,Kn=Rt.HDIcon,Yn=Rt.CameraIcon,Qn=Rt.ChromeIcon,qn=Rt.EdgeIcon,Jn=Rt.GoogleIcon,Xn=(Rt.BrushIcon,Rt.SecurityIcon,Rt.SyncIcon,Rt.ChannelIcon),$n=Rt.SettingIcon,er=Rt.MemberIcon,tr=(Rt.PersonIcon,Rt.QuestionMarkIcon),nr=Rt.CardIcon,rr=Rt.SharedMeIcon,ir=Rt.MeIcon,or=Rt.StarIcon,ar=Rt.EmptyIcon,cr=Rt.PdfIcon,sr=Rt.PrinterIcon,lr=Rt.CopyImageIcon,ur=Rt.SmileIcon,dr=Rt.CrownIcon,fr=Rt.CrownBgIcon,mr=Rt.SharedMeFilledIcon,pr=Rt.WarningIcon,hr=(Rt.BilligIcon,Rt.StarFolderIcon),vr=Rt.MeFilledIcon,yr=Rt.AtIcon,gr=Rt.StickerIcon,br=Rt.CameraNoIcon,jr=Rt.TrashRecordIcon,wr=Rt.StopRecordIcon,xr=Rt.ActionBigIcon,Sr=Rt.ActionMiniIcon,Ir=Rt.CameraRecordIcon,Or=Rt.DragIcon,Er=Rt.CheckboxIcon,Nr=Rt.AddMemberIcon,Dr=Rt.RecordPauseIcon,Ar=Rt.RecordPlayIcon,Cr=Rt.LockIcon,Pr=Rt.EnterpriseIcon,kr=Rt.DomainIcon,Tr=Rt.SsoIcon,Lr=(Rt.DownloadExtIcon,Rt.CopyExtIcon,Rt.PDFExtIcon,Rt.PrintExtIcon,Rt.BackupExtIcon,Rt.OutIcon,Rt.ShareIcon),_r=Rt.DescIcon,Rr=Rt.FolderFilledIcon,Mr=(Rt.VideoFolderIcon,Rt.VideoFilmIcon,Rt.VideoEditIcon,Rt.DuplicateIcon),Zr=Rt.ChangelogIcon,Fr=Rt.FolderGradientIcon},2264:(e,t,n)=>{n.d(t,{Z:()=>f});var r,i=n(27484),o=n.n(i),a=n(67294),c=n(56262),s=n(79993),l=n(85893);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}!function(e){e[e.None=0]="None",e[e.Recording=1]="Recording",e[e.Pending=2]="Pending",e[e.Uploading=3]="Uploading",e[e.Processing=4]="Processing",e[e.Done=5]="Done",e[e.Failed=6]="Failed"}(r||(r={}));const f=(0,c.$j)((function(e){return{userInfo:e.user.info}}),null)((function(e){var t=e.isShare,n=e.videoInfo,i=e.userInfo,c=e.isVideoDetail,d=e.setVideoComplete,f=e.deleteVideoAction,m=u((0,a.useState)(r.None),2),p=m[0],h=m[1],v=u((0,a.useState)(0),2),y=v[0],g=v[1],b=c?2.1:1.42,j=(0,a.useMemo)((function(){return p===r.Pending}),[p]),w=(0,a.useMemo)((function(){return p===r.Recording}),[p]),x=(0,a.useMemo)((function(){return p===r.Uploading}),[p]),S=(0,a.useMemo)((function(){return p===r.Processing}),[p]),I=(0,a.useMemo)((function(){return p===r.Failed}),[p]);return(0,a.useEffect)((function(){if(n)if(n.failed)h(r.Failed);else if(n.isRecording&&n.uploadProcess){var e=n.uploadProcess.split(":");if(e.length>1&&Number(e[1])>0){var t=Math.floor(100*Number(e[0])/Number(e[1]));g(t<=0?0:t>=100?100:t),h(r.Uploading)}else h(r.Recording);n.recordingLastUpdatedMsec>0&&o()(n.recordingLastUpdatedMsec).add(10,"minute")<o()()&&h(r.Pending)}else n.s3Available&&(s.Z.webmSupport()||n.mp4Available)?h(r.Done):h(r.Processing)}),[n]),(0,l.jsxs)("div",{className:"video-uploading-tip ".concat(c?"is-video-detail":""),style:{backgroundColor:null!=n&&n.thumbnailURI?"rgba(0, 0, 0, 0.8)":"#8a8f99"},children:[w?(0,l.jsx)("div",{className:"title uploading",children:"Recording"}):"",x?(0,l.jsxs)("div",{className:"upload-progress",children:[(0,l.jsxs)("div",{className:"progress-tip",style:{WebkitTransform:"translateX(calc(-50% + ".concat(y*b,"px))"),msTransform:"translateX(calc(-50% + ".concat(y*b,"px))"),transform:"translateX(calc(-50% + ".concat(y*b,"px))")},children:[y,"%"]}),(0,l.jsx)("div",{className:"progress-track",children:(0,l.jsx)("div",{className:"progress-bar",style:{WebkitTransform:"scaleX(".concat(y,"%)"),msTransform:"scaleX(".concat(y,"%)"),transform:"scaleX(".concat(y,"%)")}})}),(0,l.jsx)("div",{className:"title",children:"Uploading"})]}):"",j?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"title",children:"Upload Pending"}),t?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"msg",children:"Please click the Stop button to manually complete it."}),(0,l.jsx)("div",{className:"btn-container",children:(0,l.jsx)("div",{className:"button",onClick:function(){n&&d&&d(n.id)},children:"Stop"})})]})]}):"",I?t?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"title",children:"Playback Failed"}),(0,l.jsx)("div",{className:"msg",children:"Sorry, the video cannot be played due to an unknown error."})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"title",children:"Upload Failed"}),(0,l.jsx)("div",{className:"msg",children:"Sorry, this recording failed to save due to an unexpected error."}),f&&(0,l.jsx)("div",{className:"btn-container",children:(0,l.jsx)("div",{className:"button",onClick:f,children:"Report a problem & Delete"})})]}):"",S?(0,l.jsxs)("div",{className:"title success",children:[(null==i?void 0:i.uid)+""!==(null==n?void 0:n.userID)?null:(0,l.jsxs)(l.Fragment,{children:["Upload successful!",(0,l.jsx)("br",{})]}),"Video being processed.",(0,l.jsx)("br",{}),"You can watch it soon."]}):""]})}))},13087:(e,t,n)=>{n.d(t,{Z:()=>D});n(85624);var r=n(71577),i=(n(16154),n(47933)),o=(n(91324),n(45777)),a=n(38640),c=n(4251),s=n(67294),l=n(73935),u=n(56262),d=n(99096),f=n(4976),m=n(30817),p=n(67618),h=n(71853),v=n(97591),y=n(47481),g=n(75531),b=n(85893);function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==j(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===j(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=(0,u.$j)((function(e){return{premium:e.user.premium}}))((function(e){var t=e.workspace,n=e.onCancel,c=e.afterPay,l=e.from,u=e.initialPeriod,j=e.payStatus,w=e.premium,x=I((0,s.useState)(null),2),S=x[0],O=x[1],E=I((0,s.useState)((function(){return u||"year"})),2),N=E[0],D=E[1],A=I((0,s.useState)(!1),2),C=A[0],P=A[1],k=I((0,s.useState)("current"),2),T=k[0],L=k[1],_=I((0,s.useState)(!1),2),R=_[0],M=_[1],Z=(0,s.useRef)(),F=(0,m.Z)().get("promotionCode"),U=I((0,s.useState)(!1),2),H=U[0],G=U[1],B="free"!=(null==w?void 0:w.currentPlan.PlanName)&&!(null!=w&&w.currentPlan.IsWorkspace)&&"Apple"==(null==w?void 0:w.currentPlan.PaymentMethod);function V(){B?M(!0):c()}(0,s.useEffect)((function(){(0,f.eH4)(t.id,l,F).then((function(e){O(e)}))}),[t.id]);var z=(0,s.useCallback)((function(e){G(e)}),[H]),W=function(){return"year"===N?S.planName:S.planNameMonthly};function K(){var e=S.price*S.members.length,t=S.totalPrice;return e-S.balance-t}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(v.Z,{visible:R,onCancel:function(){c(),M(!1)},handleDone:c}),(0,b.jsxs)(a.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",duration:.35},className:"workspace-pay",children:[n&&(0,b.jsx)("div",{className:"close-btn",onClick:n,children:(0,b.jsx)(y.Tw,{})}),(0,b.jsx)("div",{className:"top-title",children:(0,b.jsx)("div",{className:"title",children:"Upgrade to Workspace Premiun"})}),S?(0,b.jsxs)("div",{className:"main-container",children:[(0,b.jsxs)("div",{className:"left",children:[(0,b.jsxs)("div",{className:"workspace-name",children:[t.name,(0,b.jsxs)("div",{className:"member-count",children:[S.members.length," people"]})]}),(0,b.jsx)("div",{className:"workspace-member-list",children:S.members.map((function(e){return(0,b.jsxs)("div",{className:"workspace-member-item",children:[(0,b.jsx)("div",{className:"avatar-area",children:(0,b.jsx)(d.Z,{username:e.userInfo.fullName,size:36})}),(0,b.jsxs)("div",{className:"info",children:[(0,b.jsx)("div",{className:"name",children:e.userInfo.fullName}),(0,b.jsx)("div",{className:"email",children:e.userInfo.mail})]}),(0,b.jsx)("div",{className:"action-area",children:(0,p.fm)(e.role)})]},e.userID)}))})]}),(0,b.jsxs)("div",{className:"right",children:[(0,b.jsx)("div",{className:"pay-title",children:"Payment details:"}),(0,b.jsxs)("div",{className:"balance",ref:Z,children:["Account Balance:",(0,b.jsxs)("div",{className:"value",children:[(0,b.jsxs)("span",{className:"value-text",children:[S.balance,".00"]}),(0,b.jsx)(o.Z,{title:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{children:"Refund from overpaying bills:"}),(0,b.jsx)("p",{children:"1. When you transfer the team to the workspace, the excess amount of money will remain in balance."}),(0,b.jsx)("p",{children:"2. When you pay for new members and they leave before the subscription expires."}),(0,b.jsx)("p",{children:"3. When you upgrade from a Basic/Professional subscription, your remaining credit will be credited toward Workspace Premium."})]}),getPopupContainer:function(){return Z.current},children:(0,b.jsx)(y.AM,{})})]})]}),(0,b.jsx)("div",{className:"payment-period",children:(0,b.jsxs)(i.ZP.Group,{value:N,onChange:function(e){D(e.target.value)},disabled:H,children:[(0,b.jsx)(i.ZP,{value:"month",disabled:"upgrade"===l,children:"Billed monthly"}),(0,b.jsxs)(i.ZP,{value:"year",children:["Billed annually (",(0,b.jsxs)("span",{className:"highlight",children:[8===S.priceMonthly?"37.5%":"20%"," Savings"]}),")"]})]})}),(0,b.jsxs)("div",{className:"price-table",children:[(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsxs)("div",{className:"labal",children:[S.priceMonthly," USD x ",S.members.length," x"," ","year"===N?"12 months":"1 month"]}),(0,b.jsx)("div",{className:"value",children:"year"===N?(0,b.jsx)(b.Fragment,{children:(0,p.Sg)(12*S.priceMonthly*S.members.length)}):(0,p.Sg)(S.priceMonthly*S.members.length)})]}),"year"===N&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsxs)("div",{className:"label",children:[8===S.priceMonthly?"37.5%":"20%"," off paid annually",10===S.priceMonthly&&(0,b.jsx)("div",{className:"label-tip",children:"Equal to $8/month/member"})]}),(0,b.jsx)("div",{className:"value discount",children:(0,p.Sg)((S.price-12*S.priceMonthly)*S.members.length)})]}),"year"===N?(0,b.jsx)(b.Fragment,{children:S.totalDiscount>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:S.discountWording}),(0,b.jsx)("div",{className:"value discount",children:(0,p.Sg)(-S.totalDiscount)})]})}):(0,b.jsx)(b.Fragment,{children:S.totalDiscountMonthly>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:S.discountWording}),(0,b.jsx)("div",{className:"value discount",children:(0,p.Sg)(-S.totalDiscountMonthly)})]})}),"year"===N?(0,b.jsx)(b.Fragment,{children:S.changedBalance>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:"Account balance"}),(0,b.jsx)("div",{className:"value discount",children:(0,p.Sg)(-S.changedBalance)})]})}):(0,b.jsx)(b.Fragment,{children:S.changedBalanceMonthly>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:"Account balance"}),(0,b.jsx)("div",{className:"value discount",children:(0,p.Sg)(-S.changedBalanceMonthly)})]})}),("upgrade"===l||"resubscribe"===l)&&"year"===N&&K()>0&&(0,b.jsxs)("div",{className:"price-table-item",children:[(0,b.jsx)("div",{className:"labal",children:"Monthly payment remaining"}),(0,b.jsx)("div",{className:"value discount",children:(0,p.Sg)(-K())})]}),(0,b.jsx)("div",{className:"price-table-divider"}),(0,b.jsxs)("div",{className:"price-table-item total",children:[(0,b.jsx)("div",{className:"labal",children:"Total due"}),(0,b.jsx)("div",{className:"value discount",children:(0,p.Sg)("year"===N?S.totalPrice:S.totalPriceMonthly)})]})]}),(0,b.jsx)("div",{className:"label",children:"Credit card details:"}),S.card?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)(i.ZP.Group,{value:T,onChange:function(e){var t=e.target.value;L(t)},children:[(0,b.jsxs)("div",{className:"card-item",children:[(0,b.jsx)(i.ZP,{value:"current",children:"Use current card"}),(0,b.jsx)("div",{className:"card-detail",children:(0,b.jsxs)("span",{children:[(0,b.jsx)(y._K,{}),"**** **** **** "+S.card]})})]}),(0,b.jsxs)("div",{className:"card-item",children:[(0,b.jsx)(i.ZP,{value:"new",children:"Use a new card"}),"new"===T&&(0,b.jsx)("div",{className:"new-card",children:(0,b.jsx)(g.Z,{workspace:t,getPlanName:W,planName:W(),afterPay:V,type:l,handleGettingSecret:z})})]})]})}),"current"===T&&(0,b.jsx)("div",{className:"btn-area",children:(0,b.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:function(){P(!0),"upgrade"===l?(0,f.rXU)(t.id).then((function(){P(!1),V()})).catch((function(){P(!1)})):"resubscribe"===l?"Expired"===j?(0,f.FB8)(t.id,"resubscribe",W(),F).then((function(e){var n=e.intentID;return(0,f.iHA)(t.id,n).then((function(){P(!1),V()}))})).catch((function(){P(!1)})):(0,f.S0H)(t.id,W()).then((function(){P(!1),V()})).catch((function(){P(!1)})):(0,f.FB8)(t.id,"lite_upgrade",W(),F).then((function(e){var n=e.setupIntent.id,r=e.setupIntent.payment_method;(0,f.$vQ)(t.id,n,r).then((function(){P(!1),V()}))})).catch((function(){P(!1)}))},loading:C,children:"resubscribe"===l?"Resubscribe":"Pay"})})]}):(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"new-card",children:(0,b.jsx)(g.Z,{workspace:t,getPlanName:W,planName:W(),afterPay:V,type:l,payStatus:j,handleGettingSecret:z})})})]})]}):(0,b.jsx)(h.Z,{})]})]})})),N=function(e){return(0,b.jsx)(c.M,{children:e.visible&&(0,b.jsx)(E,x({},e))})};const D=function(e){return(0,l.createPortal)((0,b.jsx)(N,x({},e)),document.body)}},48203:(e,t,n)=>{n.d(t,{Z:()=>p});n(91324);var r=n(45777),i=(n(15579),n(60881)),o=n(67294),a=n(56262),c=n(96974),s=n(99096),l=n(71922),u=n(85893);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m={hideItem:l.sQ};const p=(0,a.$j)((function(e){return{user:e.user.info}}),m)((function(e){var t=e.user,n=e.info,a=e.workspaceID,l=e.hideItem,f=(0,o.useRef)(null),m=(0,c.s0)(),p=d((0,o.useState)(!1),2),h=p[0],v=p[1],y=(0,o.useCallback)((function(){var e=f.current;return!!e&&e.scrollWidth>e.clientWidth}),[]);return(0,o.useEffect)((function(){setTimeout((function(){v(y())}),180)}),[]),(0,u.jsxs)("div",{className:"workspace-profile-popover-content",children:[(0,u.jsxs)("div",{className:"profile",children:[(0,u.jsx)(s.Z,{username:n.userName||"",avatarUrl:n.userAvatar,size:"50"}),n.userID===t.uid+""?(0,u.jsx)("div",{className:"edit-icon",onClick:function(){l(),m("/workspace/setting/".concat(a,"?tab=profile"))},children:(0,u.jsx)("svg",{width:"9",height:"10",viewBox:"0 0 9 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M8.66992 1.99483C8.69825 2.05449 8.72179 2.12434 8.74056 2.20437C8.75933 2.2844 8.7698 2.36799 8.77198 2.45514C8.77416 2.5423 8.75958 2.62987 8.72823 2.71786C8.69689 2.80584 8.64535 2.89098 8.57362 2.97327C8.49518 3.05573 8.42487 3.12793 8.36269 3.18985C8.30051 3.25178 8.24654 3.30679 8.20079 3.35489C8.14849 3.40987 8.09939 3.45805 8.05346 3.49945L6.12601 1.66595C6.20462 1.5902 6.29793 1.49898 6.40595 1.39231C6.51397 1.28563 6.6041 1.20121 6.67634 1.13903C6.76835 1.06294 6.86426 1.00855 6.96407 0.975874C7.06387 0.943194 7.16242 0.927316 7.25971 0.928239C7.357 0.929163 7.45124 0.941902 7.54241 0.966457C7.63358 0.991012 7.71311 1.01921 7.78099 1.05106C7.92361 1.12128 8.08271 1.24644 8.25826 1.42653C8.43382 1.60662 8.57104 1.79605 8.66992 1.99483ZM0.958893 7.09786C0.998112 7.05663 1.08958 6.95875 1.2333 6.80423C1.37702 6.64971 1.55673 6.45906 1.77244 6.2323L2.48819 5.47988L3.28237 4.64499L5.3904 2.42894L7.3181 4.27249L5.21008 6.48854L4.42595 7.32318C4.16432 7.59133 3.92896 7.83703 3.71988 8.06027C3.51079 8.28351 3.33762 8.46728 3.20035 8.61158C3.06308 8.75588 2.98129 8.83842 2.95498 8.8592C2.88945 8.92121 2.81394 8.98683 2.72846 9.05605C2.64299 9.12526 2.55382 9.18116 2.46097 9.22372C2.36829 9.273 2.23228 9.33341 2.05295 9.40498C1.87361 9.47654 1.68586 9.54663 1.48968 9.61526C1.2935 9.68389 1.10717 9.74389 0.930689 9.79526C0.754206 9.84662 0.622555 9.8801 0.535738 9.89568C0.355233 9.92032 0.233891 9.89652 0.171713 9.82428C0.109534 9.75204 0.0896758 9.62844 0.112137 9.45346C0.1232 9.35927 0.151653 9.22272 0.197495 9.04381C0.243336 8.8649 0.292363 8.6792 0.344573 8.48671C0.396784 8.29422 0.447696 8.11686 0.497308 7.95462C0.546921 7.79239 0.587733 7.68068 0.619746 7.61951C0.657625 7.52465 0.700742 7.43804 0.749095 7.35969C0.797449 7.28134 0.867382 7.19406 0.958893 7.09786Z",fill:"white"})})}):null]}),(0,u.jsxs)("div",{className:"info ".concat(n.userIntroduction?"":"single"),children:[(0,u.jsx)(r.Z,{visible:!!h&&void 0,overlayClassName:"workspace-profile-tooltip",title:n.userName||"",getPopupContainer:function(){return document.getElementById("item-container")||document.body},children:(0,u.jsx)(i.Z.Paragraph,{ref:f,className:"name",ellipsis:{rows:1},children:n.userName||""})}),(0,u.jsx)(i.Z.Paragraph,{className:"desc",ellipsis:{rows:2,expandable:!0,symbol:(0,u.jsx)(r.Z,{overlayClassName:"workspace-profile-tooltip",title:"Expand",placement:"right",getPopupContainer:function(){return document.getElementById("item-container")||document.body},children:(0,u.jsx)("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{d:"M5.19486 7.6625C5.10825 7.8125 4.89175 7.8125 4.80514 7.6625L2.59678 3.8375C2.51018 3.6875 2.61843 3.5 2.79164 3.5L7.20836 3.5C7.38157 3.5 7.48982 3.6875 7.40322 3.8375L5.19486 7.6625Z",fill:"#8A8F99"})})})},children:n.userIntroduction||(n.userID===t.uid+""?"Write a short description about yourself.":"")})]})]})}))},75531:(e,t,n)=>{n.d(t,{Z:()=>g});n(85624);var r=n(71577),i=(n(50626),n(48086)),o=n(86664),a=n(67294),c=n(71853),s=n(4976),l=n(54465),u=n(56262),d=n(85469),f=n(30817),m=n(85893);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=(0,l.J)("pk_live_dEyUjlPXO4pAhgsnnuUwrbEm"),y=function(e){var t=e.workspaceID,n=e.planName,c=e.afterPay,l=e.type,u=e.refreshSecret,d=e.payStatus,h=e.isPaymentIntent,v=p((0,a.useState)(!1),2),y=v[0],g=v[1],b=p((0,a.useState)(!1),2),j=b[0],w=b[1],x=(0,o.useStripe)(),S=(0,o.useElements)();(0,f.Z)().get("promotionCode");function I(){return x.confirmSetup({elements:S,redirect:"if_required"})}function O(){return x.confirmPayment({elements:S,redirect:"if_required"})}var E={resubscribe:function(e,n){return(0,s.iHA)(t,e,n).then((function(){w(!1),c()}))},renew:function(e,r){return(0,s.iHA)(t,n,"",r).then((function(){c()}))},create:function(e,n){return(0,s.mwz)(t,e,n).then((function(e){w(!1),c()}))},lite_upgrade:function(e,n){return(0,s.$vQ)(t,e,n).then((function(e){w(!1),c()}))}};return(0,m.jsx)("div",{className:"checkout-form",children:(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(!0),"changeCard"===l||"addCard"===l||"upgrade"===l||"resubscribe"===l&&"Expired"!==d?I().then((function(e){var r=e.setupIntent.payment_method;return"upgrade"===l?(0,s.eB6)(t,r).then((function(){return(0,s.rXU)(t).then((function(e){w(!1),c()}))})):"resubscribe"===l?(0,s.eB6)(t,r).then((function(){return(0,s.S0H)(t,n).then((function(){w(!1),c()}))})):(0,s.eB6)(t,r).then((function(){c()}))})).catch((function(e){"validation_error"!==e.type&&u(),w(!1)})):(h?O:I)().then((function(e){if(e.error)throw e.error;var t=h?e.paymentIntent:e.setupIntent,n=t.id,r=t.payment_method;return E[l](n,r)})).catch((function(e){e.message&&i.ZP.error(e.message,5),"validation_error"!==e.type&&u(),w(!1)}))},children:[y&&"changeCard"===l&&(0,m.jsx)("div",{style:{marginBottom:"10px"},children:"This will replace your current saved card"}),(0,m.jsx)(o.PaymentElement,{options:{fields:{billingDetails:{email:"auto",address:"auto"}},terms:{card:"never"},wallets:{applePay:"never",googlePay:"never"}},onReady:function(){g(!0)}}),y&&(0,m.jsx)("div",{className:"btn-area",children:(0,m.jsx)(r.Z,{type:"primary",htmlType:"submit",size:"large",loading:j,disabled:!y,children:function(){switch(l){case"changeCard":return"Update";case"addCard":return"Add";case"renew":return"Renew";case"resubscribe":return"Resubscribe";case"transfer":return"Transfer";default:return"Pay"}}()})})]})})};const g=(0,u.$j)((function(e){return{theme:e.userSetting.theme}}),{})((function(e){var t=e.workspace,n=(e.getPlanName,e.planName),r=e.afterPay,i=e.theme,l=e.type,u=e.transferInfo,h=e.handleGettingSecret,g=e.payStatus,b=p((0,a.useState)(null),2),j=b[0],w=b[1],x=(0,f.Z)().get("promotionCode");function S(){w(null),h&&h(!0),"changeCard"===l||"upgrade"===l||"resubscribe"===l&&"Expired"!==g?(0,s.GY)().then((function(e){w(e),h&&h(!1)})).catch((function(e){h&&h(!1)})):(h&&h(!0),(0,s.FB8)(t.id,l,n,x).then((function(e){w(e),h&&h(!1)})).catch((function(e){h&&h(!1)})))}(0,a.useEffect)((function(){S()}),[t.id,n]);var I={appearance:d.Pp[i],clientSecret:null==j?void 0:j.secret};return(0,m.jsx)("div",{className:"workspace-stripe-element",children:j?(0,m.jsx)(o.Elements,{stripe:v,options:I,children:(0,m.jsx)(y,{workspaceID:t.id,transferInfo:u,planName:n,afterPay:r,type:l,refreshSecret:S,payStatus:g,isPaymentIntent:j.isPaymentIntent})}):(0,m.jsx)(c.Z,{})})}))},7516:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(96974),i=n(85893),o=n(67294);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(0,o.forwardRef)((function(t,n){var o=(0,r.TH)(),a=(0,r.s0)(),c=(0,r.UO)();return(0,i.jsx)(e,s(s({ref:n},t),{},{router:{location:o,navigate:a,params:c}}))}))}},85469:(e,t,n)=>{n.d(t,{BT:()=>r,Br:()=>o,Cj:()=>x,J6:()=>d,JT:()=>u,Ob:()=>g,Pp:()=>w,SF:()=>m,SX:()=>i,WM:()=>f,Z$:()=>h,ai:()=>b,hj:()=>l,iv:()=>c,np:()=>j,sr:()=>s,t5:()=>p,t8:()=>v,uK:()=>a,wo:()=>y});var r={channel:"#",repo:"",user:"@",board:"",project:"",folder:""},i=[{name:"slack",displayName:"Slack"},{name:"asana",displayName:"Asana"},{name:"trello",displayName:"Trello"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],o=[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],a=[{type:"free",displayName:"Free",tip:"Great starter",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"}],integrations_cp:[],screenshot:["Up to 100 screenshots","Basic annotation tools"],record:[{type:"string",text:"Up to 20 recordings"},{type:"string",text:"Unlimited recording length",preview:"local"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 3 days"},{type:"string",text:"Download in MP4 (less than 1 hour)"},{type:"string",text:"Use annotation tools while recording"},{type:"string",text:"Edit video with Cut, Text, Shape... (less than 1 hour)"}],others:["Capture visible/full page screenshot","Basic annotation tools","1 Project to host, manage and share screenshots","30 images per project","5 minutes video recording per video","20 free videos access","Recover items from Trash within 3 days"]}},{type:"professional",displayName:"Professional",tip:"Unlimited recordings & screenshots",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[{name:"slack",displayName:"Slack"},{name:"trello",displayName:"Trello"},{name:"asana",displayName:"Asana"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Unlimited recordings"},{type:"string",text:"Unlimited recording length",preview:"cloud"},{type:"string",text:"Resolution up to 4k"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Download in MP4 (from the Cloud)"},{type:"string",text:"Use annotation tools while recording"},{type:"string",text:"Edit video with Cut, Text, Shape... (unlimited recording length)"},{type:"string",text:"Priority MP4 conversion"}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","Unlimited video recording and access"]}},{type:"basic",displayName:"Basic",tip:"Unlimited screenshots only",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Up to 20 recordings"},{type:"string",text:"Unlimited recording length",preview:"local"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Download in MP4 (less than 1 hour)"},{type:"string",text:"Use annotation tools while recording"},{type:"string",text:"Edit video with Cut, Text, Shape... (less than 1 hour)"}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","20 free videos access","Recover items from Trash within 30 days"]}}],c=[{type:"workspace-lite",displayName:"Workspace Lite",tip:"",features:[{name:"video",displayName:"Up to 20 videos"},{name:"image",displayName:"Up to 50 images"},{name:"member",displayName:"Up to 5 members"}]},{type:"workspace-premium",displayName:"Workspace Premium",tip:"",features:[{name:"video",displayName:"Unlimited videos"},{name:"image",displayName:"Unlimited images"},{name:"member",displayName:"Unlimited members"}]},{type:"workspace-enterprise",displayName:"Enterprise",tip:"",features:[{name:"enterprise",displayName:"Enterprise support"},{name:"domain",displayName:"Custom domains (Coming soon)"},{name:"sso",displayName:"SSO (Coming soon)"}]}],s=[{msg:"I prefer manual renewal.",value:"A",type:"checkbox"},{msg:"It's too expensive.",value:"B",type:"checkbox"},{msg:"Only needed it occasionally.",value:"C",type:"checkbox"},{msg:"It doesn't work properly.",value:"D",type:"checkbox"},{msg:"Other",value:"E",type:"textarea"}],l=[{msg:"It doesn't have the features I need.",value:"A",type:"checkbox"},{msg:"It doesn't work properly.",value:"B",type:"checkbox"},{msg:"It's too expensive.",value:"C",type:"checkbox"},{msg:"Only needed it occasionally.",value:"D",type:"checkbox"},{msg:"Other",value:"E",type:"textarea"}],u={ITEM:"item"},d=5,f=["Video editor","Video","Image","Folder","Trash","Search"],m=[{header:"Can I upgrade from a Basic/Professional plan to a Workspace Premium?",content:"When you upgrade, your remaining credit will be credited toward Workspace Premium."},{header:"Can I cancel my subscription anytime?",content:"Yes, you can cancel your subscription in settings anytime."},{header:"Can I get a refund if I cancel my subscription?",content:"You can write us an email to ask for a refund for a yearly subscription if you cancel it within 14 days of purchase. No refund available for a monthly subscription."},{header:"How long does a refund take?",content:"It usually takes 2~7 business days."},{header:"Can I upgrade from a Basic/Professional plan to a Workspace Premium?",content:"When you upgrade, your remaining credit will be credited toward Workspace Premium."}],p=["👏","😂","❤️","😮","👍","👎"],h={video:"1",image:"0"},v={IS_NOT_SHARE:0,SHARED_TO_ME:1,SHARED_BY_ME:2},y={OLD_FORMAT:1,NEW_FORMAT:2},g=[.5,1,1.5,2],b=[5,10,15,20,25,30],j=[{name:"light",displayName:"Light theme"},{name:"dark",displayName:"Dark theme"},{name:"auto",displayName:"Use device theme"}],w={dark:{theme:"flat",variables:{borderRadius:"8px",colorBackground:"#0D0D0D",colorTextPlaceholder:"#808080"},rules:{".Label":{color:"#ffffff"},".Input":{color:"#ffffff"},".Input:placeholder":{color:"#808080"}}},light:{theme:"flat",variables:{borderRadius:"8px",colorBackground:"white",colorTextPlaceholder:"#808080"},rules:{".Label":{color:"#373C44"},".Input":{border:"1px solid #e5e5e5",color:"#373C44"},".Input:placeholder":{color:"#808080"}}}},x=["#2ecc71","#3498db","#8e44ad","#e67e22","#e74c3c","#1abc9c","#2c3e50"]},64277:(e,t,n)=>{n.d(t,{Z:()=>P});n(91324);var r=n(45777),i=n(24616),o=n(7085),a=n(67294),c=n(56262),s=n(39711),l=n(63395),u=n(13449),d=n(78512),f=n(83662),m=n(55087),p=(n(85624),n(71577)),h=n(85469),v=n(94184),y=n.n(v),g=n(85893);function b(e){var t=e.destinations,n=y()("des-container",{small:e.small,compact:t&&t.length>3});return(0,g.jsx)("div",{className:"render-des",children:t&&t.length?(0,g.jsx)("div",{className:n,children:t.map((function(t,n){var i=y()("des-item",t.service);return(0,g.jsx)(r.Z,{title:h.BT[t.resourceType]+t.resourceName,mouseEnterDelay:.5,mouseLeaveDelay:0,children:(0,g.jsxs)("div",{className:i,onClick:e.handleDesClick.bind(null,t),children:[(0,g.jsx)("div",{className:"icon"}),(0,g.jsx)("div",{className:"name",children:h.BT[t.resourceType]+t.resourceName})]})},t.resourceType+t.resourceName)}))}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(p.Z,{type:"primary",className:"feedback-btn",block:!0,onClick:e.handleAddDesClick,children:"Connect with other services"}),(0,g.jsxs)("div",{className:"support-s",children:[(0,g.jsx)("div",{children:"Support:"}),(0,g.jsx)("div",{className:"s-container",children:h.SX.map((function(e){return(0,g.jsx)(r.Z,{title:e.displayName,children:(0,g.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})})}var j=n(47481),w=n(67618);function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===x(o)?o:String(o)),r)}var i,o}function I(e,t){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},D(e)}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I(e,t)}(d,e);var t,n,a,c=O(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=c.call(this,e)).state={isShownDes:!1,currentDes:null,desCurrentPanel:"add",isShownUpgrade:!1},t.handleDesClick=t.handleDesClick.bind(N(t)),t.handleAddDesClick=t.handleAddDesClick.bind(N(t)),t.openDesModal=t.openDesModal.bind(N(t)),t.handleModalCancel=t.handleModalCancel.bind(N(t)),t.handleDesCreated=t.handleDesCreated.bind(N(t)),t.handleAccountConnected=t.handleAccountConnected.bind(N(t)),t.goToAddDes=t.goToAddDes.bind(N(t)),t.handleUpgradeCancel=t.handleUpgradeCancel.bind(N(t)),t}return t=d,(n=[{key:"componentDidMount",value:function(){this.props.loadUserInfo(),this.props.loadDestinations(),this.props.loadConnectedAccounts()}},{key:"openDesModal",value:function(e){var t=this;this.setState({desCurrentPanel:e},(function(){t.setState({isShownDes:!0})}))}},{key:"getPermissionByName",value:function(e){return this.props.permissions["allow".concat((0,w.fm)(e))]}},{key:"handleDesClick",value:function(e){var t=this;"add"===e?this.openDesModal("add"):this.getPermissionByName(e.service)?this.setState({currentDes:e},(function(){t.openDesModal("des")})):this.setState({upgradeType:"des",isShownUpgrade:!0})}},{key:"handleDesCreated",value:function(e){this.props.destinationCreated(e),this.setState({currentDes:e,desCurrentPanel:"des"})}},{key:"handleAccountConnected",value:function(e){this.props.connectedAccountSuccess(e)}},{key:"handleAddDesClick",value:function(){this.openDesModal("add")}},{key:"handleModalCancel",value:function(){this.setState({isShownDes:!1})}},{key:"handleUpgradeCancel",value:function(){this.setState({isShownUpgrade:!1})}},{key:"goToAddDes",value:function(){this.setState({desCurrentPanel:"add"})}},{key:"render",value:function(){var e=this.props,t=e.destinations,n=e.user,a=e.accounts,c=e.dataURL,d=e.permissions,f=e.isLoading,m=this.state,p=m.currentDes,h=m.desCurrentPanel,v={};a&&a.forEach((function(e){v[e.id]=e}));var y=a.filter((function(e){return"googleDrive"!==e.service&&"dropbox"!==e.service&&"box"!==e.service}));return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"des-action",children:[(0,g.jsx)(r.Z,{title:"Create a new destination",children:(0,g.jsx)("div",{className:"setting-btn add",onClick:this.handleAddDesClick,children:(0,g.jsx)(j.dt,{})})}),(0,g.jsx)(r.Z,{title:"Manage destinations",children:(0,g.jsx)("div",{className:"setting-btn",children:(0,g.jsx)(s.rU,{to:"/settings/destinations",children:(0,g.jsx)(i.Z,{})})})})]}),(0,g.jsx)("h4",{children:"Collaborate with Teammates"}),(0,g.jsx)("div",{className:"AnnoDestinationList",children:(0,g.jsx)("div",{className:"ann-des-list",children:f?(0,g.jsx)("div",{className:"loading",children:(0,g.jsx)(o.Z,{style:{fontSize:24},spin:!0})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(b,{destinations:t,handleAddDesClick:this.handleAddDesClick,handleDesClick:this.handleDesClick}),(0,g.jsx)(u.Z,{visible:this.state.isShownDes,onCancel:this.handleModalCancel,currentPanel:h,currentDes:p,accountHash:v,destinations:t,accounts:y,goToAddDes:this.goToAddDes,handleDesCreated:this.handleDesCreated,handleAccountConnected:this.handleAccountConnected,permissions:d,imageUrl:c,currentPlan:n.premium.currentPlan,tabTitle:"",tabUrl:this.props.tabUrl,defaultCurrentAccount:y[0],type:this.props.type,itemId:this.props.itemId,itemUrl:this.props.itemUrl})]})})}),(0,g.jsx)(l.Z,{visible:this.state.isShownUpgrade,onCancel:this.handleUpgradeCancel,type:this.state.upgradeType})]})}}])&&S(t.prototype,n),a&&S(t,a),Object.defineProperty(t,"prototype",{writable:!1}),d}(a.Component),C={loadUserInfo:m.Lk,loadDestinations:f.jG,loadConnectedAccounts:d.Q6,destinationCreated:f.vM,connectedAccountSuccess:d.Mg};const P=(0,c.$j)((function(e){return{user:null===e.user?{}:e.user,destinations:e.destination.destinations,accounts:e.connectedAccount.accounts,isLoading:e.destination.isLoading||e.connectedAccount.isLoading}}),C)(A)},44539:(e,t,n)=>{n.d(t,{p:()=>N});n(85624);var r=n(71577),i=(n(28763),n(34041)),o=(n(35797),n(82363)),a=n(50308),c=n.n(a),s=n(56262),l=n(71436),u=n(65880),d=n(45826),f=n(51447),m=n(71853),p=n(61401),h=n(21862),v=n(47481),y=n(83417),g=n(20722),b=n(67618),j=n(28219),w=n(85893),x=n(67294);function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=o.Z.DirectoryTree;function E(e,t,n,r,i){var o;return(null==e||null===(o=e[t])||void 0===o?void 0:o.children.map((function(t){var o=i.some((function(e){return e.id===t.id}));if(!n&&!o)return{key:t.id,children:E(e,t.id,n,r+1,i),title:t.name,disabled:n,data:{type:"channel-folder",id:t,levels:r,title:t.name},icon:function(e){return e.expanded?(0,w.jsx)(v.Hf,{}):(0,w.jsx)(v.q7,{})}}})).filter(Boolean))||[]}var N=(0,s.$j)((function(e){return{foldersChildrenMap:e.channel.channelFoldersChildrenMap,workspaceIDList:e.workspace.myWorkspaceIDList,workspaceMap:e.workspace.myWorkspaceHash,channelsMap:e.workspace.channelHash,userInfo:e.user.info,isWorkspaceLoading:e.workspace.isLoading}}),{loadChannelAllFolders:l.W3,moveIntoChannelFolder:l.wN,loadWorkspaceInfo:f.yQ,createChannelFolder:l.Qf,clearSelectedItem:d.jh,createMyItemsFolder:u.L6,loadWorkspaces:f.Pf},null,{forwardRef:!0})((0,x.forwardRef)((function(e,t){var n=e.foldersChildrenMap,o=e.workspaceIDList,a=e.workspaceMap,s=e.channelsMap,l=e.userInfo,u=e.isWorkspaceLoading,d=e.loadWorkspaces,f=e.clearSelectedItem,I=e.loadChannelAllFolders,N=e.moveIntoChannelFolder,D=e.createChannelFolder,A=e.loadWorkspaceInfo,C=e.createMyItemsFolder,P=S((0,x.useState)(!1),2),k=P[0],T=P[1],L=S((0,x.useState)([]),2),_=L[0],R=L[1],M=S((0,x.useState)(null),2),Z=M[0],F=M[1],U=(0,x.useRef)(c()),H=(0,x.useRef)(null),G=S((0,x.useState)(!1),2),B=G[0],V=G[1],z=S((0,y.Z)(),5),W=z[0],K=z[1],Y=(z[2],z[3]),Q=z[4],q=_.some((function(e){return"folder"===e.itemType})),J=!_.filter((function(e){return"folder"!==e.itemType})).some((function(e){return String(e.userID)!==String(l.uid)})),X=(0,x.useMemo)((function(){return o.map((function(e){return{label:a[e].name,value:e,key:e}}))}),[o,a]),$=S((0,x.useState)(""),2),ee=$[0],te=$[1],ne=(0,x.useMemo)((function(){var e;return(null===(e=a[ee])||void 0===e?void 0:e.channels.filter((function(e){var t;return!0===(null===(t=s[e])||void 0===t?void 0:t.isMember)})))||[]}),[a,s,ee]),re=(0,x.useMemo)((function(){if(!k)return[];var e=Z?Z.idParams.channelID:"",t=ee;return ne.map((function(r){var i,o,a=(q||!J)&&r!==e;if(!a){var c=s[r]||{};return{key:r,title:c.name,children:E(null===(i=n[t])||void 0===i||null===(o=i[r])||void 0===o?void 0:o.folders,"0",a,1,_.filter((function(e){return"folder"===e.itemType}))),disabled:a,selectable:!a,icon:(0,w.jsx)(v.MC,{}),data:{type:"channel-root",id:{workspaceID:t,channelID:r},levels:0,title:c.name}}}})).filter(Boolean)}),[ee,k,_,o,ne,n[ee]]);(0,x.useEffect)((function(){d()}),[]),(0,x.useEffect)((function(){ee&&ne.forEach((function(e){return I(ee,e,{skipIfLoaded:!0})}))}),[ee,ne]);var ie=S((0,x.useState)([]),2),oe=ie[0],ae=ie[1];(0,x.useEffect)((function(){k&&ae(ne)}),[k,ne]);var ce=S((0,x.useState)(null),2),se=ce[0],le=ce[1];return(0,x.useImperativeHandle)(t,(function(){return{open:function(e,t){return new Promise((function(n){e.length&&(te(t.idParams.workspaceID),F(t),T(!0),R(e),ae([]),le(null),V(!1),U.current=n)}))}}})),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)(p.Z,{className:"move-items-in-channel-modal",visible:k,onCancel:function(){return T(!1)},children:[(0,w.jsx)("div",{className:"title",children:"Move to"}),(0,w.jsx)("div",{className:"content",children:u?(0,w.jsx)(m.Z,{}):(0,w.jsxs)(w.Fragment,{children:[!q&&J&&(0,w.jsxs)("div",{className:"content-section",children:[(0,w.jsx)("div",{className:"section-title",children:"Workspaces"}),(0,w.jsx)(i.Z,{className:"workspace-selector",size:"large",value:ee,onChange:function(e){return te(e)},options:X})]}),(0,w.jsxs)("div",{className:"content-section",children:[(0,w.jsx)("div",{className:"section-title",children:"Channels"}),(0,w.jsx)(O,{expandAction:"doubleClick",className:"tree-selector",height:274,treeData:re,expandedKeys:oe,onExpand:function(e,t){t.node.disabled||ae(e)},onSelect:function(e,t){var n=t.node;return le(n.data)}})]})]})}),(0,w.jsx)("div",{className:"btn-area",children:(0,w.jsxs)("div",{className:"btn-container",children:[(0,w.jsxs)(r.Z,{className:"new-folder-btn",disabled:!se||se.levels>=3,onClick:function(){H.current.open().then((function(e){"personal"===ee?C(e,(null==se?void 0:se.id.folderID)||"0").then():((0,b.kf)(se),(0,g.WZ)(D,{okMsg:"Folder created",errMsg:function(e){return"string"==typeof e?e:"Folder create failed."}})(se.id,{name:e}).catch(c()))}))},children:[(0,w.jsx)(v.dt,{}),"New folder"]}),(0,w.jsxs)("div",{className:"right-btns",children:[(0,w.jsx)(r.Z,{onClick:function(){return T(!1)},className:"cancel-btn",children:"Cancel"}),(0,w.jsx)(r.Z,{type:"primary",disabled:function(){if(!se)return!0;var e=se.id,t=e.workspaceID+e.channelID+(e.folderID||"0");if(!Z)return!0;var n=Z.idParams;return t===n.workspaceID+n.channelID+(n.folderID||"0")}(),className:"move-to-btn",loading:B,children:(0,w.jsxs)("span",{className:"move-to-btn-text",onClick:function(){(0,b.kf)(se),V(!0),(0,g.WZ)(N,{okMsg:"Move successfully",errMsg:function(e){return"string"==typeof e?e:"Move failed"}})(se.id,_,(function(e){Q(e),K(!0)})).then((function(){U.current(),T(!1),f(),(null==Z?void 0:Z.idParams.workspaceID)&&A(Z.idParams.workspaceID)})).catch(c()).finally((function(){return V(!1)}))},children:["Move to",se&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("span",{style:{margin:"0 0.25em"},children:{"channel-root":(0,w.jsx)(v.MC,{}),"channel-folder":(0,w.jsx)(v.q7,{})}[se.type]}),se.title]})]})})]})]})})]}),(0,w.jsx)(j.g,{ref:H}),Z&&(0,w.jsx)(h.Z,{visible:W,onCancel:function(){return K(!1)},isOwner:Y,workspaceID:Z.idParams.workspaceID,type:"itemAdd",channelID:Z.idParams.channelID})]})})))},28219:(e,t,n)=>{n.d(t,{g:()=>m});n(85624);var r=n(71577),i=(n(79133),n(32787)),o=n(50308),a=n.n(o),c=n(61401),s=n(47481),l=n(85893),u=n(67294);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=(0,u.forwardRef)((function(e,t){var n=d((0,u.useState)(!1),2),o=n[0],f=n[1],m=d((0,u.useState)(""),2),p=m[0],h=m[1],v=(0,u.useRef)(a()),y=p.trim();function g(){f(!1),v.current(y),h("")}return(0,u.useImperativeHandle)(t,(function(){return{open:function(){return new Promise((function(e){f(!0),h(""),v.current=e}))}}})),(0,l.jsxs)(c.Z,{visible:o,width:538,onCancel:function(){f(!1),h("")},children:[(0,l.jsx)("div",{className:"title",children:"New Folder"}),(0,l.jsxs)("div",{className:"content",style:{display:"flex",flexDirection:"column",gap:"10px",padding:"20px 50px 27px"},children:[(0,l.jsx)(s.q7,{style:{fontSize:"120px"}}),(0,l.jsx)(i.Z,{placeholder:"Enter a folder name",value:p,maxLength:40,autoFocus:!0,onChange:function(e){var t=e.currentTarget.value;return h(t)},size:"large",onPressEnter:function(){return y&&g()}})]}),(0,l.jsxs)("div",{className:"btn-area",children:[(0,l.jsx)(r.Z,{onClick:function(){return f(!1)},children:"Cancel"}),(0,l.jsx)(r.Z,{disabled:!y||p.length>40,type:"primary",onClick:g,children:"Create"})]})]})}))},59923:(e,t,n)=>{n.r(t),n.d(t,{default:()=>yt});n(85624);var r=n(71577),i=(n(79133),n(32787)),o=(n(90),n(16114)),a=(n(48315),n(28682)),c=(n(91324),n(45777)),s=(n(67004),n(19181)),l=(n(47386),n(48889)),u=(n(68521),n(51752)),d=n(57119),f=n(44545),m=n(79508),p=n(24616),h=n(56262),v=n(96974),y=n(39711),g=n(62983),b=n(47481),j=n(28235),w=n(32250),x=n(83279),S=n(33789),I=n(65538),O=n(99096),E=n(63395),N=n(71436),D=n(92807),A=n(65880),C=n(15322),P=n(71922),k=n(55087),T=n(4976),L=n(59985),_=n(62734),R=n(13924),M=n(37822),Z=n(67294),F=n(67618),U=n(85893);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const B=function(e){var t=H((0,Z.useState)(!1),2),n=t[0],i=t[1];return(0,U.jsx)(l.Z,{visible:e.visible,destroyOnClose:!0,closable:!1,maskClosable:!1,footer:null,getContainer:!1,centered:!0,className:"access-modal",closeIcon:(0,U.jsx)(b.Tw,{style:{fontSize:"12px"}}),children:(0,U.jsx)("div",{className:"restriction-area",children:n?(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("h2",{className:"title",children:"Message sent successfully."})}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("h2",{className:"title",children:["Oops! This ",e.type," is not accessible."," "]}),(0,U.jsxs)("p",{children:["This ",e.type," is locked because the owner (",e.username,") has reached a limit for ",e.type," sharing."]}),(0,U.jsxs)("p",{children:["Want to ","video"===e.type?"watch":"view"," this"," ",e.type,"? Click the button below to let the owner know. We will send a reminder message to the video owner for you."]}),(0,U.jsx)(r.Z,{type:"primary",onClick:function(){"video"===e.type?(0,T.bG5)(e.id).then((function(){i(!0)})):(0,T.QbM)(e.id).then((function(){i(!0)})),(0,F.I1)("tell owner restriction",{event_category:e.type})},children:"Send reminder"})]})})})};var V=n(74691),z=n.n(V),W=n(7085),K=n(94184),Y=n.n(K),Q=n(73935),q=n(76932),J=n(50308),X=n.n(J),$=n(3664),ee=n(36331);function te(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(0,$.d)(n),o=(0,Z.useRef)(X());function a(){o.current(),o.current=X()}return(0,Z.useEffect)((function(){var n=(0,ee.Ql)(e);if(null!=n&&n.addEventListener){var c=function(e){i.current.call(this,e)};return n.addEventListener(t,c,r),o.current=function(){return n.removeEventListener(t,c,r.capture)},a}}),[t,e,r.capture,r.once,r.passive]),a}function ne(e){return ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ne(e)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ne(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e){var t=e.imageSrc,n=e.onClose,r=oe((0,Z.useState)(!0),2),i=r[0],o=r[1],a=oe((0,Z.useState)(0),2),c=a[0],s=a[1],l=(0,Z.useRef)(null);(0,q._6)((function(e){return"Escape"===e.code&&n()})),te(l,"load",(function(){s(z()(this.naturalWidth,.9*window.innerWidth)),o(!1)})),te(window,"wheel",(function(e){0!==e.deltaY&&e.ctrlKey&&(e.preventDefault(),e.deltaY>0?d():u())}),{passive:!1});var u=function(){return s(1.25*c)},d=function(){return s(Math.floor(.75*c))},f=Y()("image-viewer",{loaded:!i});return(0,U.jsxs)("div",{className:f,children:[i&&(0,U.jsx)("div",{className:"loading-area",children:(0,U.jsx)(W.Z,{style:{fontSize:54},spin:!0})}),(0,U.jsx)("img",{src:t,ref:l,style:{width:c}}),(0,U.jsx)("div",{className:"close-btn",onClick:n,children:(0,U.jsx)(b.Tw,{})}),(0,U.jsxs)("div",{className:"action-bar",children:[(0,U.jsx)("div",{className:"action-btn zoom-in",onClick:u,children:(0,U.jsx)(b.dt,{})}),(0,U.jsx)("div",{className:"action-btn zoom-in",onClick:d,children:(0,U.jsx)(b.GS,{})})]})]})}const se=function(e){return(0,Q.createPortal)((0,U.jsx)(ce,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e)),document.body)};function le(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const de=function(e){var t=e.src,n=e.handleImageOnLoad,r=le((0,Z.useState)(!1),2),i=r[0],o=r[1],a=(0,Z.useRef)(),s=function(){o(!0),document.body.style.overflow="hidden"};return(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(c.Z,{title:"Fullscreen",placement:"bottom",children:(0,U.jsx)("div",{className:"zoom-in-btn",onClick:s,children:(0,U.jsx)(b.tj,{})})}),(0,U.jsxs)("div",{className:"img-wrapper",children:[(0,U.jsx)("img",{style:{cursor:"zoom-in"},ref:a,src:t,crossOrigin:"Anonymous",onClick:s,onLoad:function(){var e=a.current,t=document.createElement("canvas"),r=t.getContext("2d");t.width=e.naturalWidth,t.height=e.naturalHeight,r.drawImage(e,0,0),t.toBlob((function(e){n(e)}))}}),i&&(0,U.jsx)(se,{imageSrc:t,onClose:function(){o(!1),document.body.style.overflow="auto"}})]})]})};var fe=n(68628),me=(n(50626),n(48086)),pe=n(38819),he=n(61401);function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ge(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function we(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ve(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xe(e){var t=e.imageId,n=e.handleFinishReport,o=ye((0,Z.useState)(""),2),a=o[0],c=o[1],s=ye((0,Z.useState)(!1),2),l=s[0],u=s[1],d=(0,j.CG)((function(e){return e.user.info}));return(0,U.jsx)("div",{className:"report-capture-panel",children:l?(0,U.jsxs)("div",{className:"sent-message",children:[(0,U.jsx)("div",{children:(0,U.jsx)(pe.Z,{})}),(0,U.jsx)("div",{className:"title",children:"Thank you"}),(0,U.jsx)("div",{className:"content",children:"Your report has been sent successfully. We will look into this and find a solution as soon as possible."})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"title",children:"Report capture issue"}),(0,U.jsxs)("div",{className:"content",children:[(0,U.jsx)("div",{className:"label",children:"Issue Summary (optional)"}),(0,U.jsx)("div",{className:"label-tip",children:"Let us know what happened in detail."}),(0,U.jsx)(i.Z.TextArea,{onChange:function(e){c(e.target.value)},autoSize:{minRows:3}})]}),(0,U.jsx)("div",{className:"btn-area",children:(0,U.jsx)(r.Z,{type:"primary",size:"large",block:!0,onClick:function(){var e={};e["Image ID"]=t,e.Summary=a,e["Screen Size"]=window.screen.width+"x"+window.screen.height;var r={name:d.fullName,subject:"Full Page capture Issue",email:d.mail,content:function(e){var t="";for(var n in e)t+="<b>"+n+"</b>: "+e[n]+"<br/>";return t}(e)};(0,T.hz1)(r).then((function(e){u(!0),n()})).catch((function(e){me.ZP.warning("Submission failed. Please retry or copy the page's url to send an email to care@awesomescreenshot.com.")}))},children:"Report"})})]})})}const Se=function(e){return(0,U.jsx)(he.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,U.jsx)(xe,je(je({},e),{},{closeModal:e.onCancel}))})};function Ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ee=function(e){var t=e.imageId,n=Ie((0,Z.useState)(!0),2),r=n[0],i=n[1],o=Ie((0,Z.useState)(!1),2),a=o[0],c=o[1],s=(0,Z.useCallback)((function(){i(!1)}),[]);return(0,U.jsxs)(U.Fragment,{children:[r?(0,U.jsxs)("div",{className:"report-capture-btn",onClick:function(){c(!0)},children:[(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(fe.Z,{})}),"Report capture issue"]}):null,(0,U.jsx)(Se,{imageId:t,handleFinishReport:s,visible:a,onCancel:function(){c(!1)}})]})};function Ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ae=function(e){var t=e.url,n=e.title,r=e.status,i=Ne((0,Z.useState)(!1),2),o=i[0];return i[1],(0,U.jsxs)("div",{className:"action-item",onClick:function(){"Uploading"!==r?(0,F.Cz)(t,n):l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})},children:[o?(0,U.jsx)("div",{className:"icon-loading",children:(0,U.jsx)(W.Z,{})}):(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(b._8,{})}),(0,U.jsx)("div",{className:"name",children:"Download"})]})};var Ce=n(1168);function Pe(e){return Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pe(e)}function ke(){ke=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new O(i||[]);return r(a,"_invoke",{value:w(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==Pe(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new j(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Te(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function Le(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Te(o,r,i,a,c,"next",e)}function c(e){Te(o,r,i,a,c,"throw",e)}a(void 0)}))}}function _e(){return(_e=Le(ke().mark((function e(t){return ke().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=null;(0,F.ab)(t).then((function(n){n.forEach((function(n,i){var o=n.width,a=n.height;r?r.addPage([Math.ceil(o),Math.ceil(a)],o>a?"l":"p"):r=new Ce.ZP({orientation:o>a?"l":"p",unit:"pt",format:[Math.ceil(o),Math.ceil(a)],compress:!0});var c=document.createElement("canvas"),s=c.getContext("2d");c.width=o,c.height=a,s.drawImage(n.ele,0,0,o,a,0,0,o,a);var l=c.toDataURL("image/jpeg",1);r.addImage(l,"JPEG",0,0,Math.ceil(o),Math.ceil(a),"","FAST"),i===t.length-1&&e(r.output("bloburl"))}))}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ze=function(e){var t=e.url,n=e.title,r=e.status,i=e.blob,c=Re((0,Z.useState)(!1),2),s=c[0],u=c[1],d=(0,Z.useRef)(null),f=function(e){(0,F._x)(e,(function(){me.ZP.success("Copy success!",1)}),(function(e){me.ZP.error("Copy failed.",1)}))},m=(0,Z.useMemo)((function(){return/Chrome/.test(window.navigator.userAgent)}),[]),p=(0,U.jsxs)(a.Z,{children:[(0,U.jsx)(a.Z.Item,{onClick:function(){"Uploading"!==r?(u(!0),(0,F.sI)(t,14400).then((function(e){return function(e){return _e.apply(this,arguments)}(e)})).then((function(e){u(!1),(0,F.Cz)(e,n+".pdf")})).catch((function(){u(!1)}))):l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})},icon:(0,U.jsx)(b.p5,{}),children:"Download as PDF"}),m&&(0,U.jsx)(a.Z.Item,{icon:(0,U.jsx)(b.DE,{}),onClick:function(){if("Uploading"!==r)if(i)f(i);else{u(!0);var e=new Image,n=document.createElement("canvas"),o=n.getContext("2d");e.onload=function(){n.width=this.naturalWidth,n.height=this.naturalHeight,o.drawImage(this,0,0),n.toBlob((function(e){u(!1),e&&f(e)}))},e.crossOrigin="anonymous",e.src=t}else l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})},children:"Copy"}),(0,U.jsx)(a.Z.Item,{icon:(0,U.jsx)(b.NJ,{}),onClick:function(){if("Uploading"!==r){u(!0);var e=d.current,n=document.createElement("div");n.style.margin="0 aut0",n.style.textAlign="center";var i=document.createElement("img");i.style.width="100%",n.appendChild(i);var o=e.contentWindow.document;o.body.appendChild(n),i.src=t;var a=e.contentWindow;i.onload=function(){a.close(),a.focus(),u(!1),o.documentElement.style.height="100%",a.print(),o.body.innerHTML=""},i.onerror=function(){u(!1)}}else l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})},children:"Print"})]});return(0,U.jsx)(o.Z,{overlay:p,trigger:["click"],placement:"bottomRight",children:(0,U.jsxs)("div",{className:"action-item",children:[s?(0,U.jsx)("div",{className:"icon-loading",children:(0,U.jsx)(W.Z,{})}):(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(b.bv,{})}),!s&&(0,U.jsx)("div",{className:"name",children:"More"}),(0,U.jsx)("iframe",{style:{width:0,height:0,display:"none"},ref:d})]})})};var Fe=n(85580),Ue=n(7516),He=n(85469),Ge=n(30817),Be=n(79993),Ve=n(64277),ze=n(82931),We=n(78512);function Ke(e){var t=e.accounts;return(0,U.jsx)("div",{className:"render-drive-accounts",children:t&&t.length?(0,U.jsx)("div",{className:"save-to-drive",children:t.map((function(t){return(0,U.jsxs)("div",{className:"save-item ".concat(t.service),onClick:e.handleDriveItemClick.bind(null,t),children:[(0,U.jsx)("div",{className:"icon"}),(0,U.jsx)("span",{children:(0,U.jsx)("span",{className:"user-email",title:t.userInfo.email,children:t.userInfo.email})})]},t.id)}))}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(r.Z,{type:"primary",className:"connect-btn",block:!0,onClick:e.handleAddDriveClick,children:"Connect with cloud storage"}),(0,U.jsxs)("div",{className:"support-s",children:[(0,U.jsx)("div",{children:"Support:"}),(0,U.jsx)("div",{className:"s-container",children:He.Br.map((function(e){return(0,U.jsx)(c.Z,{title:e.displayName,children:(0,U.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})})}function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Qe(e,t,n){return(t=Je(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Je(r.key),r)}}function Je(e){var t=function(e,t){if("object"!==Ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ye(t)?t:String(t)}function Xe(e,t){return Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Xe(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var i=nt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return tt(e)}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xe(e,t)}(o,e);var t,n,r,i=$e(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={isShownDrive:!1,isShownUpgrade:!1,currentDes:null,currentDriveAccount:null,upgradeType:"",desCurrentPanel:"add"},t.handleDesClick=t.handleDesClick.bind(tt(t)),t.handleAddDriveClick=t.handleAddDriveClick.bind(tt(t)),t.openDriveModal=t.openDriveModal.bind(tt(t)),t.handleModalCancel=t.handleModalCancel.bind(tt(t)),t.handleDesCreated=t.handleDesCreated.bind(tt(t)),t.handleAccountConnected=t.handleAccountConnected.bind(tt(t)),t.goToAddDes=t.goToAddDes.bind(tt(t)),t.showModal=t.showModal.bind(tt(t)),t}return t=o,(n=[{key:"componentDidMount",value:function(){this.props.loadUserInfo(),this.props.loadConnectedAccounts()}},{key:"handleDesClick",value:function(e){var t=this;"add"===e?this.openDesModal("add"):this.setState({currentDes:e},(function(){t.openDesModal("des")}))}},{key:"showModal",value:function(e){var t="isShown".concat(e);this.setState(Qe({},t,!0))}},{key:"handleModalCancel",value:function(e){var t,n="isShown".concat(e);this.setState((Qe(t={},n,!1),Qe(t,"signInType",""),t))}},{key:"openDriveModal",value:function(e){var t=this;this.props.user.info.uid?"add"===e?this.setState({currentDriveAccount:null},(function(){t.showModal("Drive")})):this.props.permissions["allow".concat((0,F.fm)(e.service))]?this.setState({currentDriveAccount:e},(function(){t.showModal("Drive")})):this.setState({upgradeType:e.service},(function(){t.showModal("Upgrade")})):this.setState({signInType:"drive",isShownSignin:!0})}},{key:"handleDesCreated",value:function(e){this.props.destinationCreated(e),this.setState({currentDes:e,desCurrentPanel:"des"})}},{key:"handleAccountConnected",value:function(e){this.props.connectedAccountSuccess(e)}},{key:"handleAddDriveClick",value:function(){this.openDriveModal("add")}},{key:"goToAddDes",value:function(){this.setState({desCurrentPanel:"add"})}},{key:"render",value:function(){var e=this.props,t=(e.user,e.accounts),n=(e.dataURL,e.permissions,e.itemUrl,e.isLoading),r=t.filter((function(e){return"googleDrive"===e.service||"dropbox"===e.service||"box"===e.service}));return(0,U.jsx)("div",{className:"DriveList",children:(0,U.jsx)("div",{className:"ann-des-list",children:n?(0,U.jsx)("div",{className:"loading",children:(0,U.jsx)(W.Z,{style:{fontSize:24},spin:!0})}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(Ke,{accounts:r,handleAddDriveClick:this.handleAddDriveClick,handleDriveItemClick:this.openDriveModal}),(0,U.jsx)(ze.Z,{visible:this.state.isShownDrive,onCancel:this.handleModalCancel.bind(null,"Drive"),tabTitle:this.props.title,imageUrl:this.props.imageUrl,imageBlob:this.props.imageBlob,service:this.state.driveService,permissions:this.props.permissions,currentPlan:this.props.currentPlan,accounts:r,currentDriveAccount:this.state.currentDriveAccount,handleDriveAccountConnected:this.handleDriveAccountConnected,contentType:this.props.contentType,showUpgradeModal:this.showUpgradeModal,type:"image",itemUrl:this.props.itemUrl}),(0,U.jsx)(E.Z,{visible:this.state.isShownUpgrade,onCancel:this.handleModalCancel.bind(null,"Upgrade"),type:this.state.upgradeType})]})})})}}])&&qe(t.prototype,n),r&&qe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(Z.Component),it={loadUserInfo:k.Lk,loadConnectedAccounts:We.Q6,connectedAccountSuccess:We.Mg};const ot=(0,h.$j)((function(e){var t=e.user;return{user:null===e.user?{}:e.user,permissions:t.permissions,currentPlan:t.premium.currentPlan,accounts:e.connectedAccount.accounts,isLoading:e.connectedAccount.isLoading}}),it)(rt);var at=n(73458),ct=n(48203);function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function lt(){lt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new O(i||[]);return r(a,"_invoke",{value:w(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==st(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new j(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function ut(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ut(o,r,i,a,c,"next",e)}function c(e){ut(o,r,i,a,c,"throw",e)}a(void 0)}))}}function ft(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pt=u.Z.TabPane;var ht={moveToTrash:A.B0,loadImageInfo:C.Ql,deleteChannelItem:N.FO,loadUserInfo:k.Lk,loadComments:D.KT,generateImageShareLinkAction:C.Vu,revokeImageShareLinkAction:C.W_,hideItemAction:P.td,duplicateImage:C.m8},vt=(0,h.$j)((function(e,t){var n,r,i,o,a=t.isModal?t.id:t.router.params.imageID;return{userInfo:e.user.info,isUserLoaded:e.user.isLoaded,counts:null!==(n=null===(r=e.user.counts)||void 0===r?void 0:r.image)&&void 0!==n?n:void 0,hasSaveToCloudAccount:e.user.hasSaveToCloudAccount,comments:null!==(i=e.comment.comments[He.Z$.image+a])&&void 0!==i?i:[],image:null!==(o=e.image.images[a])&&void 0!==o?o:{},permissions:e.user.permissions,currentPlan:e.user.premium.currentPlan,userCounts:e.user.counts,theme:e.userSetting.theme,showGuide:e.user.showGuide&&e.userGuide.loaded&&!e.userGuide.popups[g.C2.ImageLink],userGuide:e.userGuide}}),ht);const yt=(0,Ue.Z)(vt((function(e){var t=ft((0,Z.useState)(!1),2),n=t[0],h=t[1],N=ft((0,Z.useState)(!1),2),D=N[0],A=N[1],C=ft((0,Z.useState)(!1),2),P=C[0],k=C[1],H=ft((0,Z.useState)(null),2),G=H[0],V=H[1],z=ft((0,Z.useState)(!0),2),W=z[0],K=(z[1],ft((0,Z.useState)(!1),2)),Y=K[0],Q=K[1],q=ft((0,Z.useState)(!1),2),J=q[0],X=q[1],$=(0,Ge.Z)(),ee=(0,j.TL)(),te=e.loadImageInfo,ne=e.image,re=e.permissions,ie=e.currentPlan,oe=e.moveToTrash,ae=e.loadComments,ce=e.comments,se=e.loadUserInfo,le=e.isUserLoaded,ue=e.deleteChannelItem,fe=e.isModal,me=e.hideModal,pe=e.theme,he=e.hideItemAction,ve=e.isBrowsing,ye=e.userCounts,ge=e.duplicateImage,be=e.showGuide,je=e.userGuide;(0,I.u)(ne.info&&!fe?ne.info.title:"");var we=(0,w.D)(ne.isLoading),xe=fe?e.id:e.router.params.imageID,Se=(0,w.D)(xe),Ie=fe?e.shareKey:$.get("key"),Oe=$.get("init_open"),Ne=ne.info||{},De=e.userInfo.uid+""!==Ne.userID&&!Ne.isChannelMember,Ce=e.userInfo.uid+""===Ne.userID,Pe=Ne.channel&&e.userInfo.uid===Ne.channel.creatorID,ke=(0,w.D)(e.counts),Te=!W&&Be.Z.isChrome()&&!Be.Z.isMobile(),Le=(0,v.s0)(),_e=(0,v.TH)(),Re=(0,Z.useRef)(null),Me=ft((0,x.K)(Re,{windowScroll:!1}),2),Ue=Me[0],ze=Me[1],We=ft((0,Z.useState)(!1),2),Ke=We[0],Ye=We[1];function Qe(){Ye(!1),ee((0,g.wH)(g.C2.ImageLink)),(0,F.I1)("Complete source link popup",{event_category:"userGuide"})}(0,S.Q)(dt(lt().mark((function e(){return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F._v)(500);case 2:ze(),Ye(!0);case 4:case"end":return e.stop()}}),e)}))),!!Re.current&&be),(0,S.Q)((function(){ee((0,g.aO)())}),!je.loaded&&!De&&e.isUserLoaded),(0,Z.useEffect)((function(){var e=setTimeout((function(){!(0,F.LB)()&&Be.Z.isChrome()&&Be.Z.isMobile()}),1e3);return(0,T.A95)(xe),window.addEventListener("message",qe,!1),function(){clearTimeout(e),window.removeEventListener("message",qe,!1)}}),[]),(0,Z.useEffect)((function(){void 0===e.userInfo.uid&&le&&(0,F.Zf)(se)}),[e.userInfo,le]),(0,Z.useEffect)((function(){void 0===ne.info&&!1===we&&Se===xe&&(fe?me():_e.state&&_e.state.inApp?Le(-1):Le("/my_items")),!1===ne.isLoading&&void 0===ne.info.id&&(e.isModal?(Le("/404"),he()):Le("/404",{replace:!0}))}),[ne.isLoading,ne]),(0,Z.useEffect)((function(){var e;return"Uploading"===Ne.statusName&&(e=setTimeout((function(){te(xe,Ie,!0)}),1500)),function(){return clearTimeout(e)}})),(0,Z.useEffect)((function(){ve&&void 0!==ne.info&&ne.loaded||(te(xe,Ie),ae(He.Z$.image,xe,Ie))}),[xe,Ie]),(0,Z.useEffect)((function(){void 0===ke&&void 0!==e.userInfo.uid&&void 0!==e.counts&&void 0!==e.currentPlan&&"free"===e.currentPlan.PlanName&&parseInt(e.counts)>100&&(A(!0),k(!0))}),[e.counts,e.currentPlan]);var qe=function(e){var t=e.data;"show"===t.type?Q(!0):"close"===t.type&&Q(!1)},Je=(0,Z.useCallback)((function(){if(e.isModal){var t={itemType:"image",id:e.image.info.id,shareKey:e.shareKey};localStorage.restore_modal=JSON.stringify(t)}window.location.href="/signin?redirect="+window.location.href}),[e,fe,e.image,e.shareKey]),Xe=void 0===ne.info||(ve?!ne.loaded:ne.isLoading),$e=void 0!==Ne.canVisit&&!1===Ne.canVisit&&De,et=void 0!==e.currentPlan&&void 0!==e.counts&&"free"===e.currentPlan.PlanName&&parseInt(ye.video)>=.75*ye.videoLimitation&&parseInt(ye.video)<ye.videoLimitation,tt=void 0!==e.currentPlan&&void 0!==e.counts&&"free"===e.currentPlan.PlanName&&parseInt(ye.video)>=ye.videoLimitation;return(0,U.jsxs)("div",{className:"image-detail-page ".concat(fe?"modal":""),children:[tt&&(0,U.jsxs)("div",{className:"discount-tip-header",children:[(0,U.jsx)(d.Z,{}),"You’ ve reached the 100 screenshot limit. Upgrade for unlimited screenshots.",(0,U.jsx)(y.rU,{className:"btn primary",to:"/pricing?from=list_image_reach_limit",children:"Upgrade now"})]}),et&&(0,U.jsxs)("div",{className:"discount-tip-header",children:[(0,U.jsx)(d.Z,{}),"You’ ve taken ",ye.image,"/",ye.imageLimitation," ","screenshots. Upgrade for unlimited screenshots.",(0,U.jsx)(y.rU,{className:"btn primary",to:"/pricing?from=list_video_image_close_limit",children:"Upgrade now"})]}),(0,U.jsx)("div",{className:"inner-container",children:(0,U.jsx)("div",{className:"main",children:Xe?(0,U.jsx)(R.Z,{}):(0,U.jsxs)("div",{className:"image-container",children:[(0,U.jsxs)("div",{className:"image-area",children:[Oe&&(0,U.jsx)(Ee,{imageId:Ne.id}),(0,U.jsxs)("div",{className:"image-preview",children:[(0,U.jsx)("span",{className:"helper"}),"Uploading"===Ne.statusName?(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("div",{className:"img-wrapper",children:(0,U.jsx)("div",{className:"uploading-tip",children:" Uploading..."})})}):(0,U.jsx)(de,{src:Ne.imageFileURI,handleImageOnLoad:function(e){V(e)}})]}),(0,U.jsxs)("div",{className:"image-title-area",children:[(0,U.jsx)("div",{className:"image-title",children:Ce||Ne.channel&&Ne.isChannelMember?(0,U.jsx)(M.Z,{item:Ne}):(0,U.jsx)("div",{className:"display-title",children:Ne.title})}),(0,U.jsxs)("div",{className:"image-info",children:[(0,U.jsx)(s.Z,{visible:!!Ne.workspace&&void 0,overlayClassName:"workspace-profile-popover",content:Ne.workspace?(0,U.jsx)(ct.Z,{info:Ne,workspaceID:Ne.workspace.id}):null,arrowPointAtCenter:!0,autoAdjustOverflow:!0,destroyTooltipOnHide:!0,mouseLeaveDelay:.1,placement:"bottomLeft",children:(0,U.jsxs)("div",{className:"image-info-avatar",children:[(0,U.jsx)(O.Z,{size:"32",username:Ne.userName||"",avatarUrl:Ne.userAvatar}),(0,U.jsx)("span",{className:"username",children:Ne.userName})]})}),(0,U.jsx)("div",{className:"image-info-text",children:(0,U.jsxs)("div",{className:"extra-info",children:[(0,U.jsxs)("span",{className:"views",children:[(0,U.jsx)("span",{children:Ne.views})," ",Ne.views>1?"views":"view"]}),(0,U.jsx)("span",{className:"sep",children:"•"}),(0,U.jsx)("span",{className:"create-time",children:(0,F.p6)(Ne.createdSec)})]})})]}),(0,U.jsxs)("div",{className:"image-action",children:[Ne.sourceURL&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(c.Z,{title:"",children:(0,U.jsxs)("div",{className:"image-action-btn text",ref:Re,id:"user-guide-target--image-source-url",onClick:function(){return window.open(Ne.sourceURL)},children:[(0,U.jsx)(b.Od,{}),"Source URL"]})}),Ke&&(0,U.jsx)(at.So,{onOk:Qe,onCancel:Qe,highlightRect:Ue})]}),Ce&&(0,U.jsx)(o.Z,{placement:"topRight",trigger:["click"],overlay:(0,U.jsxs)(a.Z,{children:[!Ne.channel&&(0,U.jsx)(a.Z.Item,{icon:(0,U.jsx)(b.NA,{}),onClick:function(){re.allowUploadImage?ge(ne.info,(function(e){window.open("https://"+window.location.host+"/image/"+e)})):X(!0)},children:"Duplicate"},"duplicate"),(0,U.jsx)(a.Z.Item,{icon:(0,U.jsx)(b.XH,{}),onClick:function(){l.Z.confirm({title:"Are you sure you want to remove this item?",content:"",onOk:function(){Ne.channel?ue({workspaceID:Ne.channel.workspaceID,channelID:Ne.channel.id,itemID:Ne.id,id:Ne.channelItemId,itemType:Ne.itemType}).then((function(){fe?me():Le("/workspace/"+Ne.channel.workspaceID+"/"+Ne.channel.id)})):oe([Ne])},okText:"Move to Trash",okType:"danger",onCancel:function(){}})},danger:!0,children:"Remove"},"remove")]}),children:(0,U.jsx)("div",{className:"image-action-btn",children:(0,U.jsx)(b.bv,{})})}),De&&!1]})]})]}),De?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"sidebar-area",children:(0,U.jsxs)("div",{className:"shared-comment-container",children:[(0,U.jsx)("div",{className:"title",children:e.comments.length>1?"".concat(e.comments.length," Comments"):"".concat(e.comments.length," Comment")}),(0,U.jsx)(L.Z,{itemType:He.Z$.image,itemId:xe,isOwner:parseInt(Ne.userID)===e.userInfo.uid,shareKey:Ie,goToSignIn:Je})]})}),Te&&(0,U.jsx)("div",{className:"sidebar-area",children:(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section",children:(0,U.jsxs)("div",{className:"promo-box",children:[(0,U.jsx)(O.Z,{size:"48",username:Ne.userName,avatarUrl:Ne?Ne.avatarURL:"",type:"circle",block:!0}),(0,U.jsx)("div",{className:"avatar-name",children:Ne.userName}),(0,U.jsx)("div",{className:"text first",children:"shared this video with you via Awesome Screenshot , a popular tool for screen recording and capture."}),(0,U.jsx)("div",{className:"text",children:"Want to take and share a recording like this? Have a try. It's free!"}),(0,U.jsx)("div",{className:"install-btn",onClick:F.nV.bind(null,"video-shared-sidebar-click"),children:"Try It Now!"})]})})})})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"sidebar-area",children:(0,U.jsxs)(u.Z,{defaultActiveKey:Ne.hasComment||Ne.channel?"2":"1",centered:!0,children:[(0,U.jsx)(pt,{tab:"Manage",children:(0,U.jsxs)(U.Fragment,{children:[(Ce||Pe)&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)(Fe.Z,{item:Ne})}),Ce&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section tiny",children:(0,U.jsxs)("div",{className:"action-box",children:[(0,U.jsx)(Ae,{url:Ne.imageDownloadURI,title:Ne.title,status:Ne.statusName}),(0,U.jsxs)("div",{className:"action-item",onClick:function(){return function(e){if("Uploading"!==Ne.statusName)switch(e){case"annotate":Le("/image/annotate/"+Ne.id,fe?{state:{isModal:!0}}:{state:{inApp:!0}});break;case"comment":window.location.href="/showImage?img_id="+Ne.id;break;case"commentShare":window.location.href=Ne.commentURL}else l.Z.warning({content:"Your image is being uploaded. Please wait a moment and retry later."})}("annotate")},children:[(0,U.jsx)("div",{className:"icon",children:(0,U.jsx)(b.zJ,{})}),(0,U.jsx)("div",{className:"name",children:"Annotate"})]}),(0,U.jsx)(Ze,{url:Ne.imageDownloadURI,title:Ne.title,status:Ne.statusName,blob:G})]})})}),!De&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section",children:Ne.shareURI?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"share-title-area",children:["Share Link",(0,U.jsx)("div",{className:"more",children:(0,U.jsx)(o.Z,{overlay:(0,U.jsxs)(a.Z,{children:[(0,U.jsx)(a.Z.Item,{children:(0,U.jsx)("div",{className:"revoke-btn",onClick:function(){l.Z.confirm({title:"Are you sure to revoke this share link?",okType:"danger",okText:"Yes, revoke",onOk:function(){e.revokeImageShareLinkAction(Ne.id)}})},children:"Revoke share link"})},"revoke"),(0,U.jsx)(a.Z.Item,{children:(0,U.jsx)("div",{className:"revoke-btn",onClick:function(){(0,F.bw)(Ne.shareURI)},children:"Get short url"})},"tinyurl")]}),trigger:["click"],children:(0,U.jsx)(f.Z,{})})})]}),(0,U.jsx)("div",{className:"share-link-input",children:(0,U.jsx)(i.Z,{disabled:!0,value:Ne.shareURI})}),(0,U.jsx)("div",{className:"button-area",children:(0,U.jsx)(r.Z,{type:"primary",block:!0,icon:n?(0,U.jsx)(m.Z,{}):(0,U.jsx)(b.TI,{}),className:n?"copy-btn copied":"copy-btn",onClick:function(e){(0,F.zp)(e),h(!0),setTimeout((function(){h(!1)}),1500)}.bind(this,Ne.shareURI),children:n?"Copied!":"Copy Link"})}),(0,U.jsx)("div",{className:"sep"}),(0,U.jsx)("div",{className:"destination-area",children:(0,U.jsx)(Ve.Z,{dataURL:"fff",permissions:re,currentPlan:ie,type:"image",tabUrl:Ne.sourceURL,itemId:xe,itemUrl:Ne.shareURI})})]}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("h4",{children:"Share Your Image"}),(0,U.jsxs)("div",{className:"button-area",children:[(0,U.jsx)(r.Z,{className:"shareButton",onClick:function(){be&&!je.steps.Share&&(ee((0,g.YA)(g.Rg.Share)),(0,F.I1)("First time generate share link from image detail",{event_category:"userGuide"})),e.generateImageShareLinkAction(Ne.id)},loading:ne.isGenerateShareLinkLoading,children:"Generate Shareable Link"}),(0,U.jsxs)("div",{className:"support-s",children:[(0,U.jsx)("div",{children:"Support:"}),(0,U.jsx)("div",{className:"s-container",children:He.SX.map((function(e){return(0,U.jsx)(c.Z,{title:e.displayName,children:(0,U.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})]})})}),e.hasSaveToCloudAccount&&(0,U.jsx)("div",{className:"sidebar",children:(0,U.jsx)("div",{className:"section",children:(0,U.jsxs)("div",{className:"drive-area",children:[(0,U.jsx)(c.Z,{title:"Manage accounts",children:(0,U.jsx)("div",{className:"setting-btn",children:(0,U.jsx)(y.rU,{to:"/settings/connectedAccounts",children:(0,U.jsx)(p.Z,{})})})}),(0,U.jsx)("h4",{children:"Save to Cloud"}),(0,U.jsx)(ot,{title:Ne.title,itemUrl:Ne.imageDownloadURI,user:e.user})]})})}),et&&!1]})},"1"),(0,U.jsx)(pt,{tab:"Comments".concat(ce.length?" (".concat(ce.length,")"):""),children:(0,U.jsx)("div",{className:"comment-area",children:(0,U.jsx)(L.Z,{itemType:He.Z$.image,itemId:xe,isOwner:+Ne.userID===e.userInfo.uid,shareKey:Ie,isInChannel:!!Ne.channel,channel:Ne.channel,goToSignIn:Je})})},"2")]})}),Oe&&"free"===e.currentPlan.PlanName&&(0,U.jsx)("iframe",{src:"https://www.vidline.com/promotion-card.html?theme=".concat(pe,"&place=website"),className:"promotion-iframe ".concat(Y?"show":"")})]})]})})}),(0,U.jsx)(E.Z,{unClosable:!P,visible:D,onCancel:function(){A(!1)},type:P?"image-alert":"image-view"}),(0,U.jsx)(E.Z,{visible:J,onCancel:function(){X(!1)},type:"duplicate"}),(0,U.jsx)(_.Z,{isInApp:!!e.location&&e.location.state}),(0,U.jsx)(B,{type:"image",username:Ne.userName,visible:$e,id:xe})]})})))},86953:(e,t,n)=>{var r=n(97168),i=n(73935),o=n(56262),a=n(39711),c=n(14890),s=n(29521),l=n.n(s),u=n(31955),d=n(71436),f=n(15322);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y={workspaceID:"",channelID:"",folderID:"0",members:[],itemIDList:[],items:{},channelFoldersChildrenMap:{},channelFoldersMap:{},page:0,isLoading:!1,subPage:0,isSubPageLoading:!1,initialLoaded:!1,lastTimestamp:"",lasttimestampItemID:"",isEnd:!1,total:0,showPageCount:0,sort:u.Z.get("channel_sort")||"create",currentDisplayPage:0,scrollTop:0,isMemberLoading:!1};const g=(0,r.Lq)(y,(function(e){return e.addCase(d.$1,(function(e){e.isLoading=!0})).addCase(d.vI,(function(e){e.isLoading=!1})).addCase(d.tq,(function(e,t){var n=t.payload,r=n.items,i=n.workspaceID,o=n.currentDisplayPage,a=n.channelID,c=n.page,s=n.total;if(e.isLoading=!1,e.workspaceID=i,e.channelID=a,e.folderID=n.folderID,e.total=s,e.currentDisplayPage=o,null===r)e.itemIDList=[];else{e.itemIDList=r.map((function(e){return{itemType:e.itemType,id:e.itemID}}));var l=r[r.length-1],u="create"===e.sort?l.createdSec:l.updatedSec;e.items=Object.fromEntries(r.map((function(e){return[e.itemType+e.itemID,e]}))),e.isLoading=!1,e.page=c,e.lastTimestamp=u,e.lasttimestampItemID=l.id,e.showPageCount+=1,e.initialLoaded=!0,e.isEnd=!1,e.subPage=0}})).addCase(d.rd,(function(e){e.isSubPageLoading=!0})).addCase(d.sk,(function(e,t){var n=t.payload;if(e.isSubPageLoading=!1,null===n||null==e.itemIDList)e.isEnd=!0;else{var r,i=n[n.length-1],o="create"===e.sort?i.createdSec:i.updatedSec;n.length<20&&(e.isEnd=!0),Object.assign(e.items,Object.fromEntries(n.map((function(e){return[e.itemType+e.itemID,e]})))),e.lastTimestamp=o,e.lasttimestampItemID=i.id,(r=e.itemIDList).push.apply(r,p(n.map((function(e){return{itemType:e.itemType,id:e.itemID}})))),e.subPage+=1}})).addCase(d.BG,(function(e,t){var n,r=t.payload,i=r.workspaceID,o=r.channelID,a=r.items;o===e.channelID&&i===e.workspaceID&&(Object.assign(e.items,Object.fromEntries(a.map((function(e){return[e.itemType+e.itemID,e]})))),(n=e.itemIDList).unshift.apply(n,p(a.map((function(e){return{itemType:e.itemType,id:e.itemID}})))))})).addCase(d.R1,(function(e){e.isMemberLoading=!0})).addCase(d.qI,(function(e,t){var n=t.payload;e.members=n,e.isMemberLoading=!1})).addCase(d.Q6,(function(e,t){var n=t.payload;e.sort=n})).addCase(d.OM,(function(e,t){e.scrollTop=t.payload})).addCase(d.QT,(function(e,t){var n=t.payload,r=e.members.find((function(e){return"owner"===e.role}));r&&(r.role="member");var i=e.members.find((function(e){return e.userID===n}));i&&(i.role="owner")})).addCase(d.px,(function(e,t){var n=t.payload,r=e.members.findIndex((function(e){return e.userID===n}));-1!==r&&e.members.splice(r,1)})).addCase(d.Cc,(function(e,t){var n,r=t.payload;(n=e.members).push.apply(n,p(Object.values(r)))})).addCase(d.I5,(function(e,t){var n=t.payload,r=n.id,i=n.itemType,o=n.name,a=e.items[i+r];a&&(a.info.title=o)})).addCase(d.lk,(function(e,t){var n=t.payload,r=n.id,i=n.item,o=n.itemType,a=e.items[o+r];a&&Object.assign(a.info,i)})).addCase(d.MY,(function(e,t){var n=Array.isArray(t.payload)?t.payload:[t.payload];e.itemIDList=l()(e.itemIDList,n,(function(e,t){return e.itemType+e.id===t}))})).addCase(d.A3,(function(e){e.page=0})).addCase(d.vs,(function(e,t){var n=t.payload;e.itemIDList=l()(e.itemIDList,n,(function(e,t){return e.itemType===t.itemType&&String(e.id)===String(t.id)}))})).addCase(d.tK,(function(e,t){var n=t.payload,r=n.id,i=n.info,o=e.items["video"+r];o&&(o.info=i)})).addCase(f.U5,(function(e,t){var n=t.payload,r=e.items["image"+n];r&&(r.info.useName="")})).addCase(d.uo,(function(e,t){var n,r,i,o,a=t.payload,c=a.workspaceID,s=a.channelID,l=a.folders;(null!==(r=(n=e.channelFoldersChildrenMap)[c])&&void 0!==r?r:n[c]={})[s]={folders:Object.fromEntries(Object.entries(l).map((function(e){var t=m(e,2);return[t[0],{children:t[1],isLoading:!1,isLoaded:!0}]}))),isLoading:!1,isLoaded:!0},(null!==(o=(i=e.channelFoldersMap)[c])&&void 0!==o?o:i[c]={})[s]=Object.fromEntries(Object.values(l).flatMap((function(e){return e.map((function(e){return[e.folderID,e]}))})))})).addCase(d.eW,(function(e,t){var n,r,i=t.payload,o=i.id,a=o.workspaceID,c=o.channelID,s=o.folderID,l=i.folder,u=null===(n=e.channelFoldersMap[a])||void 0===n||null===(r=n[c])||void 0===r?void 0:r[s];if(u){var d,f,m,p=null===(d=e.channelFoldersChildrenMap[a])||void 0===d||null===(f=d[c])||void 0===f||null===(m=f.folders[u.parentID||"0"])||void 0===m?void 0:m.children,h=null==p?void 0:p.find((function(e){return e.folderID===s}));h&&Object.assign(h,l),Object.assign(u,l)}})).addCase(d.q,(function(e,t){var n,r,i,o,a,c,s,l,u,d,f,m,p,h,v,y,g,b,j,w,x,S,I,O=t.payload;((null!==(i=(n=null!==(c=(o=e.channelFoldersMap)[a=O.workspaceID])&&void 0!==c?c:o[a]={})[r=O.channelID])&&void 0!==i?i:n[r]={})[O.folderID]=O,(null!==(u=(s=(null!==(m=(d=null!==(v=(p=e.channelFoldersChildrenMap)[h=O.workspaceID])&&void 0!==v?v:p[h]={})[f=O.channelID])&&void 0!==m?m:d[f]={isLoading:!1,isLoaded:!0,folders:{}}).folders)[l=O.parentID])&&void 0!==u?u:s[l]={children:[],isLoading:!1,isLoaded:!0}).children.push(O),null!==(y=e.channelFoldersChildrenMap[O.workspaceID])&&void 0!==y&&null!==(g=y[O.channelID])&&void 0!==g&&g.folders[O.folderID])||((null!==(w=(b=null!==(I=(x=e.channelFoldersChildrenMap)[S=O.workspaceID])&&void 0!==I?I:x[S]={})[j=O.channelID])&&void 0!==w?w:b[j]={isLoaded:!0,isLoading:!1,folders:{}}).folders[O.folderID]={children:[],isLoaded:!0,isLoading:!1})})).addCase(d.G5,(function(e,t){var n,r,i=t.payload,o=i.workspaceID,a=i.folderID,c=i.channelID,s=null===(n=e.channelFoldersMap[o])||void 0===n||null===(r=n[c])||void 0===r?void 0:r[a];if(s){var l,u,d,f,m,p=null===(l=e.channelFoldersChildrenMap[o])||void 0===l||null===(u=l[c])||void 0===u||null===(d=u.folders[s.parentID])||void 0===d?void 0:d.children,h=null==p?void 0:p.findIndex((function(e){return e.id===s.id}));(null!=h?h:-1)>=0&&p.splice(h,1),null===(f=e.channelFoldersMap[o])||void 0===f||(null===(m=f[c])||void 0===m||delete m[a])}})).addCase(d.d_,(function(e,t){var n,r,i,o,a=t.payload,c=a.idParams,s=c.workspaceID,l=c.channelID,u=a.status;Object.assign(null!==(r=(n=null!==(o=(i=e.channelFoldersChildrenMap)[s])&&void 0!==o?o:i[s]={})[l])&&void 0!==r?r:n[l]={isLoading:!1,isLoaded:!1,folders:{}},u)})).addCase(d.qJ,(function(e){e.page=0}))}));var b,j=n(97882);function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e,t,n){return t=function(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==w(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=(0,r.Lq)({isLoading:!1,isCreating:!1,isCreateSuccess:!1,comments:{},userList:[],isUserListLoading:!1},(S(b={},j.a.COMMENT_LOADING,(function(e){e.isLoading=!0})),S(b,j.a.COMMENT_CREATING,(function(e){e.isCreateSuccess=!1,e.isCreating=!0})),S(b,j.a.COMMENT_CREATE_FAILED,(function(e){e.isCreating=!1})),S(b,j.a.COMMENT_LOADED,(function(e,t){e.isLoading=!1;var n=t.payload,r=n.itemType,i=n.itemId,o=n.data;e.comments[r+i]=o})),S(b,j.a.COMMENT_USER_LIST_LOADING,(function(e){e.isUserListLoading=!0})),S(b,j.a.COMMENT_USER_LIST_LOADED,(function(e,t){e.userList=t.payload,e.isUserListLoading=!1})),S(b,j.a.COMMENT_CREATED,(function(e,t){var n=t.payload,r=n.itemType,i=n.itemId,o=n.data;e.comments[r+i]||(e.comments[r+i]=[]),e.comments[r+i].push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({animation:!!o.isEmoji},o)),e.isCreating=!1,e.isCreateSuccess=!0})),S(b,j.a.COMMENT_REMOVED,(function(e,t){var n=t.payload,r=n.itemType,i=n.itemId,o=n.id;e.comments[r+i]=e.comments[r+i].filter((function(e){return e.id!==o}))})),S(b,j.a.COMMENT_REMOVE_ANIMATION,(function(e,t){var n=t.payload,r=n.itemType,i=n.itemId,o=n.id,a=e.comments[r+i].findIndex((function(e){return e.id===o}));e.comments[r+i][a].animation=!1})),S(b,j.a.COMMENT_REMOVE_MENTIONED,(function(e,t){var n=t.payload,r=n.itemType,i=n.itemId,o=n.id,a=e.comments[r+i].findIndex((function(e){return e.id===o}));e.comments[r+i][a].isMention=0})),b));var O;function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function N(e,t,n){return t=function(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=(0,r.Lq)({isLoading:!1,accounts:[]},(N(O={},j.a.CONNECTED_ACCOUNT_LOAD_DOING,(function(e){e.isLoading=!0})),N(O,j.a.CONNECTED_ACCOUNT_LOAD_RECEIVED,(function(e,t){e.isLoading=!1,e.accounts=t.payload.accounts||[]})),N(O,j.a.CONNECTED_ACCOUNT_SUCCESS,(function(e,t){e.accounts.unshift(t.payload.account)})),N(O,j.a.CONNECTED_ACCOUNT_DELETED,(function(e,t){var n=e.accounts.findIndex((function(e){return e.id===t.payload.accountID}));e.accounts.splice(n,1)})),O));var A;function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function P(e,t,n){return t=function(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=(0,r.Lq)({isLoading:!1,destinations:[],screenshotsMap:{},videosMap:{}},(P(A={},j.a.DESTINATIONS_LOAD_DOING,(function(e){e.isLoading=!0})),P(A,j.a.DESTINATIONS_LOAD_RECEIVED,(function(e,t){e.isLoading=!1,e.destinations=t.payload.destinations||[]})),P(A,j.a.DESTINATION_CREATED,(function(e,t){var n=t.payload.destination,r=n.id,i=e.destinations.findIndex((function(e){return e.id===r}));i<0?e.destinations.unshift(n):e.destinations.splice(i,1,n)})),P(A,j.a.DESTINATION_DELETED,(function(e,t){var n=t.payload.destination.id,r=e.destinations.findIndex((function(e){return e.id===n}));e.destinations.splice(r,1)})),P(A,j.a.DESTINATION_PRIVACY_CHANGED,(function(e,t){var n=t.payload.destination.id,r=e.destinations.findIndex((function(e){return e.id===n}));e.destinations[r]=t.payload.destination})),P(A,j.a.DESTINATION_LOAD_SCREENSHOTS_RECEIVED,(function(e,t){var n,r,i=t.payload,o=i.destinationID,a=i.screenshots,c=i.currentPage,s=i.total,l=i.limit,u=(null===(n=e.screenshotsMap[o])||void 0===n||null===(r=n.screenshot)||void 0===r?void 0:r.screenshots)||[],d=a.concat(u);e.screenshotsMap=P({},o,{currentPage:c,total:s,limit:l,screenshots:d})})),P(A,j.a.DESTINATION_LOAD_VIDEOS_RECEIVED,(function(e,t){var n,r,i=t.payload,o=i.destinationID,a=i.videos,c=i.currentPage,s=i.total,l=i.limit,u=(null===(n=e.videosMap[o])||void 0===n||null===(r=n.video)||void 0===r?void 0:r.videos)||[],d=a.concat(u);e.videosMap=P({},o,{currentPage:c,total:s,limit:l,videos:d})})),A));var T=n(13264);function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const R=(0,r.Lq)([],(function(e){return e.addCase(T.WH,(function(e,t){var n=t.payload;e.push(n)})).addCase(T.qT,(function(e,t){var n=t.payload,r=n.id,i=e.find((function(e){return e.id===r}));i&&Object.assign(i,n)})).addCase(T.H4,(function(e,t){var n=t.payload,r=e.findIndex((function(e){return e.id===n}));r>=0&&(clearTimeout(e[r].retryTimer),e.splice(r,1))})).addCase(T.tH,(function(e){var t,n=L(e);try{for(n.s();!(t=n.n()).done;){var r=t.value.retryTimer;clearTimeout(r)}}catch(e){n.e(e)}finally{n.f()}e.length=0}))}));var M;function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function F(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const V=(0,r.Lq)({folders:{},starredFolderIDList:[],isLoading:!1,folderIDList:{},loaded:!1,isGeneratingShareUrl:!1,myItemSort:""},(B(M={},j.a.FOLDER_LOAD,(function(e,t){var n=t.payload,r=n.folders,i=n.favoriteFolders,o=n.sort,a={},c=G({},e.folders),s=function(e){a[e]=[],r[e].forEach((function(t){a[e].push(t.folderID),c[t.folderID]=t}))};for(var l in r)s(l);return G(G({},e),{},{isLoading:!1,starredFolderIDList:i,folders:c,folderIDList:a,loaded:!0,myItemSort:o})})),B(M,j.a.FOLDER_RECEIVED,(function(e,t){var n=t.payload.folders,r=G({},e.folders);return n.forEach((function(e){r[e.folderID]=G({name:e.title||e.name,id:e.folderID,itemType:"folder"},e)})),G(G({},e),{},{folders:r})})),B(M,j.a.FOLDER_LOADING,(function(e){return G(G({},e),{},{isLoading:!0})})),B(M,j.a.FOLDER_CREATE,(function(e,t){var n=t.payload;n=G(G({},n),{},{id:n.folderID,title:n.name,itemType:"folder"});var r=e.folderIDList;r[n.parentID]||(r[n.parentID]=[]),r[n.parentID].unshift(n.folderID),e.folders=G(G({},e.folders),{},B({},n.folderID,n))})),B(M,j.a.FOLDER_MOVE,(function(e,t){var n=t.payload,r=n.folderID,i=n.folders,o=e.folders,a=e.folderIDList;i.forEach((function(t){var n=t.parentID?t.parentID:e.folders[t.id].parentID;a[n]=a[n].filter((function(e){return e!==t.id})),a[r]||(a[r]=[]),a[r].unshift(t.id),o[e.folders[t.id].folderID].parentID=r}))})),B(M,j.a.FOLDER_RENAME,(function(e,t){var n,r,i=t.payload,o=i.folderID,a=i.name;Object.assign(null!==(r=(n=e.folders)[o])&&void 0!==r?r:n[o]={},{title:a,name:a})})),B(M,j.a.FOLDER_EDIT_DESC,(function(e,t){var n=t.payload,r=n.folderID,i=n.desc;e.folders[r].description=i})),B(M,j.a.FOLDER_GETTING_SHARE_LINK,(function(e){e.isGeneratingShareUrl=!0})),B(M,j.a.FOLDER_GET_SHARE_LINK,(function(e,t){var n=t.payload,r=n.folderID,i=n.shareKey;e.folders[r].shareKey=i,e.isGeneratingShareUrl=!1})),B(M,j.a.FOLDER_REVOKE_SHARE_LINK,(function(e,t){var n=t.payload;e.folders[n].shareKey=""})),B(M,j.a.FOLDER_DELETE,(function(e,t){var n=t.payload.folders,r=G({},e.folderIDList),i=F(e.starredFolderIDList);function o(t){var n=e.folderIDList[t];n&&n.forEach(o),i=i.filter((function(e){return e!==t}))}return n.forEach((function(t){var n=t.parentID?t.parentID:e.folders[t.id].parentID;r[n]&&(r[n]=r[n].filter((function(e){return e!==t.id})))})),n.forEach((function(e){o(e.id)})),G(G({},e),{},{folderIDList:r,starredFolderIDList:i})})),B(M,j.a.STAR_FOLDER_UPDATE,(function(e,t){var n=t.payload;e.starredFolderIDList=n.split(",")})),B(M,j.a.STAR_FOLDER_REMOVE,(function(e,t){var n=t.payload;e.starredFolderIDList=e.starredFolderIDList.filter((function(e){return e!==n}))})),B(M,j.a.STAR_FOLDER_DELETE,(function(e,t){t.payload.folders.forEach((function t(n){var r=e.folderIDList[n];r&&r.forEach(t),e.starredFolderIDList=e.starredFolderIDList.filter((function(e){return e!==n}))}))})),B(M,j.a.FOLDER_CHANGE_SORT,(function(e,t){var n=t.payload,r=n.folderID,i=n.sort;if("0"===r)e.myItemSort=i;else{var o=e.folders[r];o&&(o.sort=i)}})),M));var z;function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function K(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return t=function(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===W(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X={images:{},sort:u.Z.get("image_sort")||"create",scrollTop:0,page:0,activeImages:{isLoading:!1,isSubPageLoading:!1,subPage:0,isEnd:!1,imageIDList:[],totalCount:0,lastTimestamp:"",pageSize:0,page:0},inactiveImages:{isLoading:!1,imageIDList:[],totalCount:0,pageSize:0,page:0}};const $=(0,r.Lq)(X,(J(z={},j.a.IMAGE_LIST_LOAD,(function(e,t){var n=t.payload,r=n.images,i=n.page,o=n.total;if(null==r)return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isSubPageLoading:!1,imageIDList:null,isLoading:!1,page:i})});var a=r.map((function(e){return e.id})),c=q({},e.images);r.forEach((function(e){c[e.id]={isLoading:!1,info:e}}));var s="create"===e.sort?r[r.length-1].createdSec:r[r.length-1].updatedSec;return q(q({},e),{},{images:c,scrollTop:0,page:i,activeImages:q(q({},e.activeImages),{},{imageIDList:a,lastTimestamp:s,isSubPageLoading:!1,page:i,isEnd:!1,subPage:0,isLoading:!1,totalCount:o})})})),J(z,j.a.IMAGE_LIST_LOAD_MORE,(function(e,t){var n=t.payload.images;if(null===n)return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isSubPageLoading:!1,isEnd:!0})});var r=n.map((function(e){return e.id})),i=q({},e.images);n.forEach((function(e){i[e.id]={isLoading:!1,info:e}}));var o="create"===e.sort?n[n.length-1].createdSec:n[n.length-1].updatedSec;return q(q({},e),{},{images:i,activeImages:q(q({},e.activeImages),{},{imageIDList:[].concat(K(e.activeImages.imageIDList),K(r)),lastTimestamp:o,isSubPageLoading:!1,subPage:e.activeImages.subPage+1})})})),J(z,j.a.IMAGE_LIST_LOADING,(function(e){return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isLoading:!0})})})),J(z,j.a.IMAGE_LIST_SUB_LOADING,(function(e){return q(q({},e),{},{activeImages:q(q({},e.activeImages),{},{isSubPageLoading:!0})})})),J(z,j.a.IMAGE_SCROLL_UPDATE,(function(e,t){var n=t.payload;return q(q({},e),{},{scrollTop:n})})),J(z,j.a.IMAGE_RECEIVED,(function(e,t){var n=t.payload.images,r=q({},e.images);return n.forEach((function(e){r[e.id]={isLoading:!1,info:e}})),q(q({},e),{},{images:r})})),J(z,j.a.IMAGE_DELETE,(function(e,t){var n=t.payload,r=q({},e.images),i=e.activeImages.imageIDList.slice(),o=n.map((function(e){return e.id}));return i=i.filter((function(e){return-1===o.indexOf(e)})),n.forEach((function(e){delete r[e.id]})),q(q({},e),{},{images:r,activeImages:q(q({},e.activeImages),{},{imageIDList:i,totalCount:e.activeImages.totalCount-n.length})})})),J(z,j.a.IMAGE_ADD,(function(e,t){var n=t.payload.images,r=e.images;if(n.forEach((function(e){r[e.id]={isLoading:!1,info:q({},e)}})),1===e.activeImages.page)if(e.inactiveImages.imageIDList.length){var i=e.activeImages.imageIDList||[],o=e.inactiveImages.imageIDList||[],a=[],c=[];n.forEach((function(e){a.unshift(e.id),c.unshift(i.pop())})),e.activeImages.imageIDList=[].concat(a,K(i)),e.inactiveImages.imageIDList=[].concat(c,K(o)),e.activeImages.totalCount=e.totalCount+n.length}else{var s=e.activeImages.imageIDList||[];n.forEach((function(e){s.unshift(e.id)})),e.activeImages.imageIDList=[].concat([],K(s)),e.activeImages.totalCount=e.activeImages.totalCount+n.length}})),J(z,j.a.IMAGE_MOVE,(function(e,t){var n=t.payload,r=n.folderID,i=n.images,o=n.folderName,a=q({},e.images);return i.forEach((function(e){a[e.id]=q(q({},a[e.id]),{},{info:q(q({},a[e.id].info),{},{folderID:r,folderName:o})})})),q(q({},e),{},{images:a})})),J(z,j.a.IMAGE_CHANGE_SORT,(function(e,t){var n=t.payload;return q(q({},e),{},{sort:n})})),J(z,j.a.IMAGE_RENAME,(function(e,t){var n=t.payload,r=n.id,i=n.name;return q(q({},e),{},{images:q(q({},e.images),{},J({},r,q(q({},e.images[r]),{},{info:q(q({},e.images[r].info),{},{title:i})})))})})),J(z,j.a.IMAGE_INFO_LOAD,(function(e,t){var n=t.payload,r=n.id,i=n.image;return q(q({},e),{},{images:q(q({},e.images),{},J({},r,q(q({},e.images[r]),{},{isLoading:!1,info:i||{},loaded:!0})))})})),J(z,j.a.IMAGE_INFO_LOADING,(function(e,t){var n=t.payload;return q(q({},e),{},{images:q(q({},e.images),{},J({},n,q(q({},e.images[n]),{},{isLoading:!0})))})})),J(z,j.a.IMAGE_PAGE_UPDATE,(function(e){return q(q({},e),{},{page:-1})})),J(z,j.a.IMAGE_GENERATE_SHARE_LINK_LOADING,(function(e,t){var n=e.images[t.payload.id];return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},n),{},{isGenerateShareLinkLoading:!0})))})})),J(z,j.a.IMAGE_GENERATE_SHARE_LINK_FAILED,(function(e,t){var n=e.images[t.payload.id];return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},n),{},{isGenerateShareLinkLoading:!1})))})})),J(z,j.a.IMAGE_GENERATE_SHARE_LINK,(function(e,t){var n=e.images[t.payload.id];return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},n),{},{isGenerateShareLinkLoading:!1,info:q(q({},n.info),{},{shareURI:t.payload.shareURI,shareKey:t.payload.shareKey})})))})})),J(z,j.a.IMAGE_REVOKE_SHARE_LINK,(function(e,t){return q(q({},e),{},{images:q(q({},e.images),{},J({},t.payload.id,q(q({},e.images[t.payload.id]),{},{isGenerateShareLinkLoading:!1,info:q(q({},e.images[t.payload.id].info),{},{shareURI:""})})))})})),J(z,j.a.IMAGE_LIST_RESTORE,(function(e){return q(q({},e),{},{page:-1,activeImages:q(q({},e.activeImages),{},{page:-1})})})),J(z,j.a.IMAGE_MOVE_TO_CHANNEL,(function(e,t){t.payload.forEach((function(t){e.images[t.id]&&(e.images[t.id].info=t)}))})),J(z,j.a.IMAGE_ANNOTATED,(function(e,t){var n=t.payload;e.images[n]&&(e.images[n].info.userName="")})),J(z,j.a.ITEM_LOADED_RESET,(function(e){for(var t in e.images)e.images[t].loaded&&(e.images[t].loaded=!1)})),z));var ee;function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function ne(e){return function(e){if(Array.isArray(e))return re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t=function(e){var t=function(e,t){if("object"!==te(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===te(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ce=(0,r.Lq)({isLoading:!1,isSubPageLoading:!1,isScrollLoading:!1,itemIDList:[],page:0,sort:"",scrollTop:0,total:0,lastTimestamp:"",subPage:1,folderID:0,showPageCount:0,initialLoaded:!1,isEnd:!1,isShowItemView:!1,currentViewItem:{itemType:"",id:""},isShared:!1},(ae(ee={},j.a.ITEM_LIST_LOAD,(function(e,t){var n=t.payload,r=n.items,i=n.page,o=n.folderID,a=n.total,c=n.isShared,s=n.sort;if(null===r)return oe(oe({},e),{},{itemIDList:null,isLoading:!1,folderID:o,total:0,sort:s,page:i,subPage:0,isSubPageLoading:!1,scrollTop:0,isEnd:!1,isShared:c});var l=r.map((function(e){return{itemType:e.itemType||e.ItemType,id:e.id}})),u="create"===s?r[r.length-1].createdSec:r[r.length-1].updatedSec;return oe(oe({},e),{},{itemIDList:l,isLoading:!1,page:i,folderID:o,subPage:1,scrollTop:0,sort:s,isEnd:!1,total:a,isScrollLoading:!1,lastTimestamp:u,showPageCount:e.showPageCount+1,initialLoaded:!0,isShared:c})})),ae(ee,j.a.ITEM_LIST_LOAD_MORE,(function(e,t){var n=t.payload.items;if(null===n||null===e.itemIDList)return oe(oe({},e),{},{isSubPageLoading:!1,isEnd:!0});var r=n.map((function(e){return{itemType:e.itemType||e.ItemType,id:e.id}})),i="create"===e.sort?n[n.length-1].createdSec:n[n.length-1].updatedSec;return oe(oe({},e),{},{lastTimestamp:i,itemIDList:[].concat(ne(e.itemIDList),ne(r)),isSubPageLoading:!1,subPage:e.subPage+1,isEnd:n.length<20})})),ae(ee,j.a.ITEM_LIST_LOADING,(function(e){return oe(oe({},e),{},{isLoading:!0})})),ae(ee,j.a.ITEM_SUB_LOADING,(function(e){return oe(oe({},e),{},{isSubPageLoading:!0})})),ae(ee,j.a.ITEM_SHOW_PAGE_COUNT_RESTORE,(function(e){return oe(oe({},e),{},{showPageCount:1})})),ae(ee,j.a.ITEM_SHOW_PAGE_COUNT_ADD,(function(e){return oe(oe({},e),{},{showPageCount:e.showPageCount+1})})),ae(ee,j.a.ITEM_VIEW_SHOW,(function(e){return oe(oe({},e),{},{isShowItemView:!0})})),ae(ee,j.a.ITEM_VIEW_HIDE,(function(e){return oe(oe({},e),{},{isShowItemView:!1})})),ae(ee,j.a.ITEM_MOVE,(function(e,t){var n=t.payload.items,r=e.itemIDList;if(null===r)return oe({},e);var i=r.slice(),o=n.map((function(e){return e.id}));return i=r.filter((function(e){return-1===o.indexOf(e.id)})),oe(oe({},e),{},{itemIDList:i})})),ae(ee,j.a.ITEM_DELETE,(function(e,t){var n=t.payload.items,r=e.itemIDList;if(null===r)return oe({},e);var i=n.map((function(e){return e.id}));return r=r.filter((function(e){return-1===i.indexOf(e.id)})),oe(oe({},e),{},{itemIDList:r})})),ae(ee,j.a.ITEM_CHANGE_SORT,(function(e,t){var n=t.payload;return oe(oe({},e),{},{sort:n})})),ae(ee,j.a.ITEM_UPDATE_SCROLL,(function(e,t){var n=t.payload;return oe(oe({},e),{},{scrollTop:n})})),ae(ee,j.a.ITEM_ADD,(function(e,t){var n=t.payload,r=n.folderID,i=n.items;if(String(r)===e.folderID){var o=i.map((function(e){return{itemType:e.itemType||e.ItemType,id:e.id}})),a=null==e.itemIDList?[]:e.itemIDList.slice();return oe(oe({},e),{},{itemIDList:[].concat(ne(o),ne(a))})}return oe({},e)})),ae(ee,j.a.ITEM_LIST_RESTORE,(function(e){return oe(oe({},e),{},{page:0})})),ee));var se=n(45826);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===le(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me={selectedItems:[],selectedTrashItems:[],meta:void 0};const pe=(0,r.Lq)(me,(function(e){return e.addCase(se.ah,(function(e,t){var n=t.payload,r=n.info,i=n.meta;e.selectedItems.push(de(de({},r),{},{folderID:r.parentID||r.folderID})),e.meta=i})).addCase(se.Qd,(function(e,t){var n=t.payload.info;e.selectedItems=e.selectedItems.filter((function(e){var t=e.id;return e.itemType!==n.itemType||t!==n.id}))})).addCase(se.oT,(function(e,t){var n=t.payload.id;e.selectedTrashItems.push({id:n})})).addCase(se.Pj,(function(e,t){var n=t.payload.id;e.selectedTrashItems=e.selectedTrashItems.filter((function(e){return e.id!==n}))})).addCase(se.jh,(function(e){e.selectedItems.length=0,e.selectedTrashItems.length=0,e.meta=void 0}))}));var he;function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function ye(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ve(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ge=(0,r.Lq)({users:{},notifications:[],isLoading:!1},(ye(he={},j.a.NOTIFICATION_LOADING,(function(e){e.isLoading=!0})),ye(he,j.a.NOTIFICATION_LOAD,(function(e,t){var n=t.payload,r=n.notifications,i=n.users;e.notifications=r,e.users=i,e.isLoading=!1})),ye(he,j.a.NOTIFICATION_MARK_AS_READ,(function(e,t){var n=t.payload;e.notifications.forEach((function(t,r){t.id===n&&(e.notifications[r].status="read")}))})),ye(he,j.a.NOTIFICATION_ALL_MARK_AS_READ,(function(e){e.notifications.forEach((function(t,n){e.notifications[n].status="read"}))})),he));function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===be(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Se=(0,r.Lq)({isLoading:!0,plans:{}},xe({},j.a.PLANS_LOAD_RECEICED,(function(e,t){return we(we({},e),{},{isLoading:!1,plans:t.payload.data})})));var Ie;function Oe(e){return Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oe(e)}function Ee(e){return function(e){if(Array.isArray(e))return Ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Oe(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pe=(0,r.Lq)({isLoading:!1,items:[],isMetaLoaded:!1,page:1,itemIDList:[],folderIDList:[],isItemLoading:!1,query:"",scrollTop:0},(Ce(Ie={},j.a.SEARCH_LOAD,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{items:n||[],isLoading:!1,isMetaLoaded:!0})})),Ce(Ie,j.a.SEARCH_LOADING,(function(e,t){return Ae(Ae({},e),{},{isLoading:!0})})),Ce(Ie,j.a.SEARCH_ITEM_LOAD,(function(e,t){var n=t.payload,r=n.items,i=n.folders,o=n.query,a=i.map((function(e){return e.folderID})),c=r.map((function(e){return{id:e.id,itemType:e.itemType}}));return Ae(Ae({},e),{},{query:o,folderIDList:a,itemIDList:c,isItemLoading:!1})})),Ce(Ie,j.a.SEARCH_ITEM_LOADING,(function(e,t){return Ae(Ae({},e),{},{isItemLoading:!0})})),Ce(Ie,j.a.SEARCH_PAGE_CHANGE,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{page:n})})),Ce(Ie,j.a.SEARCH_SCROLL_UPDATE,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{scrollTop:n})})),Ce(Ie,j.a.SEARCH_QUERY_UPDATE,(function(e,t){var n=t.payload;return Ae(Ae({},e),{},{query:n})})),Ce(Ie,j.a.SEARCH_ITEM_DELETE,(function(e,t){var n=t.payload,r=e.folderIDList,i=e.itemIDList,o=[],a=[];return n.forEach((function(e){"folder"===e.itemType?o.push(e.id):a.push(e.id)})),r=r.filter((function(e){return-1===o.indexOf(e)})),i=i.filter((function(e){return-1===a.indexOf(e.id)})),Ae(Ae({},e),{},{folderIDList:r,itemIDList:i})})),Ce(Ie,j.a.SEARCH_META_DELETE,(function(e,t){var n=t.payload.map((function(e){return e.id+e.itemType})),r=e.items.filter((function(e){return-1===n.indexOf(e.id+e.itemType)}));return Ae(Ae({},e),{},{items:r})})),Ce(Ie,j.a.SEARCH_META_ADD,(function(e,t){var n=t.payload.map((function(e){return{id:e.id,title:e.title,createdSec:e.createdSec,itemType:e.itemType}}));return Ae(Ae({},e),{},{items:[].concat(Ee(n),Ee(e.items))})})),Ce(Ie,j.a.SEARCH_META_RENAME,(function(e,t){var n=t.payload,r=n.id,i=n.itemType,o=n.name;e.items.forEach((function(e){e.id===r&&e.itemType===i&&(e.title=o)}))})),Ie));const ke=Pe;var Te,Le=n(67618);function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return t=function(e){var t=function(e,t){if("object"!==_e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_e(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fe=(0,r.Lq)({isLoading:!1,isFolderLoading:!1,isSubPageLoading:!1,isScrollLoading:!1,page:0,subPage:0,scrollTop:0,total:0,lastTimestamp:"",folderList:[],sharedIDList:[],sharedItems:{},showPageCount:0,initialLoaded:!1,isEnd:!1,newCommentList:[],newCommentTotal:0,currentDisplayPage:0},(Ze(Te={},j.a.SHARED_FOLDER_LOADING,(function(e){e.isFolderLoading=!0})),Ze(Te,j.a.SHARED_FOLDER_LIST_LOAD,(function(e,t){var n=t.payload.folders;e.isFolderLoading=!1,e.folderList=n})),Ze(Te,j.a.SHARED_LIST_LOADING,(function(e){e.isLoading=!0})),Ze(Te,j.a.SHARED_LIST_LOAD,(function(e,t){var n=t.payload,r=n.items,i=n.total,o=n.page,a=n.currentDisplayPage;if(e.isLoading=!1,e.page=o,e.currentDisplayPage=a,e.total=i,null===r)e.sharedIDList=[];else{var c=r.map((function(e){return{itemType:e.itemType,id:e.id}})),s={};r.forEach((function(e){s[e.itemType+e.id]=e})),e.sharedIDList=c,e.sharedItems=s,e.lastTimestamp=r[r.length-1].updatedSec,e.showPageCount=e.showPageCount+1,e.initialLoaded=!0,e.isEnd=!1,e.subPage=0}})),Ze(Te,j.a.SHARED_SUB_LOADING,(function(e){e.isSubPageLoading=!0})),Ze(Te,j.a.SHARED_LIST_LOAD_MORE,(function(e,t){var n=t.payload;if(e.isSubPageLoading=!1,null===n||null==e.sharedIDList)e.isEnd=!0;else{var r=n.map((function(e){return{itemType:e.itemType,id:e.id}})),i={};n.forEach((function(e){i[e.itemType+e.id]=e})),n.length<20&&(e.isEnd=!0),e.sharedItems=Me(Me({},e.sharedItems),i),e.sharedIDList=e.sharedIDList.concat(r),e.subPage+=1}})),Ze(Te,j.a.SHARED_NOTI_LOAD,(function(e,t){var n=t.payload;e.newCommentList=n,e.sharedIDList=e.sharedIDList.filter((function(e){return!(0,Le.wD)(e,n)})),n.forEach((function(t){e.sharedItems[t.itemType+t.id]=t}));for(var r=n.length-1;r>=0;r--)e.sharedIDList.unshift({itemType:n[r].itemType,id:n[r].id})})),Ze(Te,j.a.SHARED_NEW_COMMENTS_VIEWED,(function(e,t){var n=t.payload.itemType;e.newCommentList=e.newCommentList.filter((function(e){e.itemType!==n&&(e.id,e.id)}))})),Ze(Te,j.a.SHARED_LIST_ADD,(function(e,t){var n=t.payload;e.sharedIDList.unshift({itemType:n.itemType,id:n.id}),e.sharedItems[n.itemType+n.id]=n})),Ze(Te,j.a.SHARED_LIST_DELETE,(function(e,t){var n=t.payload;e.sharedIDList=e.sharedIDList.filter((function(e){var t=n.findIndex((function(t){return t.itemType===e.itemType&&t.id===e.id}));return-1===t})),e.newCommentList=e.newCommentList.filter((function(e){var t=n.findIndex((function(t){return t.itemType===e.itemType&&t.id===e.id}));return-1===t}))})),Ze(Te,j.a.SHARED_LIST_RESTORE,(function(e){e.page=0})),Ze(Te,j.a.SHARED_TITLE_EDIT,(function(e,t){var n=t.payload,r=n.id,i=n.itemType,o=n.name;e.sharedItems[i+r]&&(e.sharedItems[i+r].title=o)})),Ze(Te,j.a.SHARED_UPDATE_SCROLL,(function(e,t){e.scrollTop=t.payload})),Te));const Ue=Fe;var He;function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ze(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ge(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ge(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const We=(0,r.Lq)({isMemberLoading:!1,info:{},members:[],joinStat:{doing:!0,success:!0,message:""}},(ze(He={},j.a.TEAM_INFO_LOAD_RECEIVED,(function(e,t){return Ve(Ve({},e),{},{info:t.payload.info||{}})})),ze(He,j.a.TEAM_MEMBER_LOAD_DOING,(function(e,t){return Ve(Ve({},e),{},{isMemberLoading:!0})})),ze(He,j.a.TEAM_MEMBER_LOAD_RECEIVED,(function(e,t){return Ve(Ve({},e),{},{isMemberLoading:!1,members:t.payload.members||[]})})),ze(He,j.a.TEAM_MEMBER_REMOVED,(function(e,t){var n=t.payload.userID,r=e.members.findIndex((function(e){return e.userID===n})),i=e.members.slice(0);return i.splice(r,1),Ve(Ve({},e),{},{members:i})})),ze(He,j.a.TEAM_JOIN_DONE,(function(e,t){return Ve(Ve({},e),{},{info:t.payload.info||e.info,joinStat:{doing:!1,success:t.payload.success,message:t.payload.message}})})),He));var Ke;function Ye(e){return Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(e)}function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ye(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ye(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=(0,r.Lq)({isLoading:!1,trashItems:{},isScrollLoading:!1,itemIDList:[],page:1,subPage:0,initialLoaded:!1,isEnd:!1},(Je(Ke={},j.a.TRASH_LOAD,(function(e,t){var n=t.payload.items;if(null===n)return qe(qe({},e),{},{isLoading:!1,itemIDList:null});var r=n.map((function(e){return e.id})),i={};return n.forEach((function(e){i[e.id]=e})),qe(qe({},e),{},{isLoading:!1,trashItems:i,itemIDList:r})})),Je(Ke,j.a.TRASH_PAGE_CHANGE,(function(e,t){var n=t.payload;e.page=n})),Je(Ke,j.a.TRASH_LOADING,(function(e,t){return qe(qe({},e),{},{isLoading:!0})})),Je(Ke,j.a.TRASH_RESTORE,(function(e,t){var n=t.payload,r=e.itemIDList.filter((function(e){return-1===n.indexOf(e)}));return qe(qe({},e),{},{itemIDList:r})})),Je(Ke,j.a.TRASH_DELETE,(function(e,t){var n=t.payload,r=e.itemIDList.filter((function(e){return-1===n.indexOf(e)}));return qe(qe({},e),{},{itemIDList:r})})),Je(Ke,j.a.TRASH_EMPTY,(function(e,t){return qe(qe({},e),{},{itemIDList:[],trashItems:{}})})),Ke));const $e=Xe;var et=n(71922),tt={itemDetailVisible:!1,isItemBrowsing:!1,itemList:[],currentItemType:"",currentItemID:"",currentShareKey:"",showRecordPanel:!1,workspaceID:"",channelID:"",folderID:"",channelFolderID:"",isSpaceOwner:!1,isRecording:!1,currentItemIndex:NaN};const nt=(0,r.Lq)(tt,(function(e){return e.addCase(et.v9,(function(e,t){var n=t.payload,r=n.currentItem,i=n.itemList,o=r.itemType,a=r.id,c=i.findIndex((function(e){return e.itemType===o&&e.id===a}));e.currentItemIndex=c<0?0:c,e.itemDetailVisible=!0,e.itemList=i})).addCase(et.G2,(function(e){e.currentItemIndex<e.itemList.length-1&&(e.currentItemIndex+=1)})).addCase(et.mE,(function(e){e.currentItemIndex>0&&(e.currentItemIndex-=1)})).addCase(et.td,(function(e){e.itemDetailVisible=!1,e.currentItemType="",e.currentItemID="",e.isItemBrowsing=!1,e.itemList=[]})).addCase(et.vf,(function(e){e.isItemBrowsing=!1})).addCase(et.i0,(function(e,t){var n=t.payload,r=n.status,i=n.channelID,o=n.workspaceID,a=n.channelFolderID,c=n.folderID,s=n.isSpaceOwner;e.showRecordPanel=r,e.isRecording||Object.assign(e,{channelID:i||"",workspaceID:o||"",folderID:c||"",channelFolderID:a||"",isSpaceOwner:s||!1})})).addCase(et.uz,(function(e,t){var n=t.payload.isRecording;e.isRecording=n}))}));var rt;function it(e){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},it(e)}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t=function(e){var t=function(e,t){if("object"!==it(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==it(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===it(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st={isLoading:!1,isLoadingPermission:!1,info:{},premium:{},permissions:{},counts:{},passwordSet:!0,isLoaded:!1,hasSaveToCloudAccount:void 0,showGuide:!1,imageTotalAllCreated:0,videoTotalAllCreated:0};const lt=(0,r.Lq)(st,(ct(rt={},j.a.USER_LOAD_INFO,(function(e,t){return at(at({},e),{},{isLoading:!1,isLoaded:!0},t.payload.data)})),ct(rt,j.a.USER_LOAD_INFO_LOADING,(function(e){return at(at({},e),{},{isLoading:!0})})),ct(rt,j.a.USER_AVATAR_REFRESH,(function(e){var t=e.info.avatarURL;if(t)if(t.includes("?t=")){var n=t.match(/(.*)\?t=/)[1];e.info.avatarURL=n+"?t="+(new Date).getTime()}else e.info.avatarURL=t+"?t="+(new Date).getTime();else e.info.avatarURL="/web/user/avatar/"+Number(e.info.uid)%100+"/"+e.info.uid+"?t="+(new Date).getTime()})),ct(rt,j.a.USER_CLICK_FIVE_STAR,(function(e){e.permissions.showChromeFiveStar=!1})),ct(rt,j.a.USER_PERMISSION_LOADING,(function(e){e.isLoadingPermission=!0})),ct(rt,j.a.USER_PERMISSION_RECEIVE,(function(e,t){var n=t.payload,r=n.permissions,i=n.counts;e.permissions=r,e.counts=i})),ct(rt,j.a.USER_SET_SHOW_GUIDE,(function(e,t){var n=t.payload;e.showGuide=n})),rt));var ut=n(62983),dt=Object.keys(ut.Rg),ft=Object.keys(ut.C2);const mt=(0,r.Lq)({loaded:!1,steps:{},popups:{}},(function(e){return e.addCase(ut.T_,(function(e,t){var n=t.payload;for(var r in n.steps)dt.includes(r)&&(e.steps[r]=n.steps[r]);for(var i in n.popups)ft.includes(i)&&(e.popups[i]=n.popups[i]);e.loaded=!0})).addCase(ut.AR,(function(e,t){var n=t.payload;e.steps[n]=!0})).addCase(ut.F7,(function(e,t){var n=t.payload;e.popups[n]=!0}))}));var pt=n(35646);var ht={isLoading:!1,theme:{1:"dark",0:"light",2:"auto"}[u.Z.get("screenshot_personal_user_theme")||"0"]};const vt=(0,r.Lq)(ht,(function(e){return e.addCase(pt.u,(function(e,t){e.theme=t.payload}))}));var yt;function gt(e){return function(e){if(Array.isArray(e))return bt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jt(e){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jt(e)}function wt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function St(e,t,n){return t=function(e){var t=function(e,t){if("object"!==jt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===jt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var It={videos:{},sort:u.Z.get("video_sort")||"create",scrollTop:0,page:0,activeVideos:{isLoading:!1,videoIDList:[],isSubPageLoading:!1,subPage:0,isEnd:!1,totalCount:0,pageSize:0,page:0},inactiveVideos:{isLoading:!1,videoIDList:[],totalCount:0,pageSize:0,page:0}},Ot=(0,r.Lq)(It,(St(yt={},j.a.VIDEO_LOADING_ANNOTATIONS,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isAnnsActionLoading:!0})))})})),St(yt,j.a.VIDEO_LOADED_ANNOTATIONS,(function(e,t){var n=t.payload.actions;return"object"==jt(n)&&n.actions&&(n=n.actions),"string"==typeof n&&(n=JSON.parse(n)),Array.isArray(n)?xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isAnnsActionLoading:!1,actionVersion:t.payload.version,baseVersion:t.payload.baseVersion,annActions:n})))}):xt({},e)})),St(yt,j.a.VIDEO_RECEIVED,(function(e,t){var n=t.payload.videos,r=xt({},e.videos);return n.forEach((function(e){r[e.id]={isLoading:!1,info:e}})),xt(xt({},e),{},{videos:r})})),St(yt,j.a.VIDEO_MOVE,(function(e,t){var n=t.payload,r=n.folderID,i=n.videos,o=n.folderName,a=xt({},e.videos);return i.forEach((function(e){a[e.id]=xt(xt({},a[e.id]),{},{info:xt(xt({},a[e.id].info),{},{folderID:r,folderName:o})})})),xt(xt({},e),{},{videos:a})})),St(yt,j.a.VIDEO_RENAME,(function(e,t){var n=t.payload,r=n.id,i=n.name,o=e.videos;return o[r].title=i,xt(xt({},e),{},{videos:o})})),St(yt,j.a.VIDEO_INFO_LOADING,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isLoading:!0})))})})),St(yt,j.a.VIDEO_SCROLL_UPDATE,(function(e,t){var n=t.payload;return xt(xt({},e),{},{scrollTop:n})})),St(yt,j.a.VIDEO_LOAD_INFO,(function(e,t){var n=t.payload,r=n.data;return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},n.id,xt(xt({},e.videos[n.id]),{},{isLoading:!1,loaded:!0,error:n.error?n.error:null,info:r.video?xt(xt({planName:r.planName},r.video),{},{visitRestrict:r.visitRestrict,restrictCanClose:r.restrictCanClose,expireRestrictEndTime:r.expireRestrictEndTime,isChannelMember:r.isChannelMember,channelItemId:r.channelItemId}):{}})))})})),St(yt,j.a.VIDEO_UPDATE_INFO,(function(e,t){var n=t.payload,r=e.videos[n.id];(null==r?void 0:r.info)&&Object.assign(r.info,n.info)})),St(yt,j.a.VIDEO_LOAD_ACTIVE_LIST,(function(e,t){var n=t.payload,r=n.videos,i=n.total,o=n.page;if(null==r)return xt(xt({},e),{},{activeVideos:xt(xt({},e.activeVideos),{},{videoIDList:null,isLoading:!1})});var a=[],c=xt({},e.videos);r.forEach((function(e){a.push(e.id),c[e.id]={isLoading:!1,info:e}}));var s="create"===e.sort?r[r.length-1].createdSec:r[r.length-1].updatedSec;return xt(xt({},e),{},{videos:c,page:o,activeVideos:xt(xt({},e.activeVideos),{},{isLoading:!1,isEnd:!1,subPage:0,videoIDList:a,totalCount:i,lastTimestamp:s,page:o})})})),St(yt,j.a.VIDEO_LIST_LOAD_MORE,(function(e,t){var n=t.payload.videos;if(null===n)return xt(xt({},e),{},{activeVideos:xt(xt({},e.activeVideos),{},{isSubPageLoading:!1,isEnd:!0})});var r=n.map((function(e){return e.id})),i=xt({},e.videos);n.forEach((function(e){i[e.id]={isLoading:!1,info:e}}));var o="create"===e.sort?n[n.length-1].createdSec:n[n.length-1].updatedSec;return xt(xt({},e),{},{videos:i,activeVideos:xt(xt({},e.activeVideos),{},{videoIDList:[].concat(gt(e.activeVideos.videoIDList),gt(r)),lastTimestamp:o,isSubPageLoading:!1,subPage:e.activeVideos.subPage+1})})})),St(yt,j.a.VIDEO_LIST_SUB_LOADING,(function(e){return xt(xt({},e),{},{activeVideos:xt(xt({},e.activeVideos),{},{isSubPageLoading:!0})})})),St(yt,j.a.VIDEO_ACTIVE_LIST_LOADING,(function(e){return xt(xt({},e),{},{activeVideos:xt(xt({},e.activeVideos),{},{isLoading:!0})})})),St(yt,j.a.VIDEO_LOAD_INACTIVE_LIST,(function(e,t){var n=t.payload.data,r=n.videos,i=n.total,o=n.page,a=n.pageSize,c=[],s=xt({},e.videos);return r.forEach((function(e){c.push(e.id),s[e.id]={isLoading:!1,info:e}})),xt(xt({},e),{},{videos:s,page:o,scrollTop:0,inactiveVideos:{isLoading:!1,videoIDList:c,totalCount:i,page:o,pageSize:a}})})),St(yt,j.a.VIDEO_INACTIVE_LIST_LOADING,(function(e){return xt(xt({},e),{},{inactiveVideos:xt(xt({},e.inactiveVideos),{},{isLoading:!0})})})),St(yt,j.a.VIDEO_DELETE_MULTIPLE,(function(e,t){var n=t.payload,r=e.videos,i=e.activeVideos.videoIDList,o=e.inactiveVideos.videoIDList;n.forEach((function(t){var n=e.videos[t.id].info;if(n.canVisit)if((0,Le.Jp)(i,n.id),o.length>0){var a=o[0];i.push(a),o.splice(0,1),e.inactiveVideos.totalCount=e.inactiveVideos.totalCount-1;var c=r[a];c.info.canVisit=!0,r[a]=c}else e.activeVideos.totalCount=e.activeVideos.totalCount-1;else(0,Le.Jp)(o,n.id),e.inactiveVideos.totalCount=e.inactiveVideos.totalCount-1;delete r[n.id]}))})),St(yt,j.a.VIDEO_DELETED,(function(e,t){var n,r=t.payload,i=e.videos,o=e.activeVideos,a=e.inactiveVideos;if(i[r].info.canVisit){var c=e.activeVideos.videoIDList.slice(0).filter((function(e){return e!==r})),s=o.totalCount-1,l=e.inactiveVideos.videoIDList.slice(0),u=e.inactiveVideos.totalCount;if(l.length>0){var d=l[0];c.push(d),s+=1,l.splice(0,1),u-=1;var f=i[d];f.info.canVisit=!0,i[d]=f}n=xt(xt({},e),{},{videos:i,activeVideos:xt(xt({},o),{},{videoIDList:c,totalCount:s}),inactiveVideos:xt(xt({},a),{},{videoIDList:l,totalCount:u})})}else n=xt(xt({},e),{},{inactiveVideos:xt(xt({},a),{},{videoIDList:a.videoIDList.filter((function(e){return e!==r})),totalCount:a.totalCount-1})});return delete i[r],n})),St(yt,j.a.VIDEO_GENERATE_SHARE_LINK_LOADING,(function(e,t){var n=e.videos[t.payload.id];return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},n),{},{isGenerateShareLinkLoading:!0})))})})),St(yt,j.a.VIDEO_GENERATE_SHARE_LINK_FAILED,(function(e,t){var n=e.videos[t.payload.id];return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},n),{},{isGenerateShareLinkLoading:!1})))})})),St(yt,j.a.VIDEO_GENERATE_SHARE_LINK,(function(e,t){var n=e.videos[t.payload.id];return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,{isGenerateShareLinkLoading:!1,info:xt(xt({},n.info),{},{shareURI:t.payload.shareURI,shareKey:t.payload.shareKey})}))})})),St(yt,j.a.VIDEO_REVOKE_SHARE_LINK,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isGenerateShareLinkLoading:!1,info:xt(xt({},e.videos[t.payload.id].info),{},{shareURI:""})})))})})),St(yt,j.a.VIDEO_EDIT_TITLE_LOADING,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isEditTitleLoading:!0})))})})),St(yt,j.a.VIDEO_EDIT_TITLE,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isEditTitleLoading:!1,isOpenEditTitle:!1,info:xt(xt({},e.videos[t.payload.id].info),{},{title:t.payload.title})})))})})),St(yt,j.a.VIDEO_OPEN_EDIT_TITLE,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isOpenEditTitle:!0})))})})),St(yt,j.a.VIDEO_HIDE_EDIT_TITLE,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,xt(xt({},e.videos[t.payload.id]),{},{isOpenEditTitle:!1})))})})),St(yt,j.a.VIDEO_CHANGE_SORT,(function(e,t){var n=t.payload;return xt(xt({},e),{},{sort:n})})),St(yt,j.a.VIDEO_SET_COMPLETE_DONE,(function(e,t){return xt(xt({},e),{},{videos:xt(xt({},e.videos),{},St({},t.payload.id,{isLoading:!1,info:t.payload.info}))})})),St(yt,j.a.VIDEO_PAGE_UPDATE,(function(e){return xt(xt({},e),{},{page:-1})})),St(yt,j.a.VIDEO_LIST_RESTORE,(function(e){return xt(xt({},e),{},{page:-1,activeVideos:xt(xt({},e.activeVideos),{},{page:-1})})})),St(yt,j.a.VIDEO_MOVE_TO_CHANNEL,(function(e,t){t.payload.forEach((function(t){e.videos[t.id]&&(e.videos[t.id].info=t)}))})),St(yt,j.a.ITEM_LOADED_RESET,(function(e){for(var t in e.videos)e.videos[t].loaded&&(e.videos[t].loaded=!1)})),yt));const Et=Ot;function Nt(e){return Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(e)}var Dt;function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Pt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pt(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Nt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Nt(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Lt=(0,r.Lq)({limitation:{image:0,video:0},workspaces:[],currentWorkspaceID:"",myWorkspaceIDList:[],myWorkspaceHash:{},workspaceAllChannelIDList:[],workspaceAllMembers:[],channelHash:{},isCreating:!1,isCreatingChannel:!1,isLoading:!1,isLoadingAllMembers:!1,loaded:!1,memberLoadedID:"",isChannelLoading:!1},(Pt(Dt={},j.a.WORKSPACE_CREATE,(function(e){e.isCreating=!1})),Pt(Dt,j.a.WORKSPACE_CREATING,(function(e){e.isCreating=!0})),Pt(Dt,j.a.WORKSPACE_LOAD,(function(e,t){t.payload.limitation&&(e.limitation=t.payload.limitation);var n=t.payload.workspaces,r={},i={};e.myWorkspaceIDList=n.map((function(e){return e.id}));var o,a=kt(n);try{for(a.s();!(o=a.n()).done;){var c,s=o.value,l=kt(s.channels);try{for(l.s();!(c=l.n()).done;){var u=c.value;i[u.id]=u}}catch(e){l.e(e)}finally{l.f()}r[s.id]=Object.assign(s,{channels:s.channels.map((function(e){return e.id}))})}}catch(e){a.e(e)}finally{a.f()}e.myWorkspaceHash=r,e.channelHash=Ct(Ct({},e.channelHash),i),e.isLoading=!1,e.loaded=!0})),Pt(Dt,j.a.WORKSPACE_CHANNEL_LOADING,(function(e){e.isChannelLoading=!0})),Pt(Dt,j.a.WORKSPACE_CHANNEL_LOAD,(function(e,t){var n=t.payload,r=Object.fromEntries(n.map((function(e){return[e.id,e]})));e.workspaceAllChannelIDList=n.map((function(e){return e.id})),Object.assign(e.channelHash,r),e.isChannelLoading=!1})),Pt(Dt,j.a.WORKSPACE_LOADING,(function(e){e.isLoading=!0})),Pt(Dt,j.a.CHANNEL_CREATE,(function(e,t){var n=t.payload,r=n.workspaceID,i=n.channel;e.isCreatingChannel=!1,e.channelHash[i.id]=i,e.myWorkspaceHash[r].channels.push(i.id),e.currentWorkspaceID===r&&e.workspaceAllChannelIDList.push(i.id)})),Pt(Dt,j.a.CHANNEL_CREATING,(function(e){e.isCreatingChannel=!0})),Pt(Dt,j.a.CHANNEL_META_EDIT,(function(e,t){var n=t.payload,r=n.channelID,i=n.type,o=n.value,a=e.channelHash[r];a&&("name"===i?a.name=o:"desc"===i&&(a.description=o))})),Pt(Dt,j.a.WORKSPACE_MEMBER_LOAD,(function(e,t){var n=t.payload,r=n.members,i=n.workspaceID;e.workspaceAllMembers=r,e.isLoadingAllMembers=!1,e.memberLoadedID=i})),Pt(Dt,j.a.WORKSPACE_MEMBER_LOADING,(function(e){e.isLoadingAllMembers=!0})),Pt(Dt,j.a.WORKSPACE_META_EDIT,(function(e,t){var n=t.payload,r=n.workspaceID,i=n.type,o=n.value,a=e.myWorkspaceHash[r];"name"===i?a.name=o:"desc"===i&&(a.description=o)})),Pt(Dt,j.a.CHANNEL_JOIN,(function(e,t){var n=t.payload;e.channelHash[n].isMember=!0,e.channelHash[n].userCount+=1})),Pt(Dt,j.a.WORKSPACE_ENTER,(function(e,t){e.currentWorkspaceID=t.payload})),Pt(Dt,j.a.WORKSPACE_CHANGE_ROLE,(function(e,t){var n=t.payload,r=n.memberID,i=n.role,o=e.workspaceAllMembers.findIndex((function(e){return e.userID===r}));e.workspaceAllMembers[o].role=i})),Pt(Dt,j.a.CHANNEL_LEAVE,(function(e,t){var n=t.payload.channelID;e.channelHash[n].isMember=!1,e.channelHash[n].userCount-=1})),Pt(Dt,j.a.WORKSPACE_LEAVE,(function(e,t){var n=t.payload;e.myWorkspaceIDList=e.myWorkspaceIDList.filter((function(e){return e!==n}))})),Pt(Dt,j.a.WORKSPACE_MEMBER_REMOVE,(function(e,t){var n=t.payload;e.workspaceAllMembers=e.workspaceAllMembers.filter((function(e){return e.userID!==n}))})),Pt(Dt,j.a.WORKSPACE_INFO_LOAD,(function(e,t){var n=t.payload;e.myWorkspaceHash[n.id]=n;for(var r=0;r<n.channels.length;r++)e.channelHash[n.channels[r].id]=n.channels[r];n.channels=n.channels.map((function(e){return e.id}))})),Dt));function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}var Rt;function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ft(e,t,n){return t=function(e){var t=function(e,t){if("object"!==_t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_t(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e){return function(e){if(Array.isArray(e))return Ht(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ht(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Gt=(0,r.Lq)({users:{},changelogs:[],isLoading:!1,count:0,limit:0,page:0},(Ft(Rt={},j.a.CHANGELOG_LOADING,(function(e){e.isLoading=!0})),Ft(Rt,j.a.CHANGELOG_RESET,(function(e){e.changelogs=[],e.page=0,e.count=0})),Ft(Rt,j.a.CHANGELOG_LOAD,(function(e,t){var n,r=t.payload,i=r.activityLog,o=r.userMap,a=r.count,c=r.limit,s=r.page;s<=1?e.changelogs=i||[]:(n=e.changelogs).push.apply(n,Ut(i||[]));e.users=Zt(Zt({},e.users),o),e.isLoading=!1,e.count=a,e.limit=c,e.page=s})),Rt)),Bt=(0,c.UY)({user:lt,destination:k,connectedAccount:D,team:We,plan:Se,video:Et,item:ce,folder:V,image:$,multipleSelect:pe,trash:$e,search:ke,comment:I,shared:Ue,userSetting:vt,workspace:Lt,channel:g,notification:ge,ui:nt,downloadList:R,userGuide:mt,changelog:Gt});n(56097);var Vt=n(53962),zt=n(67294),Wt=n(96974),Kt=n(94958),Yt=n(55087),Qt=n(51447),qt=n(30817),Jt=n(71853),Xt=n(13087),$t=(n(85624),n(71577)),en=(n(15285),n(71257)),tn=(n(79133),n(32787)),nn=(n(50626),n(48086)),rn=n(4976),on=n(94184),an=n.n(on),cn=n(47481),sn=n(85893),ln=[{index:1,desc:"Create workspace"},{index:2,desc:"Invite members"},{index:3,desc:"Finish"}];const un=function(e){var t=e.currentStep;return(0,sn.jsxs)("div",{className:"create-workspace-steps",children:[(0,sn.jsx)("div",{className:"line"}),ln.map((function(e){return(0,sn.jsxs)("div",{className:(n=e.index,an()("steps-item",{current:t===n,finish:t>n})),children:[(0,sn.jsx)("div",{className:"circle",children:t>e.index?(0,sn.jsx)("div",{className:"finish-icon",children:(0,sn.jsx)(cn.m9,{})}):e.index}),(0,sn.jsx)("div",{className:"desc",children:e.desc})]},e.index);var n}))]})};function dn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const mn=function(e){var t=e.currentWorkspace,n=e.finishCreateChannel,r=dn((0,zt.useState)(!1),2),i=r[0],o=r[1];return(0,sn.jsxs)("div",{className:"create-workspace-name",children:[(0,sn.jsx)(un,{currentStep:1}),(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("div",{className:"step-title",children:"What do your team plan to work on?"}),(0,sn.jsx)("div",{className:"step-title-desc",children:"It could be a project, party, campaign or anything."}),(0,sn.jsx)("div",{className:"step-form",children:(0,sn.jsxs)(en.Z,{onFinish:function(e){var r=e.channelName,i=e.channelDesc;r&&(o(!0),(0,rn.mih)(t.id,r,i).then((function(e){o(!1),n(e.channel)})).catch((function(e){nn.ZP.error(e)})))},children:[(0,sn.jsx)("div",{className:"label",children:"Name"}),(0,sn.jsx)(en.Z.Item,{name:"channelName",children:(0,sn.jsx)(tn.Z,{size:"large",autoComplete:"off"})}),(0,sn.jsx)("div",{className:"label",children:"Description"}),(0,sn.jsx)(en.Z.Item,{name:"channelDesc",children:(0,sn.jsx)(tn.Z.TextArea,{autoSize:{minRows:4}})}),(0,sn.jsx)(en.Z.Item,{children:(0,sn.jsx)($t.Z,{type:"primary",size:"large",loading:i,block:!0,htmlType:"submit",children:"Next"})})]})})]})]})};var pn=n(54353);const hn=function(e){var t=e.currentWorkspace,n=e.currentChannel,r=e.goToPayment,i=e.plans;return(0,sn.jsxs)("div",{className:"workspace-finish",children:[(0,sn.jsx)(un,{currentStep:3}),(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("div",{className:"step-title",children:"Choose your workspace plan"}),(0,sn.jsxs)("div",{className:"plan-panel",children:[(0,sn.jsxs)("div",{className:"plan-item",children:[(0,sn.jsx)("div",{className:"plan-title",children:"Workspace lite"}),(0,sn.jsx)("div",{className:"plan-desc",children:"For teams with a small number of members"}),(0,sn.jsxs)("div",{className:"plan-content",children:[(0,sn.jsx)("div",{className:"plan-name",children:"Free"}),(0,sn.jsxs)("ul",{className:"plan-list",children:[(0,sn.jsxs)("li",{children:[(0,sn.jsx)(cn.m9,{}),"20 videos"]}),(0,sn.jsxs)("li",{children:[(0,sn.jsx)(cn.m9,{}),"50 images"]}),(0,sn.jsxs)("li",{children:[(0,sn.jsx)(cn.m9,{}),"5 members"]})]})]}),(0,sn.jsx)("div",{className:"button-area",children:(0,sn.jsx)($t.Z,{block:!0,type:"primary",ghost:!0,onClick:function(){window.location.href="/workspace/"+t.id+"/"+n.id},children:"Choose plan"})})]}),(0,sn.jsxs)("div",{className:"plan-item",children:[(0,sn.jsx)("div",{className:"plan-title",children:"Workspace premium"}),(0,sn.jsx)("div",{className:"plan-desc",children:"Applicable to teams with more members and more items"}),(0,sn.jsxs)("div",{className:"plan-content",children:[(0,sn.jsxs)("div",{className:"plan-name",children:["$",i.workspace_plan.Price/12," ",(0,sn.jsx)("span",{children:"/member/month"})]}),(0,sn.jsxs)("ul",{className:"plan-list",children:[(0,sn.jsxs)("li",{children:[(0,sn.jsx)(cn.m9,{}),"Unlimited videos"]}),(0,sn.jsxs)("li",{children:[(0,sn.jsx)(cn.m9,{}),"Unlimited images"]}),(0,sn.jsxs)("li",{children:[(0,sn.jsx)(cn.m9,{}),"Unlimited members"]})]}),"Plus, every member will get",(0,sn.jsx)(pn.Z,{})]}),(0,sn.jsx)("div",{className:"button-area",children:(0,sn.jsx)($t.Z,{block:!0,ghost:!0,type:"primary",onClick:r,children:"Choose plan"})})]})]})]})]})};const vn=function(e){var t=e.changeStep,n=e.canCreateLite,r=e.plans;return(0,sn.jsxs)("div",{className:"create-workspace-intro",children:[(0,sn.jsx)("div",{className:"logo"}),(0,sn.jsx)("div",{className:"main",children:(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsxs)("div",{className:"text",children:[n?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"title",children:"Create a Workspace"}),(0,sn.jsx)("p",{children:"Collaborating with your team in a workspace, you can communicate and share visual content with colleagues."}),(0,sn.jsxs)("ul",{children:[(0,sn.jsx)("li",{children:"Collaborate with teammates"}),(0,sn.jsx)("li",{children:"Seamless synchronization across different platforms"}),(0,sn.jsx)("li",{children:"A powerful visual repository for your team"})]})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"title",children:"Create a Workspace Premium"}),(0,sn.jsxs)("p",{children:["You have exceeded your limit of creating Workspace Lite. A user can only have ",(0,sn.jsx)("b",{children:"one Workspace Lite"}),". Create a Workspace Premium instead."]}),(0,sn.jsxs)("div",{className:"price",children:["$",r.workspace_plan.Price/12,(0,sn.jsx)("span",{children:"/member/month"})]}),(0,sn.jsxs)("ul",{children:[(0,sn.jsx)("li",{children:"Unlimited videos in Workspace"}),(0,sn.jsx)("li",{children:"Unlimited images in Workspace"}),(0,sn.jsx)("li",{children:"Unlimited members in Workspace"})]})]}),(0,sn.jsxs)($t.Z,{type:"primary",size:"large",onClick:function(){t("name")},children:["Create Workspace ",!n&&"Premium"]})]}),(0,sn.jsx)("div",{className:"pic"})]})})]})};var yn=n(36450);const gn=function(e){var t=e.currentWorkspace,n=e.currentChannel,r=e.finishInvite;return(0,sn.jsxs)("div",{className:"create-workspace-invite",children:[(0,sn.jsx)(un,{currentStep:2}),(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("div",{className:"step-title",children:'Who do you collaborate with in "'.concat(n.name,'"?')}),(0,sn.jsx)("div",{className:"step-title-desc",children:"Members can modify their permissions after entering the workspace"}),(0,sn.jsx)("div",{className:"step-form invite-form",children:(0,sn.jsx)(yn.Z,{channel:n,workspaceID:t.id,afterInvite:r})}),(0,sn.jsx)("div",{className:"skip-btn",children:(0,sn.jsx)("span",{onClick:r,children:"Skip"})})]})]})};function bn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const wn=function(e){var t=e.finishCreateWorkspace,n=e.canCreateLite,r=bn((0,zt.useState)(!1),2),i=r[0],o=r[1];return(0,sn.jsxs)("div",{className:"create-workspace-name",children:[(0,sn.jsx)(un,{currentStep:1}),(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("div",{className:"step-title",children:"What is the name of your workspace?"}),(0,sn.jsx)("div",{className:"step-title-desc",children:"Name your workspace something your team will recognize"}),(0,sn.jsx)("div",{className:"step-form",children:(0,sn.jsxs)(en.Z,{onFinish:function(e){var r=e.workspaceName;r&&(o(!0),(0,rn.MBc)(r,n?"lite":"premium").then((function(e){o(!1),t(e.workspace)})).catch((function(e){o(!1),nn.ZP.error(e)})))},children:[(0,sn.jsx)(en.Z.Item,{name:"workspaceName",children:(0,sn.jsx)(tn.Z,{size:"large",autoComplete:"off"})}),(0,sn.jsx)(en.Z.Item,{children:(0,sn.jsx)($t.Z,{type:"primary",size:"large",block:!0,htmlType:"submit",loading:i,children:"Next"})})]})})]})]})};function xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var In={loadWorkspaces:Qt.Pf,loadUserInfo:Yt.Lk,loadPlans:Kt.Z};const On=(0,o.$j)((function(e){return{userInfo:e.user.info,workspaceHash:e.workspace.myWorkspaceHash,workspaceIDList:e.workspace.myWorkspaceIDList,isCreating:e.workspace.isCreating,isWorkspaceLoading:e.workspace.isLoading,isUserLoading:e.user.isLoading,plans:e.plan.plans}}),In)((function(e){var t=e.isCreating,n=e.workspaceIDList,r=e.workspaceHash,i=e.userInfo,o=e.loadUserInfo,a=e.loadWorkspaces,c=e.isUserLoading,s=e.isWorkspaceLoading,l=e.loadPlans,u=e.plans,d=xn((0,zt.useState)("intro"),2),f=d[0],m=d[1],p=xn((0,zt.useState)(),2),h=p[0],v=p[1],y=xn((0,zt.useState)(),2),g=y[0],b=y[1],j=xn((0,zt.useState)(!1),2),w=j[0],x=j[1],S=(0,qt.Z)(),I="true"===S.get("premium");function O(){if(I)return!1;for(var e=0;e<n.length;e++){var t=r[n[e]];if("lite"===t.plan&&t.ownerUID===i.uid)return!1}return!0}function E(e){m(e)}function N(){x(!0)}function D(e){v(e),m("channel")}function A(e){b(e),O()?m("invite"):x(!0)}function C(){O()?m("finish"):window.location.href="/workspace/"+h.id+"/"+g.id}S.get("promotionCode"),(0,zt.useEffect)((function(){a(),o(),l()}),[]);var P=O();return(0,sn.jsx)("div",{className:"create-workspace-page",children:s||c||!u.workspace_plan?(0,sn.jsx)("div",{className:"loading-area",children:(0,sn.jsx)(Jt.Z,{})}):(0,sn.jsxs)(sn.Fragment,{children:[function(){switch(f){case"intro":return(0,sn.jsx)(vn,{canCreateLite:O(),changeStep:E,plans:u});case"name":return(0,sn.jsx)(wn,{canCreateLite:O(),isCreating:t,finishCreateWorkspace:D});case"channel":return(0,sn.jsx)(mn,{canCreateLite:O(),currentWorkspace:h,finishCreateChannel:A});case"invite":return(0,sn.jsx)(gn,{currentWorkspace:h,currentChannel:g,finishInvite:C});case"finish":return(0,sn.jsx)(hn,{currentWorkspace:h,currentChannel:g,goToPayment:N,plans:u})}}(),(0,sn.jsx)(Xt.Z,{visible:w,workspace:h,from:P?"lite_upgrade":"create",afterPay:function(){O()?window.location.href="/workspace/"+h.id+"/"+g.id:(x(!1),m("invite"))}})]})})}));var En=n(92159),Nn=(n(47386),n(48889)),Dn=(n(93506),n(54458)),An=(n(91324),n(45777)),Cn=(n(28897),n(85986)),Pn=(n(90),n(16114)),kn=(n(48315),n(28682)),Tn=n(78338),Ln=n(31795),_n=n.n(Ln),Rn=n(63395),Mn=n(65936),Zn=n(543);const Fn=n.p+"images/0862d19d3c4283d41874.gif",Un=n.p+"images/2abf6b66610dd46d4406.gif",Hn=n.p+"images/885722605a96aeda5144.mp4",Gn=n.p+"images/83527950aacdc3e8415b.mp4";var Bn=n(3721),Vn=n.n(Bn),zn=n(62344),Wn=n(62579),Kn=n(21862),Yn=(n(28763),n(34041)),Qn=n(14981);function qn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Jn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Xn=null,$n=null,er=null,tr=null,nr=null,rr=null;function ir(e){var t=qn((0,zt.useState)(!1),2),n=t[0],r=t[1],i=qn((0,zt.useState)(""),2),o=i[0],a=i[1],c=qn((0,zt.useState)([]),2),s=c[0],l=c[1],u=qn((0,zt.useState)(!1),2),d=u[0],f=u[1],m=e.recordType,p=e.showRecordModel,h=e.recordStatus,v=e.setupAction,y=e.updateCellUI,g=e.updateAudioStatus,b=e.updateAudioStream;(0,zt.useEffect)((function(){localStorage["record_mic_"+m]||(localStorage["record_mic_"+m]=!0),r("true"==localStorage["record_mic_"+m]),p&&j("")}),[m,p]),(0,zt.useEffect)((function(){"normal"!==h?I():O()}),[h]),(0,zt.useEffect)((function(){d&&j()}),[y]),(0,zt.useEffect)((function(){return function(){I()}}),[]);var j=function(e,t){"normal"===h&&(0,Qn.D)((function(n){var r=n,i=(0,Qn.P)(r.audioInputDevices);if(l(i),a(e&&e.length>0?e:i.length>0?i[0].deviceId:""),0===i.length&&r.audioInputDevices.length>0?(f(!0),g("audio_setup",!0)):(f(!1),g("audio_setup",!1)),t)t(!0);else{var o=localStorage.getItem("mic-deviceId");"true"==localStorage["record_mic_"+m]&&i.length>0?((!o||o.length<=0)&&(o=i[0].deviceId,localStorage["mic-deviceId"]=o),w()):E()}}))},w=function(){if("true"===localStorage["record_mic_"+m]){var e=!0;nr&&nr.active&&(nr.getTracks().forEach((function(t){t.getSettings().deviceId===localStorage["mic-deviceId"]&&(e=!1)})),!e)||(E(),navigator.mediaDevices.getUserMedia({audio:{deviceId:localStorage["mic-deviceId"]}}).then((function(e){(nr=e).getTracks().forEach((function(e){"audio"==e.kind&&(localStorage["mic-deviceId"]=e.getSettings().deviceId,a(localStorage["mic-deviceId"]))})),b&&b(nr),O()})).catch((function(e){e&&"Permission denied by system"===e.message?(f(!0),g("audio_setup",!0)):nn.ZP.error("Invalid microphone, please choose another one.",10)})))}else E()},x=function e(){var t=document.getElementById("volume-canvas");if(t&&$n){var n=t.getContext("2d");n&&(n.clearRect(0,0,6,18),$n.checkClipping()?n.fillStyle="red":n.fillStyle="#47d892",n.fillRect(0,0,6,18*$n.volume*5),Xn=window.requestAnimationFrame(e))}},S=function(e){if($n){for(var t,n=e.inputBuffer.getChannelData(0),r=n.length,i=0,o=0;o<r;o++)t=n[o],Math.abs(t)>=$n.clipLevel&&($n.clipping=!0,$n.lastClip=window.performance.now()),i+=t*t;var a=Math.sqrt(i/r);$n.volume=Math.max(a,$n.volume*$n.averaging)}},I=function(){Xn&&window.cancelAnimationFrame(Xn),$n&&(tr.disconnect($n),$n.disconnect(er.destination)),er&&er.close(),$n=null,tr=null,er=null},O=function(){if(nr&&!$n){if(!er){var e=window.AudioContext||window.webkitAudioContext;er=new e}tr=er.createMediaStreamSource(nr),$n=function(e,t,n,r){var i=e.createScriptProcessor(512);return i.onaudioprocess=S,i.clipping=!1,i.lastClip=0,i.volume=0,i.clipLevel=t||.98,i.averaging=n||.95,i.clipLag=r||750,i.connect(e.destination),i.checkClipping=function(){return!!i.clipping&&(i.lastClip+i.clipLag<window.performance.now()&&(i.clipping=!1),i.clipping)},i.shutdown=function(){i.disconnect(),i.onaudioprocess=null},i}(er),tr.connect($n),x()}},E=function(){I(),N()},N=function(){nr&&(nr.getTracks().forEach((function(e){e.stop()})),nr.stop(),nr=null,b&&b(null))},D=function(){var e,t;e={audio:!0},t=function(e){g&&(e?e&&g("showGuide",!e):g("showGuide",!e,"setup2")),e&&"true"===localStorage["record_mic_"+m]&&w()},navigator.mediaDevices.getUserMedia(e).then((function(e){var n="";e.getTracks().forEach((function(e){"audio"==e.kind&&(n=e.getSettings().deviceId,localStorage["mic-deviceId"]=n),"Firefox"!=_n().name&&e.stop()})),"Firefox"!=_n().name&&e.stop(),j(n,t)}),(function(e){e&&"Permission denied"===e.message&&(f(!0),g("audio_setup",!0)),t?t(!1):E()}))};return(0,sn.jsxs)("div",{className:"record-setting-item field-mic",children:[(0,sn.jsxs)("div",{className:"option-part",children:[(0,sn.jsx)(cn.ZO,{className:"record-option-item-icon"}),(0,sn.jsxs)("span",{className:"record-option-title",children:["Record Mic Sound",(0,sn.jsx)("canvas",{orientation:"vertical",id:"volume-canvas",className:"volume-canvas ".concat(n&&!d?"show-inline":""),width:"4",height:"18"})]}),(0,sn.jsx)("div",{className:"action",children:d?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"setup-mic-btn",onClick:v,children:"Grant Access"})}):(0,sn.jsxs)("label",{className:"toggle-checkbox",children:[(0,sn.jsx)("input",{type:"checkbox",className:"record-option-checkbox",id:"record-mic",onChange:function(e){r(e.target.checked),localStorage["record_mic_"+m]=e.target.checked,e.target.checked?D():E()},checked:n,"data-type":"mic"}),(0,sn.jsx)("span",{className:"switch"}),(0,sn.jsx)("span",{className:"toggle"})]})})]}),(0,sn.jsx)("div",{className:"option-part source-part ".concat(n&&!d?"show":""),id:"mic-source-part",children:s.length>0?(0,sn.jsx)("div",{className:"option-select device-select",children:(0,sn.jsx)(Yn.Z,{name:"mic-source",id:"mic-source",className:"option-select-button",size:"small",value:o,onChange:function(e){e&&e.length>0&&(localStorage["mic-deviceId"]=e,a(e),w())},"data-source":"mic",children:s.map((function(e){return(0,sn.jsx)(Yn.Z.Option,{title:e.label,value:e.deviceId,children:e.label},e.deviceId)}))})}):"No Microphone detected"})]})}function or(e){var t=qn((0,zt.useState)(""),2),n=t[0],r=t[1],i=qn((0,zt.useState)([]),2),o=i[0],a=i[1],c=e.recordType,s=e.resolution,l=e.setupAction,u=e.recordStatus,d=e.updateCellUI,f=e.showRecordModel,m=e.updateCameraStatus,p=e.updateCameraStream,h=qn((0,zt.useState)(!1),2),v=h[0],y=h[1],g=qn((0,zt.useState)(!1),2),b=g[0],j=g[1],w=(0,zt.useRef)(c);w.current=c;var x=(0,zt.useRef)(u);x.current=u,(0,zt.useEffect)((function(){localStorage.record_cam_screen||(localStorage.record_cam_screen=!1),localStorage.record_cam_camera||(localStorage.record_cam_camera=!0),m("camera_status","true"==localStorage["record_cam_"+c]);var e="true"==localStorage["record_cam_"+c];y(e)}),[c]),(0,zt.useEffect)((function(){return function(){rr=null}}),[]),(0,zt.useEffect)((function(){b&&O(localStorage.getItem("cam-deviceId"),(function(e,t){e&&t&&C(t)}))}),[d]),(0,zt.useEffect)((function(){O(localStorage["cam-deviceId"])}),[c,f]);var S,I,O=function(e,t){"normal"===u&&(0,Qn.D)((function(n){var i=n,o=(0,Qn.P)(i.videoInputDevices);a(o);var s=function(e,t){if(t&&t.length>0){var n=!1;return t.forEach((function(t){t.deviceId==e&&(n=!0)})),n?e:t[0].deviceId}return""}(e,o);if(r(s),0===o.length&&i.videoInputDevices.length?(j(!0),m("camera_setup",!0)):(j(!1),m("camera_setup",!1)),t)t(!0,s);else{var u=localStorage.getItem("cam-deviceId");o.length>0&&!s&&(!u||u.length<=0)&&localStorage.setItem("cam-deviceId",s),o.length>0&&"true"==localStorage["record_cam_"+c]||"camera"===c?s?C(s):l():D()}}))},E=function(e){y(e.target.checked),m("camera_status",e.target.checked),"screen"===c&&(localStorage["record_cam_"+c]=e.target.checked),e.target.checked?C(localStorage["cam-deviceId"]):D()},N=function(e){e&&e.length>0&&(localStorage["cam-deviceId"]=e,r(e),C(e,localStorage["mic-deviceId"]))},D=function(){var e=null;(e=document.querySelector("#main-video"))&&e.srcObject&&(rr==e.srcObject&&(rr=null),e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject.stop(),e.srcObject=null),A(rr),m("camera_status",!1),p&&p(null)},A=function(e){e&&(e.getTracks().forEach((function(e){e.stop()})),e.stop(),e=null)},C=function(e){var t=s.maxWidth,n=s.maxHeight,i=!0;if(rr&&rr.active){if(rr.getTracks().forEach((function(t){t.getSettings().deviceId===e?i=!1:t.stop()})),!i)return;rr.stop()}else rr=null;navigator.mediaDevices.getUserMedia({video:{deviceId:e,echoCancellation:!1,aspectRatio:1.777,width:{max:t*window.devicePixelRatio},height:{max:n*window.devicePixelRatio},maxFrameRate:30}}).then((function(e){rr=e,!0,"screen"===w.current&&"true"==localStorage.record_cam_screen||"camera"===w.current?(rr.getTracks().forEach((function(e){"video"==e.kind&&(localStorage["cam-deviceId"]=e.getSettings().deviceId,r(localStorage["cam-deviceId"]))})),p&&p(rr),m("camera_status",!0),function(e){var t=document.querySelector("#main-video");t&&(t.srcObject=e,t.onloadedmetadata=function(){t.play()},t.ondurationchange=function(){})}(e),0==o.length&&O(localStorage["cam-deviceId"],(function(){})),rr.oninactive=function(e){"normal"===x.current&&(O(localStorage["cam-deviceId"],(function(){})),"screen"===w.current&&m("camera_status",!1))}):A(rr),P()})).catch((function(e){e&&"Permission denied"===e.message?(j(!0),m("camera_setup",!0),!0,m("showGuide",!0,"setup2")):e&&"Permission denied by system"===e.message?(j(!0),m("camera_setup",!0)):nn.ZP.error("Invalid camera, please choose another one.",10),D()}))},P=function(){m("showGuide",!1),j(!1),m("camera_setup",!1)};return S="camera"!==c&&("Chrome"===_n().name||"Safari"===_n().name||_n().name.indexOf("Edge")>=0),I="camera"==c||("Chrome"===_n().name||"Safari"===_n().name||_n().name.indexOf("Edge")>=0)&&v,(0,sn.jsxs)("div",{className:"record-setting-item record-option-camera camera-rel-setting",children:[(0,sn.jsxs)("div",{className:"option-part",children:[(0,sn.jsx)(cn.xm,{className:"record-option-item-icon"}),(0,sn.jsxs)("span",{className:"record-option-title camera-rel-title",children:["camera"===c?"":"Embed"," Camera"]}),S||b?(0,sn.jsx)("div",{className:"action",children:b?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"setup-mic-btn",onClick:l,children:"Grant Access"})}):(0,sn.jsxs)("label",{className:"toggle-checkbox",children:[(0,sn.jsx)("input",{type:"checkbox",className:"record-option-checkbox",id:"record-cam",onChange:E,checked:v,"data-type":"cam"}),(0,sn.jsx)("span",{className:"switch"}),(0,sn.jsx)("span",{className:"toggle"})]})}):""]}),(0,sn.jsx)("div",{className:"option-part source-part ".concat(I&&!b?"show":""),id:"cam-source-part",children:o.length>0?(0,sn.jsx)("div",{className:"option-select device-select",children:(0,sn.jsx)(Yn.Z,{name:"cam-source",id:"cam-source",className:"option-select-button",size:"small",value:n,onChange:N,"data-source":"cam",children:o.map((function(e){return(0,sn.jsx)(Yn.Z.Option,{title:e.label,value:e.deviceId,children:e.label},e.deviceId)}))})}):"No Camera detected"})]})}function ar(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return cr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sr="",lr={720:"HD 720p",1080:"FHD 1080p","4k":"4k"},ur=null,dr=null,fr=null,mr=null,pr=null,hr=null,vr=null,yr=null,gr=null,br=null,jr=null,wr=!0,xr=!0,Sr=null,Ir=!1,Or=function(e){e.preventDefault(),e.returnValue="Your recording is not completed, are you sure you want to leave? "};var Er={loadUserInfo:Yt.Lk,updateRecordPanel:et.i0,updateIsRecording:et.uz,restoreChannelItemList:d.A3,restoreItemList:Mn.LD,restoreVideoList:Zn.U2};const Nr=(0,o.$j)((function(e){return Ir=!Ir,{user:e.user,userInfo:e.user.info,workspaceID:e.ui?e.ui.workspaceID:"",channelID:e.ui?e.ui.channelID:"",folderID:e.ui?e.ui.folderID:"",channelFolderID:e.ui?e.ui.channelFolderID:"",currentPlan:e.user.premium&&e.user.premium.currentPlan,total:e.user.counts?e.user.counts.videoTotalLimitation:0,showTotal:e.user.counts?e.user.counts.video:0,videoLimitation:e.user.counts?e.user.counts.videoLimitation:20,showRecordPanel:!!e.ui&&e.ui.showRecordPanel,isSpaceOwner:!!e.ui&&e.ui.isSpaceOwner,updateContent:Ir}}),Er)((function(e){var t=ar((0,zt.useState)(!1),2),n=t[0],r=t[1],i=ar((0,zt.useState)("normal"),2),o=i[0],a=i[1],c=ar((0,zt.useState)("screen"),2),s=c[0],l=c[1],u=ar((0,zt.useState)(3),2),d=u[0],f=u[1],m=ar((0,zt.useState)("1080"),2),p=m[0],h=m[1],v=ar((0,zt.useState)(""),2),y=v[0],g=v[1],b=ar((0,zt.useState)("00:00"),2),j=b[0],w=b[1],x=ar((0,zt.useState)(3),2),S=x[0],I=x[1],O=ar((0,zt.useState)(!1),2),E=O[0],N=O[1],D=ar((0,zt.useState)(!1),2),A=D[0],C=D[1],P=ar((0,zt.useState)(!1),2),k=P[0],T=P[1],L=ar((0,zt.useState)(5),2),_=L[0],R=L[1],M=ar((0,zt.useState)(!1),2),Z=M[0],F=M[1],U=ar((0,zt.useState)(""),2),H=U[0],G=U[1],B=ar((0,zt.useState)(!1),2),V=B[0],z=B[1],W=ar((0,zt.useState)(!1),2),K=W[0],Y=W[1],Q=ar((0,zt.useState)(!1),2),q=Q[0],J=Q[1],X=ar((0,zt.useState)(!0),2),$=X[0],ee=X[1],te=ar((0,zt.useState)(!0),2),ne=te[0],re=te[1],ie=ar((0,zt.useState)(!1),2),oe=ie[0],ae=ie[1],ce=ar((0,zt.useState)(0),2),se=ce[0],le=ce[1],ue=ar((0,zt.useState)(0),2),de=ue[0],fe=ue[1],me=ar((0,zt.useState)(!1),2),pe=me[0],he=me[1],ve=ar((0,zt.useState)(!1),2),ye=ve[0],ge=ve[1],be=ar((0,zt.useState)(!1),2),je=be[0],we=be[1],xe=(0,zt.useRef)(),Se=(0,zt.useRef)(V);Se.current=V;var Ie=(0,zt.useRef)(o);Ie.current=o;var Oe,Ee,Ne,De,Ae=e.updateRecordPanel,Ce=e.updateIsRecording,Pe=(0,Wt.s0)(),ke=function(){var e,t;return"1080"===p?(e=1920,t=1080):"720"===p?(e=1280,t=720):(e=3840,t=2160),{maxWidth:e,maxHeight:t}},Te=ke(),_e=Te.maxWidth,Re=Te.maxHeight;(0,zt.useEffect)((function(){if(0===se&&0===de&&localStorage.tranX&&localStorage.tranY){var e=It(localStorage.tranY),t=Ot(localStorage.tranX);le(t),fe(e)}}),[]),(0,zt.useEffect)((function(){Ze()&&Me()}),[e.updateContent]);var Me=function(){sr=document.cookie.replace(/(?:(?:^|.*;\s*)screenshot_personal_uid=([^;]*).*$)|^.*$/,"$1"),y.length<=0&&sr&&sr.length>0&&!je?(we(!0),(0,rn.kA_)().then((function(e){g(e.token),we(!1)})).catch((function(e){we(!1)}))):sr&&sr.length>0&&y.length>0&&we(!1)};(0,zt.useEffect)((function(){e.showRecordPanel&&Me()}),[e.showRecordPanel]);var Ze=function(){var e=window.location.pathname;return!(!e||!(e.startsWith("/my_items")||e.startsWith("/all_videos")||e.startsWith("/folder")||e.startsWith("/workspace")))};(0,zt.useEffect)((function(){localStorage.record_countdown&&"undefined"!=localStorage.record_countdown&&"null"!=localStorage.record_countdown||(localStorage.record_countdown=3),f(parseInt(localStorage.record_countdown)),localStorage.max_resolution&&"undefined"!=localStorage.max_resolution||(window.screen.width*window.devicePixelRatio>3e3?localStorage.max_resolution="1080":localStorage.max_resolution="720"),h(localStorage.max_resolution)}),[s]);var Fe,Ue=1,He=function(e){e=!e||e.length<=0?0:Math.round(e),localStorage.record_countdown=e,f(e)},Ge=function(e,t){gr?(e||(R(gr.uploadRate()),a("uploading")),_<100&&!e?pr=setInterval((function(){var e;gr&&"connected"===gr.status?(e=gr.uploadRate(),R(e)):e=100,e>=100&&(pr&&clearInterval(pr),t&&t())}),300):t&&t()):t&&t()},Be=function(e){localStorage.record_type=e.target.value,l(e.target.value),"screen"===e.target.value&&"Firefox"===_n().name&&(vr&&(vr.getTracks().forEach((function(e){e.stop()})),vr.stop(),vr=null),r(!1))},Ve=function(e){localStorage.max_resolution=e,h(e);var t=ke();_e=t.maxWidth,Re=t.maxHeight},ze=function(){"paused"!==o&&(gr&&gr.pauseIt(),br&&br.pauseRecording(),a("paused"),hr=(new Date).getTime(),mr&&clearInterval(mr))},We=function(){yr&&(yr.getTracks().forEach((function(e){e.stop()})),yr.stop(),yr=null),function(){ft();var e=document.querySelector("#main-video");e&&(e.srcObject&&(vr==e.srcObject&&(vr=null),e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject.stop(),e.srcObject=null),e.pause(),e.srcObject=null)}(),ht(vr),ur&&(ur.getTracks().forEach((function(e){e.stop()})),ur.stop(),ur=null),Sr&&(Sr.close(),Sr=null),e.loadUserInfo(!0)},Ke=function(t,n){We();var r=function(){try{gr.cancel(),gr.needReconnect=!1,gr.sentQueue=[],gr.willSendQueue=[],gr.close(1e3)}catch(e){}};br?br.stopRecording((function(){t?(r(),Ge(!0,(function(){st(),gr=null,br=null}))):gr&&(gr.complete(),Ge(!1,(function(){st(),gr&&(e.workspaceID?Pe("/video/"+gr.videoID,{state:{lastPath:"/workspace/"+e.workspaceID+"/"+e.channelID+(e.channelFolderID&&"0"!==e.channelFolderID?"/"+e.channelFolderID:"")}}):e.folderID&&e.folderID.length>0?Pe("/video/"+gr.videoID,{state:{lastPath:"0"!==e.folderID?"/folder/"+e.folderID:"/my_items/"}}):Pe("/video/"+gr.videoID,{state:{lastPath:"/all_videos/"}})),gr=null,br=null,e.workspaceID?e.restoreChannelItemList():(e.restoreItemList(),e.restoreVideoList())})))})):(st(),gr&&(t&&r(),gr=null)),mr&&clearInterval(mr),dr=null,fr=null,hr=null,T(!1),localStorage.video_need_complete=""},Ye=function(e){Ke(1==e)},Qe=function(t){gr&&(gr.active=!1),t.serverError=function(t){Ye(!1),t&&(t.indexOf("upgrade")>=0||"Professional Plan Required!"===t)?e.workspaceID&&e.workspaceID.length>0?ae(!0):(ee(!1),J(!0)):nn.ZP.error(t,10)},t.connectError=function(){nn.ZP.error("Network error! Please try again later!",10),T(!0),ze()},t.client="web_recorder",t.token=y,t.videoCodec="Safari"==_n().name?"h264":"vp8",t.uid=sr,t.version="1.0.1",t.videoName="AwesomeScreenshot-"+(new Date).toLocaleString("en-US").replace(/\s/g,""),t.workspaceID=e.workspaceID,t.channelID=e.channelID,t.folderID=e.folderID,t.channelFolderID=e.channelFolderID,(gr=new zn.$(t)).connect()},qe=function(){y.length<=0?!(sr=document.cookie.replace(/(?:(?:^|.*;\s*)screenshot_personal_uid=([^;]*).*$)|^.*$/,"$1"))||sr&&sr.length<=0?Y(!0):Me():(window.addEventListener("beforeunload",Or,!1),it({recordType:s,countdown:parseInt(localStorage.record_countdown),saveLocation:!1,resolution:localStorage.max_resolution,isRecordCam:n,camDeviceId:localStorage["cam-deviceId"],micDeviceId:localStorage["mic-deviceId"],isRecordTabSound:!1}))},Je=0,Xe=function(e,t){if(document.querySelector("#aws-page-countdown"))t&&t(!1);else if(at(),e<=0)t&&t(!0);else{N(!0);var n=e;I(n),w(n),n--,Je=setInterval((function(){if(I(n),w(n),n<=0)return Je&&clearInterval(Je),Je=null,N(!1),void(t&&t(!0));n--}),1e3)}},$e=function(e){e.preventDefault(),"uploading"!==o&&Ke(!1)},et=function(t){t.preventDefault(),"uploading"!==o&&(re(e.showRecordPanel),C(!0),Ae({status:!0,channelID:e.channelID,workspaceID:e.workspaceID}))},tt=function(e){e.preventDefault(),"recording"===o?ze():"paused"===o&&(gr&&"connected"!==gr.status&&gr.resumeIt(),br&&br.resumeRecording(),gr&&(gr.isPaused=!1),at(),fr=fr+(new Date).getTime()-hr,T(!1),mr=setInterval(ot,100))},nt=function(){C(!1),ne||Ae({status:ne,channelID:e.channelID,workspaceID:e.workspaceID})},rt=function(){C(!1),Ae({status:!1,channelID:e.channelID,workspaceID:e.workspaceID}),a("normal"),Ce({isRecording:!1}),window.removeEventListener("beforeunload",Or,!1),Ye(!0)},it=function(e){if(mt(),a("preparing"),Ce({isRecording:!0}),"camera"==s)vr&&vr.active?Qe({recordType:s,onopen:function(){Xe(e.countdown,(function(){ct(e,vr)}))},onFailed:Ye}):(lt(),wt("showGuide",!0,"setup2"));else{var t={video:{cursor:"always",width:{max:_e},height:{max:Re},autoGainControl:!1,maxFrameRate:30},audio:!0};navigator.mediaDevices.getDisplayMedia(t).then((function(t){yr=t,Qe({recordType:s,onopen:function(){Xe(e.countdown,(function(){ct(e,yr)}))},onFailed:Ye})})).catch((function(e){"NotAllowedError"!==e.name&&nn.ZP.error(e.message,10),lt(),"Permission denied by system"===e.message&&(F(!0),/Mac OS/.test(navigator.userAgent)?G("setup_mac"):G("setup_win")),ft()}))}},ot=function(){var t,n,r=(new Date).getTime()-dr;fr&&(r-=fr),(t=r)>=(n=72e5*Ue)&&t<=n+100&&(window.open("/notification-recorder.html","Notification","chrome=yes,alwaysLowered=yes,alwaysRaised=yes,centerscreen=yes,width=300,height=320"),Ue++);var i=(0,Le.nH)(Math.round(r/1e3));w(i),r>3e5&&(y.length<=0||!e.user||!e.user.premium||!e.user.premium.currentPlan||e.total>e.videoLimitation&&e.user.premium.currentPlan&&(""===e.user.premium.currentPlan.PlanName||"free"===e.user.premium.currentPlan.PlanName||"basic"===e.user.premium.currentPlan.PlanName))&&Ke(!1)},at=function(){a("recording"),Ce({isRecording:!0})},ct=function(e,t){at(),dr=(new Date).getTime(),mr=setInterval(ot,100),ut(t)},st=function(){lt(),Ae({status:!1,channelID:e.channelID,workspaceID:e.workspaceID})},lt=function(){a("normal"),Ce({isRecording:!1}),window.removeEventListener("beforeunload",Or,!1)},ut=function(e){if(e&&e.active){var t={type:"video",disableLogs:!1,getNativeBlob:!0,timeSlice:500,ondataavailable:function(e){gr.send(e)}},n=t.videoCodec;t.videoCodec||(n="Safari"==_n().name?"h264":"vp8"),n&&(t.mimeType="video/webm; codecs="+n.toLowerCase());var r=new MediaStream;if(ur)t.mimeType+=",opus",dt([ur,e]).getAudioTracks().forEach((function(e){r.addTrack(e)}));else e.getAudioTracks().forEach((function(e){r.addTrack(e)}));e.getVideoTracks().forEach((function(e){r.addTrack(e)})),br=new(Vn())(r,t);try{br.startRecording()}catch(e){}r.onended=function(e){Ye(!1)},r.getVideoTracks()[0].onended=function(){r.stop(),r&&r.onended&&r.onended()}}else Ye(!0)},dt=function(e){var t=window.AudioContext||window.webkitAudioContext;Sr=new t;var n=[],r=Sr.createGain();r.connect(Sr.destination),r.gain.value=0;var i=0;if(e.forEach((function(e){if(e.getAudioTracks().length){i++;var t=Sr.createMediaStreamSource(e);t.connect(r),n.push(t)}})),i){var o=Sr.createMediaStreamDestination();return n.forEach((function(e){e.connect(o)})),o.stream}},ft=function(){var e=document.querySelector("#main-video");e||(e=jr),"screen"==s&&(document.exitPictureInPicture?document.exitPictureInPicture().catch((function(){})):e&&e.webkitSetPresentationMode&&e.webkitSetPresentationMode("inline")),e&&n&&"normal"===o&&vr&&(e.srcObject=vr)},mt=function(){var e=document.querySelector("#main-video");e&&"screen"===s&&vr&&(e.webkitSupportsPresentationMode&&"function"==typeof e.webkitSupportsPresentationMode?e.webkitSupportsPresentationMode("picture-in-picture"):e.requestPictureInPicture&&e.requestPictureInPicture(),e.addEventListener("leavepictureinpicture",(function(e){e.target&&e.target.srcObject&&"recording"===Ie.current&&ht(e.target.srcObject)})))},pt=function(t){Ae({status:t,channelID:e.channelID,workspaceID:e.workspaceID}),t||"normal"!==o||We()},ht=function(e){e&&(e===vr&&z(!1),e.getTracks().forEach((function(e){e.stop()})),e.stop(),e=null)},vt=function(e){(e.preventDefault(),"screen"===s)&&(V?(z(!1),ft(),ht(vr)):(z(!0),navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){!function(e){if(Se.current){vr=e;var t=document.querySelector("#main-video");t||(t=document.createElement("video"),jr=t),t&&"screen"===s&&e&&(t.srcObject=e,t.onloadedmetadata=function(){t.play(),t.webkitSupportsPresentationMode&&"function"==typeof t.webkitSupportsPresentationMode?t.webkitSupportsPresentationMode("picture-in-picture"):t.requestPictureInPicture&&t.requestPictureInPicture().then((function(){}),(function(e){}))},t.addEventListener("leavepictureinpicture",(function(e){e.target&&e.target.srcObject&&ht(e.target.srcObject)})))}else z(!1),ht(e)}(e),wt("showGuide",!1)}),(function(e){z(!1),e&&"Permission denied"===e.message&&wt("showGuide",!0,"setup2")}))))},yt=function(){Ae({status:!1}),"normal"===o&&We(),Pe("/pricing?from=video-alert")},gt=(0,sn.jsxs)(kn.Z,{onClick:function(t){var n=t.key;if(n){if("720"!==n){if(y.length<=0||!e.user||!e.user.premium||!e.user.premium.currentPlan)return void Y(!0);if(e.user.premium.currentPlan&&e.total>e.videoLimitation&&(""===e.user.premium.currentPlan.PlanName||"free"===e.user.premium.currentPlan.PlanName||"basic"===e.user.premium.currentPlan.PlanName))return Ye(!1),ee(!0),void J(!0)}Ve(n)}},selectedKeys:p,children:[(0,sn.jsx)(kn.Z.Item,{className:"resolution-select-item",children:(0,sn.jsx)("span",{children:lr[720]})},"720"),(0,sn.jsx)(kn.Z.Item,{className:"resolution-select-item",children:(0,sn.jsx)("span",{className:"pro-icon",children:lr[1080]})},"1080"),(0,sn.jsx)(kn.Z.Item,{className:"resolution-select-item",children:(0,sn.jsx)("span",{className:"pro-icon",children:lr["4k"]})},"4k")]}),bt=function(e){ur=e},jt=function(e,t,n){"showGuide"===e?(F(t),G("setup2"===n?"setup2":"setup1")):"audio_setup"===e&&(wr=t)},wt=function(e,t,n){"camera_status"==e?r(t):"showGuide"===e?(F(t),G("setup2"===n?"setup2":"setup1")):"camera_setup"===e&&(xr=t)},xt=function(e){vr=e,"screen"===s&&z(!!vr)},St=function(e){e.preventDefault(),Ne>=0&&De>=0&&(Oe=parseInt(e.pageX-Ne)+parseInt(se),Ee=parseInt(e.pageY-De)+parseInt(de),Ee=It(Ee),Oe=Ot(Oe),xe.current.style.transform="translate("+Oe+"px,"+Ee+"px)")},It=function(e){return Number.isNaN(e)?0:(e<0?e=0:e>window.innerHeight-60&&(e=window.innerHeight-60),e)},Ot=function(e){if(Number.isNaN(e))return 0;var t=window.innerWidth/2-("uploading"===o?134:210),n=t+("uploading"===o?40:50);return e>t?e=t:e+n<0&&(e=0-n),e},Et=function e(t){t.preventDefault(),he(!1),Ne>0&&De>0&&void 0!==Oe&&void 0!==Ee&&(fe(It(Ee)),le(Ot(Oe)),localStorage.tranX=parseInt(Ot(Oe)),localStorage.tranY=parseInt(It(Ee)),Ne=-1,De=-1,Oe=void 0,Ee=void 0),document.documentElement.removeEventListener("mousemove",St,!1),document.documentElement.removeEventListener("mouseup",e,!1)},Nt=function(e){e.stopPropagation()},Dt=function(){var e=!1,t=900,n={video:!0,audio:!0};xr&&!wr?n={video:!0}:wr&&!xr&&(n={audio:!0},t=400),setTimeout((function(){e||(e=!0,wt("showGuide",!0,"setup1"))}),t),navigator.mediaDevices.getUserMedia(n).then((function(t){e=!0;var n="",r="";t.getTracks().forEach((function(e){"audio"==e.kind?(n=e.getSettings().deviceId,localStorage["mic-deviceId"]=n):"video"==e.kind&&(r=e.getSettings().deviceId,localStorage["cam-deviceId"]=r),"Firefox"!=_n().name&&e.stop()})),"Firefox"!=_n().name&&t.stop(),wt("showGuide",!1),ge(!ye)}),(function(t){e=!0,"Permission denied by system"===t.message?(F(!0),/Mac OS/.test(navigator.userAgent)?G("setup_mac"):G("setup_win")):wt("showGuide",!0,"setup2"),ge(!ye)}))};return(0,sn.jsxs)(sn.Fragment,{children:[e.showRecordPanel||"normal"===o?(0,sn.jsx)(sn.Fragment,{}):(0,sn.jsxs)("div",{ref:xe,className:"recorder-miniview "+o+(pe?" drag":""),style:{transform:"translate("+se+"px,"+de+"px)"},children:[(0,sn.jsx)("div",{className:"drag-item",onMouseDown:function(e){e.preventDefault(),Ne=e.pageX,De=e.pageY,Oe=void 0,Ee=void 0,he(!0),document.documentElement.addEventListener("mousemove",St,!1),document.documentElement.addEventListener("mouseup",Et,!1)},children:(0,sn.jsx)(cn.Vn,{className:"icon"})}),"recording"===o||"paused"===o?(0,sn.jsxs)("div",{className:"mini-content "+o,children:[(0,sn.jsx)(An.Z,{title:"Discard",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"action-item",onClick:et,children:(0,sn.jsx)(cn.GR,{className:"icon"})})}),"screen"===s?(0,sn.jsx)(An.Z,{title:V?"Close Camera":"Embed Camera",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"action-item",onClick:vt,children:V?(0,sn.jsx)(cn.aY,{className:"icon"}):(0,sn.jsx)(cn.pG,{className:"icon"})})}):(0,sn.jsx)(sn.Fragment,{}),(0,sn.jsxs)("div",{className:"action-records",children:[(0,sn.jsx)(An.Z,{title:"recording"===o?"Pause":"Resume",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"icon-pause",onClick:tt,children:"recording"===o?(0,sn.jsx)(cn.HC,{className:"icon"}):(0,sn.jsx)(cn.a6,{className:"icon"})})}),(0,sn.jsx)(An.Z,{title:"Stop",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsxs)("div",{className:"icon-stop",onClick:$e,children:[(0,sn.jsx)(cn.vp,{className:"icon"}),(0,sn.jsxs)("div",{className:"record-time",children:[" ",j]})]})})]}),(0,sn.jsx)(An.Z,{title:"MaxSize",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"resize",onClick:function(){return pt(!0)},children:(0,sn.jsx)(cn.tj,{className:"icon"})})})]}):"uploading"===o?(0,sn.jsxs)("div",{className:"mini-content",children:[(0,sn.jsx)(Dn.Z,{className:"progress",strokeWidth:6,trailColor:"rgba(191, 213, 251, 0.3)",strokeColor:"#5794FF",style:{color:"#ffff"},type:"circle",percent:_,width:40}),(0,sn.jsx)("div",{className:"tips",children:"uploading"}),(0,sn.jsx)("div",{className:" resize",onClick:function(){return pt(!0)},children:(0,sn.jsx)(cn.tj,{className:"icon"})})]}):void 0]}),(0,sn.jsx)(Nn.Z,{visible:e.showRecordPanel,onCancel:function(){return pt(!1)},footer:null,bodyStyle:{padding:10},maskClosable:!1,closable:"normal"===o,closeIcon:(0,sn.jsx)(cn.Tw,{style:{fontSize:"12px"}}),destroyOnClose:!0,height:500,width:"auto",centered:!0,children:(0,sn.jsxs)("div",{className:"recorder-content "+s+" "+o,children:[(0,sn.jsx)("div",{className:"video-content model-item "+("camera"===s||n&&"normal"===o?"show":""),children:(0,sn.jsx)("video",{id:"main-video",autoPlay:!0})}),(0,sn.jsx)("div",{className:"siderbar-area model-item "+o+" "+s,children:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"normal-view layout-view",children:[(0,sn.jsxs)("div",{className:"record-type-container ".concat(s+"-display"),children:[(0,sn.jsx)("div",{className:"record-type-item desktop",children:(0,sn.jsxs)("label",{htmlFor:"record-type-desktop",className:"record-type-label",children:[(0,sn.jsx)("input",{type:"radio",name:"record-type",onChange:Be,id:"record-type-desktop",value:"screen"}),(0,sn.jsx)("div",{children:(0,sn.jsx)(cn.tN,{})}),"Desktop"]})}),(0,sn.jsx)("div",{className:"record-type-item camera",children:(0,sn.jsxs)("label",{htmlFor:"record-type-camera",className:"record-type-label",children:[(0,sn.jsx)("input",{type:"radio",name:"record-type",onChange:Be,id:"record-type-camera",value:"camera"}),(0,sn.jsx)("div",{children:(0,sn.jsx)(cn.V_,{})}),"Camera Only"]})})]}),(0,sn.jsxs)("div",{className:"record-menu",children:[(0,sn.jsxs)("div",{className:"record-settings",children:[(0,sn.jsx)(ir,{recordType:s,recordStatus:o,showRecordModel:e.showRecordPanel,updateAudioStream:bt,updateAudioStatus:jt,setupAction:Dt,updateCellUI:ye}),"camera"===s||"Firefox"!=_n().name?(0,sn.jsx)(or,{recordType:s,showRecordModel:e.showRecordPanel,recordStatus:o,updateCameraStream:xt,updateCameraStatus:wt,resolution:ke(),setupAction:Dt,updateCellUI:ye}):"",(0,sn.jsxs)("div",{className:"record-setting-item field-resolution",children:[(0,sn.jsx)(cn.HH,{className:"record-option-item-icon"}),(0,sn.jsx)("span",{className:"record-option-title",children:"Max Resolution"}),(0,sn.jsx)("div",{className:"action",children:(0,sn.jsx)("div",{className:"option-select",children:(0,sn.jsx)(Pn.Z,{overlay:gt,trigger:["click"],placement:"bottomRight",children:(0,sn.jsxs)($t.Z,{className:"option-select-button",size:"small",children:[lr[p],(0,sn.jsx)("span",{className:"option-select-arrow",unselectable:"on","aria-hidden":"true",style:{userSelect:"none"},children:(0,sn.jsx)("span",{role:"img","aria-label":"down",className:"anticon anticon-down ant-select-suffix",children:(0,sn.jsx)("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"down",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",children:(0,sn.jsx)("path",{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"})})})})]})})})})]}),(0,sn.jsxs)("div",{className:"record-setting-item field-countdown",children:[(0,sn.jsx)(Tn.Z,{className:"record-option-item-icon"}),(0,sn.jsx)("span",{className:"record-option-title",children:"Countdown"}),(0,sn.jsxs)("div",{className:"action",children:[(0,sn.jsx)(Cn.Z,{id:"countdown-input",className:"record-option-number",type:"number",size:"small",min:0,max:10,onChange:He,value:d}),"s"]})]})]}),e.currentPlan&&("professional"===e.currentPlan.PlanName||"team"===e.currentPlan.PlanName||e.total>=e.videoLimitation)?"":(0,sn.jsxs)("div",{className:"premium-alert-container",children:[(0,sn.jsx)("div",{className:"premium-alert-txt",children:e.total<=e.videoLimitation&&(""===e.currentPlan.PlanName||"free"===e.currentPlan.PlanName||"basic"===e.currentPlan.PlanName)?(0,sn.jsxs)("div",{className:"try",children:["Enjoy all premium features for first 20 videos.",(0,sn.jsx)("a",{className:"upgrade",onClick:yt,children:"Upgrade"})," ","to unlock unlimited videos."]}):"Your free trial of Professional video features has ended. Now your recording can be up to 5 minutes."}),(0,sn.jsx)("div",{className:"premium-alert-sep"}),(0,sn.jsx)("div",{className:"premium-alert-link",children:e.total<=e.videoLimitation&&(""===e.currentPlan.PlanName||"free"===e.currentPlan.PlanName||"basic"===e.currentPlan.PlanName)?e.showTotal+"/"+e.videoLimitation:(0,sn.jsx)("div",{to:"/pricing?from=web-recorder-tip",onClick:yt,children:"Upgrade"})})]}),(0,sn.jsx)($t.Z,{onClick:qe,loading:je,className:"record-start-btn ".concat(je||"camera"===s&&!n?"disabled":""),id:"record-start",children:"Start Recording"})]})]}),(0,sn.jsxs)("div",{className:"preparing-view layout-view "+s,children:[(0,sn.jsxs)("div",{className:"loading",children:[(0,sn.jsx)("div",{className:"double-bounce1"}),(0,sn.jsx)("div",{className:"double-bounce2"})]}),(0,sn.jsx)("div",{className:"prepare-tip",children:"Preparing for recording ..."})]}),(0,sn.jsxs)("div",{className:"recording-view layout-view "+s,children:[(0,sn.jsxs)("div",{className:"recording-header",children:[(0,sn.jsx)("div",{className:"recording-tips",children:"uploading"===o?"Uploading":"paused"===o?"Paused":"Recording"}),(0,sn.jsx)(An.Z,{title:"MinSize",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"recording-action-btn",onClick:function(){return pt(!1)},children:(0,sn.jsx)(cn.Mj,{})})})]}),(0,sn.jsx)("div",{className:"blue-area",style:{display:"uploading"===o?"none":"block"},children:(0,sn.jsx)("div",{className:"time",children:j})}),(0,sn.jsx)("div",{className:"upload-process",style:{display:"uploading"===o?"block":"none"},children:(0,sn.jsx)(Dn.Z,{className:"progress",strokeWidth:6,trailColor:"rgba(191, 213, 251, 0.3)",strokeColor:"#5794FF",type:"circle",percent:_,width:60})}),(0,sn.jsxs)("div",{className:"popup",style:{display:A?"block":"none"},children:[(0,sn.jsx)("h3",{children:"Warning"}),(0,sn.jsx)("p",{children:"Discarded recording will be permanently deleted. Are you sure you want to discard this recording?"}),(0,sn.jsxs)("div",{className:"btn-area",children:[(0,sn.jsx)("div",{className:"popup-btn",onClick:nt,id:"discard-cancel",children:"No"}),(0,sn.jsx)("div",{className:"popup-btn discard-btn",onClick:rt,id:"discard-confirm",children:"Yes, discard"})]})]}),k?(0,sn.jsx)("div",{className:"recording-error",children:"Recording paused due to network error. Check your network and click resume to continue recording after your network is back to normal; or click Stop to save what has been recorded and then report the issue to us."}):"",(0,sn.jsxs)("div",{className:"recording-action ".concat("uploading"===o?"disabled":""," ").concat("paused"===o?"paused":""),children:[(0,sn.jsx)(An.Z,{title:"Discard",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"recording-action-btn icon",onClick:et,id:"record-discard",children:(0,sn.jsx)(cn.GR,{})})}),"screen"===s?(0,sn.jsx)(An.Z,{title:V?"Close Camera":"Embed Camera",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"recording-action-btn icon",onClick:vt,children:V?(0,sn.jsx)(cn.aY,{className:"icon"}):(0,sn.jsx)(cn.pG,{className:"icon"})})}):(0,sn.jsx)(sn.Fragment,{}),(0,sn.jsxs)("div",{className:"record-actions",children:[(0,sn.jsx)(An.Z,{title:"recording"===o?"Pause":"Resume",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"recording-action-btn icon-pause icon",onClick:tt,id:"record-pause",children:"recording"===o?(0,sn.jsx)(cn.HC,{className:"icon"}):(0,sn.jsx)(cn.a6,{className:"icon"})})}),(0,sn.jsx)(An.Z,{title:"Stop",mouseEnterDelay:0,mouseLeaveDelay:0,children:(0,sn.jsxs)("div",{className:"recording-action-btn stop",onClick:$e,id:"record-stop",children:[(0,sn.jsx)(cn.vp,{className:"icon-stop"}),"STOP"]})})]})]})]}),(0,sn.jsx)("div",{className:"uploading-view layout-view"})]})})]})}),E?(0,sn.jsx)("div",{className:"fullscreen-wrapper",children:(0,sn.jsxs)("div",{className:"content center",children:[(0,sn.jsx)("div",{className:"sec",children:S}),(0,sn.jsx)("div",{className:"tip",children:"Ready to record"})]})}):"",Z?(0,sn.jsx)("div",{className:"fullscreen-wrapper",onClick:function(){F(!1)},children:(Fe=H,"setup1"===Fe?(0,sn.jsx)("div",{className:"content topleft",children:(0,sn.jsx)("div",{className:"arrow"})}):"setup2"===Fe?(0,sn.jsxs)("div",{className:"block-guide",onClick:Nt,children:[(0,sn.jsxs)("div",{className:"title-field",children:[(0,sn.jsx)("span",{children:"Camera and microphone blocked"}),(0,sn.jsx)(cn.Tw,{style:{fontSize:"12px"},onClick:function(){F(!1)}})]}),(0,sn.jsxs)("div",{className:"des",children:["Please click"," ",(0,sn.jsx)("div",{children:(0,sn.jsx)(cn.mB,{})})," ","Icon, find the microphone and camera, and turn on the switch."]}),(0,sn.jsx)("video",{src:/Edg/.test(window.navigator.userAgent)?Gn:Hn,autoPlay:!0,loop:!0,muted:!0})]}):"setup_mac"===Fe?(0,sn.jsxs)("div",{className:"block-guide",onClick:Nt,children:[(0,sn.jsxs)("div",{className:"title-field",children:[(0,sn.jsx)("span",{children:"Recording failed to start"}),(0,sn.jsx)(cn.Tw,{style:{fontSize:"12px"},onClick:function(){F(!1)}})]}),(0,sn.jsx)("p",{children:"Please follow steps below to enable access so that you can continue recording."}),(0,sn.jsxs)("ol",{children:[(0,sn.jsxs)("li",{children:["Choose ",(0,sn.jsx)("span",{className:"bold",children:"Apple menu"})," >",(0,sn.jsx)("span",{className:"bold",children:" System Preferences"}),", click",(0,sn.jsx)("span",{className:"bold",children:"Security & Privacy"}),", then click  ",(0,sn.jsx)("span",{className:"bold",children:"Privacy"})]}),(0,sn.jsxs)("li",{children:["Select ",(0,sn.jsx)("span",{className:"bold",children:"Screen Recording"}),"(must), ",(0,sn.jsx)("span",{className:"bold",children:" Microphone"}),"  or",(0,sn.jsx)("span",{className:"bold",children:" Camera"})]}),(0,sn.jsx)("li",{children:"Select the checkbox next to the browser"}),(0,sn.jsx)("li",{children:"Restart your browser and retry"})]}),(0,sn.jsx)("img",{src:Fn})]}):"setup_win"===Fe?(0,sn.jsxs)("div",{className:"block-guide",onClick:Nt,children:[(0,sn.jsxs)("div",{className:"title-field",children:[(0,sn.jsx)("span",{children:"Recording failed to start"}),(0,sn.jsx)(cn.Tw,{style:{fontSize:"12px"},onClick:function(){F(!1)}})]}),(0,sn.jsx)("p",{children:"Please follow steps below to enable access so that you can continue recording."}),(0,sn.jsxs)("ol",{children:[(0,sn.jsxs)("li",{children:["Go to ",(0,sn.jsx)("span",{className:"bold",children:"Start"})," > ",(0,sn.jsx)("span",{className:"bold",children:"Settings"})," > ",(0,sn.jsx)("span",{className:"bold",children:"Privacy"})," > ",(0,sn.jsx)("span",{className:"bold",children:"Camera"})," or  ",(0,sn.jsx)("span",{className:"bold",children:"Microphone"})]}),(0,sn.jsxs)("li",{children:["Turn on ",(0,sn.jsx)("span",{className:"bold",children:"Allow apps to access your camera or microphone"}),"."]}),(0,sn.jsxs)("li",{children:["Turn on ",(0,sn.jsx)("span",{className:"bold",children:"Allow desktop apps to access your camera or microphone"})]}),(0,sn.jsx)("li",{children:"Restart your browser and retry"})]}),(0,sn.jsx)("img",{src:Un,alt:""})]}):void 0)}):"",(0,sn.jsx)(Wn.Z,{visible:K,onCancel:function(){Y(!1)},type:"web",onSignInFinish:function(){var t=sr.length<=0;Y(!1),t&&((sr=document.cookie.replace(/(?:(?:^|.*;\s*)screenshot_personal_uid=([^;]*).*$)|^.*$/,"$1"))&&sr.length>0?(e.loadUserInfo(),(0,rn.kA_)().then((function(e){g(e.token)}))):Y(!0))}}),(0,sn.jsx)(Rn.Z,{visible:q,onCancel:function(){J(!1),Ve("720")},type:$?"recordResolution":"uploadVideo"}),(0,sn.jsx)(Kn.Z,{visible:oe,onCancel:function(){ae(!1)},isOwner:e.isChannelOwner,workspaceID:e.workspaceID,type:"itemAdd",channelID:e.channelID})]})}));const Dr=function(){var e=(0,qt.Z)().get("extra"),t=null,n=null,r=null;return e&&(t=JSON.parse(atob(decodeURIComponent(e))),r=t.token,n=t.uid),[!(!n||!r),function(e){(0,rn.fvm)(n,r).then((function(t){1===t.data.code?window.location.reload():e&&e()}))},n]};n(62703);var Ar=n(273),Cr=n(42762),Pr=n(24421),kr=n(17563),Tr=n(1852),Lr=n.n(Tr),_r=n(28235),Rr=n(99096),Mr=n(79993),Zr=n(63173),Fr=n(41721);function Ur(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Gr=function(){var e=Ur((0,zt.useState)(!1),2),t=e[0],n=e[1];return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(An.Z,{title:"Send feedback",children:(0,sn.jsx)("div",{className:"header-feedback-btn",onClick:function(){return n(!0)},children:(0,sn.jsx)(cn.Ak,{})})}),(0,sn.jsx)(Fr.r,{visible:t,onCancel:function(){return n(!1)}})]})};var Br=n(32250);function Vr(e){return Vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vr(e)}function zr(){zr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new O(i||[]);return r(a,"_invoke",{value:w(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==Vr(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new j(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Wr(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}var Kr=(0,r.PH)(j.a.NOTIFICATION_LOADING),Yr=(0,r.PH)(j.a.NOTIFICATION_LOAD);var Qr=(0,r.PH)(j.a.NOTIFICATION_MARK_AS_READ);var qr=(0,r.PH)(j.a.NOTIFICATION_ALL_MARK_AS_READ);n(25562);var Jr=n(12028),Xr=n(38640),$r=n(56931);const ei=function(e){var t=e.notification,n=e.onMarkAsRead,r=e.closeDropdown,i=e.onMultipleMarkAsRead,o=JSON.parse(t.data),a=t.users,c=a[t.actorID],s=(0,Wt.s0)();function l(e){e&&(/http/.test(e)?window.open(e):s(e),"itemAddComment"===t.type?i(o.itemType,o.itemID):n(t.id),r())}var u=an()("notification-item",{new:"unread"===t.status});return(0,sn.jsxs)(Xr.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},layout:"position",transition:{duration:.2},className:u,children:[(0,sn.jsx)("div",{className:"avatar-area",children:"referralAccepted"===t.type?(0,sn.jsx)("div",{className:"icon refer-icon",children:(0,sn.jsx)($r.Z,{})}):(0,sn.jsx)(sn.Fragment,{children:c&&"teamTransfer"!==t.type?(0,sn.jsx)(Rr.Z,{username:c.fullName,size:40,avatarUrl:c.avatarURL}):(0,sn.jsx)("div",{className:"icon workspace-icon",children:(0,sn.jsx)(cn.MC,{})})})}),(0,sn.jsxs)("div",{className:"content-area",children:[function(){switch(t.type){case"workspaceItemAdded":return o.imagesCount||o.videosCount?(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," added"," ",(e=o.imagesCount,n=o.videosCount,r="",i="",e&&(r=e>1?e+" images":"1 image"),n&&(i=n>1?n+" videos":"1 vidoe"),r&&i?r+" and "+i:!r&&i?i:r&&!i?r:void 0)," to"," ",(0,sn.jsx)("span",{className:"link",onClick:function(){l("/workspace/"+t.channel.workspaceID+"/"+t.channel.id)},children:t.channel&&t.channel.name})]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," added a image to"," ",(0,sn.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]}),(0,sn.jsxs)("div",{className:"item",children:["video"===o.itemType?(0,sn.jsx)(cn.dG,{className:"video"}):(0,sn.jsx)(cn.K,{className:"image"}),(0,sn.jsx)("span",{className:"item-link",onClick:function(){l("/"+o.itemType+"/"+o.itemID)},children:o.itemTitle})]})]});case"workspaceChannelDeleted":return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"content",children:["Channel ",(0,sn.jsx)("span",{className:"highlight",children:o.channelName})," has been deleted."]})});case"workspaceChannelMemberQuit":return o.actorID===o.quitUserID?(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," has leave"," ",(0,sn.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]}):(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," has removed"," ",(0,sn.jsx)("span",{className:"name",children:a[o.quitUserID].fullName})," from"," ",(0,sn.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]});case"workspaceChannelMemberJoin":return(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," has joined"," ",(0,sn.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]});case"workspaceMemberJoin":return(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," has joined"," ",(0,sn.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})]});case"workspaceMemberQuit":return o.actorID===o.quitUserID?(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," has leave"," ",(0,sn.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})]}):(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," has removed"," ",(0,sn.jsx)("span",{className:"name",children:a[o.quitUserID].fullName})," from"," ",(0,sn.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})]});case"workspaceChannelNameChanged":return(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"highlight",children:o.oldName})," has been renamed to"," ",(0,sn.jsx)("span",{className:"link",onClick:function(){l("/workspace/"+o.workspaceID+"/"+o.channelID)},children:o.newName})]});case"workspaceNameChanged":return(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"highlight",children:o.oldName})," has been renamed to ",(0,sn.jsx)("span",{className:"highlight",children:o.newName})]});case"itemAddComment":return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName}),o.isMentioned?" mentioned you on ":" comment on your ",o.itemType," ",(0,sn.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})]}),(0,sn.jsxs)("div",{className:"comment-inner-item",onClick:function(){l("/"+o.itemType+"/"+o.itemID+(o.shareKey?"?key="+o.shareKey:""))},children:[(0,sn.jsxs)("div",{className:"comment-item-item",children:["video"===o.itemType?(0,sn.jsx)(cn.dG,{className:"video"}):(0,sn.jsx)(cn.K,{className:"image"}),(0,sn.jsx)("span",{className:"item-title",children:o.itemTitle})]}),(0,sn.jsx)("div",{className:"comment-item-content",dangerouslySetInnerHTML:{__html:o.content}})]})]});case"workspaceChannelItemReturn":return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"content",children:["Your ","video"===o.itemType?"video":"image"," has been returned to your ",(0,sn.jsx)("span",{className:"name",children:"My Items"})]}),(0,sn.jsxs)("div",{className:"item",children:["video"===o.itemType?(0,sn.jsx)(cn.dG,{className:"video"}):(0,sn.jsx)(cn.K,{className:"image"}),(0,sn.jsx)("span",{className:"item-link",onClick:function(){l("/"+o.itemType+"/"+o.itemID)},children:o.title})]})]});case"workspaceChannelTransferOwner":return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," has transferred the ownership of"," ",(0,sn.jsx)("span",{className:"highlight",children:t.channel&&t.channel.name})," ","to you"]})});case"workspaceMemberKicked":return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," removed you from"," ",(0,sn.jsx)("span",{className:"highlight",children:o.workspaceName}),"."]})});case"workspaceChannelKicked":return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," removed you from"," ",(0,sn.jsx)("span",{className:"highlight",children:o.channelName}),"."]})});case"workspacePayFailedForMember":return(0,sn.jsx)(sn.Fragment,{children:o.actorID===t.workspace.ownerUID+""||0===o.actorID?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"content",children:"Check/update your payment information to allow pending members to join your workspace and access all premium features."}),(0,sn.jsx)("div",{className:"go-to-upgrade",children:(0,sn.jsx)($t.Z,{type:"primary",ghost:!0,onClick:function(){l("/workspace/setting/"+t.workspaceID+"?tab=billing")},children:"Go to Billing & Plans"})})]}):(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"content",children:"You could not access all workspace premium features due to the failed payment. Remind your owner to update payment information."})})});case"workspacePayFailed":return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"content",children:o.content?(0,sn.jsx)(sn.Fragment,{children:o.content}):(0,sn.jsxs)(sn.Fragment,{children:["The lasted payment for"," ",(0,sn.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name})," ","failed. Please check/update your payment information."]})}),(0,sn.jsx)("div",{className:"go-to-upgrade",children:(0,sn.jsx)($t.Z,{type:"primary",ghost:!0,onClick:function(){l(o.link||"/workspace/setting/"+t.workspaceID+"?tab=billing")},children:o.buttonText?o.buttonText:"Go to Billing & Plans"})})]});case"personalPayFailed":return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"content",children:o.content}),o.link&&(0,sn.jsx)("div",{className:"go-to-upgrade",children:(0,sn.jsx)($t.Z,{type:"primary",ghost:!0,onClick:function(){l(o.link)},children:o.buttonText?o.buttonText:"Go to Billing & Plans"})})]});case"workspacePayForMember":return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," tried to join"," ",(0,sn.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name}),". Workspace Lite is limited to a maximum of 5 members. Upgrade to invite more members."]}),(0,sn.jsx)("div",{className:"go-to-upgrade",children:(0,sn.jsx)($t.Z,{type:"primary",ghost:!0,onClick:function(){l("/workspace/setting/"+t.workspaceID+"?tab=billing")},children:"Go to upgrade"})})]});case"workspacePayForItem":return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{className:"name",children:c.fullName})," tried to add a new item to"," ",(0,sn.jsx)("span",{className:"highlight",children:t.workspace&&t.workspace.name}),". Workspace has reached item limit. Upgrade to unlock more premium features."]}),(0,sn.jsx)("div",{className:"go-to-upgrade",children:(0,sn.jsx)($t.Z,{type:"primary",ghost:!0,onClick:function(){l("/workspace/setting/"+t.workspaceID+"?tab=billing")},children:"Go to upgrade"})})]});case"teamTransfer":return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsx)("div",{className:"content",children:"Your team has transferred to workspace."})});case"referralAccepted":return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"content",children:["Your friend ",(0,sn.jsx)("span",{className:"name",children:c.fullName})," has joined Awesome Screenshot via your invitation."]})});case"personalPayCancelAppleSub":return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("b",{children:"Please cancel your in-app purchase on the App Store to prevent a dual subscription."})," ","It seems like you recently joined a Workspace while subscribing to a Basic/Professional plan on Apple App Store."]}),(0,sn.jsx)("div",{className:"go-to-upgrade",children:(0,sn.jsx)($t.Z,{type:"primary",ghost:!0,onClick:function(){l("https://apps.apple.com/account/subscriptions")},children:"Go to App store"})})]})}var e,n,r,i}(),(0,sn.jsx)("div",{className:"time",children:(0,Le.Hu)(t.createdSec)})]}),(0,sn.jsx)("div",{className:"action-area",children:"unread"===t.status&&(0,sn.jsx)(An.Z,{title:"Mark as read",placement:"left",children:(0,sn.jsx)("div",{className:"action-btn",onClick:function(){n(t.id)},children:(0,sn.jsx)(cn.m9,{})})})})]})};var ti=n(4251);function ni(e){return ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ni(e)}function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){oi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oi(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ni(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ni(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ci(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ci(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var si={markNotificationAsRead:function(e){return function(t){t(Qr(e)),rn.Goc(e).then((function(){}))}},markAllNotificationAsRead:function(){return function(e){e(qr()),rn.Qrl()}}};const li=(0,o.$j)((function(e){return{notifications:e.notification.notifications,users:e.notification.users,isLoading:e.notification.isLoading,workspaceHash:e.workspace.myWorkspaceHash,channelHash:e.workspace.channelHash}}),si)((function(e){var t=e.markAllNotificationAsRead,n=e.markNotificationAsRead,r=e.notifications,i=e.users,o=e.channelHash,a=e.workspaceHash,c=e.isLoading,s=e.closeDropdown,l=ai((0,zt.useState)(!1),2),u=l[0],d=l[1],f=r.filter((function(e){return"unread"===e.status})),m=u?r:f;function p(e,t){r.filter((function(n){return"itemAddComment"===n.type&&"unread"===n.status&&JSON.parse(n.data).itemType===e&&JSON.parse(n.data).itemID===t})).map((function(e){return e.id})).forEach((function(e){n(e)}))}return(0,sn.jsx)("div",{className:"notification-panel",children:c?(0,sn.jsx)(Jt.Z,{}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"top-area",children:[(0,sn.jsx)("div",{className:"noti-title",children:"Notifications"}),(0,sn.jsxs)("div",{className:"read-switch",children:[(0,sn.jsx)("span",{className:"text",children:"Show read"})," ",(0,sn.jsx)(Jr.Z,{checked:u,onChange:function(e){d(e)},size:"small"})]})]}),(0,sn.jsx)("div",{className:"notification-container",children:m.length>0?(0,sn.jsx)("div",{className:"section",children:u?(0,sn.jsx)("div",{children:(0,sn.jsx)(ti.M,{initial:!1,children:r.map((function(e){return(0,sn.jsx)(ei,{notification:ii(ii({},e),{},{channel:o[e.channelID],workspace:a[e.workspaceID],users:i}),onMarkAsRead:n,onMultipleMarkAsRead:p,closeDropdown:s},e.id)}))})}):(0,sn.jsx)(ti.M,{initial:!1,children:f.map((function(e){return(0,sn.jsx)(ei,{notification:ii(ii({},e),{},{channel:o[e.channelID],workspace:a[e.workspaceID],users:i}),onMarkAsRead:n,onMultipleMarkAsRead:p,closeDropdown:s},e.id)}))})}):(0,sn.jsxs)("div",{className:"empty",children:[(0,sn.jsx)(cn.tL,{}),(0,sn.jsx)("div",{className:"info",children:u?"No notification yet":"No unread notifications"})]})}),f.length>0&&(0,sn.jsx)("div",{className:"mark-all-btn",onClick:t,children:(0,sn.jsx)("a",{children:"Mark all as read"})})]})})}));function ui(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return di(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return di(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function di(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fi={loadNotification:function(e,t){return function(){var n,r=(n=zr().mark((function n(r){return zr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e||r(Kr()),n.abrupt("return",rn.J1C().then((function(e){e&&(e.workspaces&&r((0,Qt.aA)(e)),r(Yr(e)),null==t||t())})));case 2:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){Wr(o,r,i,a,c,"next",e)}function c(e){Wr(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()}};const mi=(0,o.$j)((function(e){return{notifications:e.notification.notifications}}),fi)((function(e){var t=e.loadNotification,n=e.notifications,r=(0,zt.useRef)(null),i=ui((0,zt.useState)(!1),2),o=i[0],a=i[1],c=ui((0,zt.useState)(!1),2),s=c[0],l=c[1];(0,zt.useEffect)((function(){return window.notificationTimer=function e(){return t(!0),setTimeout((function(){window.notificationTimer=e()}),6e4)}(),function(){window.notificationTimer&&(clearTimeout(window.notificationTimer),window.notificationTimer=null)}}),[]);var u=n.filter((function(e){return"unread"===e.status})),d=(0,Br.D)(u.length);(0,zt.useEffect)((function(){u.length>0&&u.length>d&&l(!0)}),[u.length]);var f=(0,zt.useCallback)((function(){a(!1)}),[]);return(0,sn.jsx)("div",{ref:r,children:(0,sn.jsx)(Pn.Z,{visible:o,onVisibleChange:a,overlay:(0,sn.jsx)(li,{closeDropdown:f}),getPopupContainer:function(){return r.current},trigger:["click"],destroyPopupOnHide:!0,children:(0,sn.jsxs)("div",{className:"header-notification-btn",children:[(0,sn.jsx)("div",{className:s?"icon-wrapper active":"icon-wrapper",onAnimationEnd:function(){return l(!1)},children:(0,sn.jsx)(cn.sh,{})}),u.length>0&&(0,sn.jsx)("div",{className:"num-badge",children:u.length>99?"99+":u.length})]})})})}));const pi=function(){var e=(0,Wt.s0)();return(0,sn.jsx)("div",{className:"header-reward-btn",children:(0,sn.jsx)("div",{className:"header-reward-btn-inner",onClick:function(){e("/invite")},children:(0,sn.jsx)($r.Z,{})})})};var hi=n(76570),vi=n(27484),yi=n.n(vi),gi=n(36724),bi=n(11728),ji=n(8748),wi=n(10978);function xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Si(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Si(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ii={loadSearchData:wi.C8,loadSearchItems:wi.$3};const Oi=(0,o.$j)((function(e){return{allItems:e.search.items,isMetaLoaded:e.search.isMetaLoaded,isMetaLoading:e.search.isLoading}}),Ii)((function(e){var t=e.allItems,n=e.isMetaLoaded,r=e.loadSearchData,i=e.loadSearchItems,o=e.isMetaLoading,a=(0,Wt.UO)(),c=xi((0,zt.useState)([]),2),s=c[0],l=c[1],u=xi((0,zt.useState)((function(){return a.query?decodeURIComponent(a.query):""})),2),d=u[0],f=u[1],m=xi((0,zt.useState)(-1),2),p=m[0],h=m[1],v=xi((0,zt.useState)(!1),2),y=v[0],g=v[1],b=(0,zt.useRef)(null),j=(0,zt.useRef)(null),w=(0,Wt.TH)(),x=(0,Wt.s0)();(0,zt.useEffect)((function(){var e;return n||a.query||(e=setTimeout((function(){r()}),1e3)),function(){return clearTimeout(e)}}),[]),(0,zt.useEffect)((function(){f(a.query?decodeURIComponent(a.query):"")}),[a.query]),(0,zt.useEffect)((function(){S(d)}),[d,t]);var S=function(e){if(h(-1),e){var n=new gi.Z(t,{keys:["title","fullname"],useExtendedSearch:!0}).search("'"+e).map((function(e){return e.item}));l(n)}else l([])},I=function(){var e=s[p];if(e){var t,n="/".concat(e.itemType,"/").concat(e.id);e.shareKey&&("folder"===e.itemType?n="s"+n+"/"+e.shareKey:n+="?key="+e.shareKey),x(n,{state:{inApp:!0}}),null===(t=j.current)||void 0===t||t.blur(),f("")}else{var r;null===(r=j.current)||void 0===r||r.blur();var i=encodeURIComponent(d);x("/search/".concat(i))}},O=function(e){switch(e){case"video":return(0,sn.jsx)(cn.dG,{});case"folder":return(0,sn.jsx)(cn.RO,{});case"image":return(0,sn.jsx)(cn.K,{})}},E=(0,zt.memo)((function(e){var t=e.index,n=e.style,r=s[t],i=an()("list-item",{hover:p===t,shared:r.fullname});return(0,sn.jsx)("div",{style:n,children:(0,sn.jsxs)("div",{className:i,onMouseEnter:function(){return h(t)},onMouseLeave:function(){return h(-1)},onMouseDown:I,children:[(0,sn.jsx)("div",{className:"icon ".concat(r.itemType),children:O(r.itemType)}),(0,sn.jsxs)("div",{className:"title-area",children:[(0,sn.jsx)("span",{className:"title",dangerouslySetInnerHTML:{__html:(0,Le.CH)(d,r.title)},title:r.title}),r.fullname&&(0,sn.jsx)("div",{className:"author-name",dangerouslySetInnerHTML:{__html:(0,Le.CH)(d,r.fullname)}})]}),(0,sn.jsx)("span",{className:"time",children:yi().unix(r.createdSec).format("ll")})]})})}),ji.wy);E.displayName="Row";var N={height:s.length>0?54*s.length+1+"px":"auto"},D=54*s.length>344;return(0,sn.jsxs)("div",{className:"header-search",children:[(0,sn.jsx)(hi.Z,{}),(0,sn.jsx)(tn.Z,{bordered:!1,placeholder:"Search",onKeyDown:function(e){var t,n,r=0;switch(e.key){case"ArrowDown":e.preventDefault(),r=p+1>s.length-1?0:p+1,h(r),null===(t=b.current)||void 0===t||t.scrollToItem(r);break;case"ArrowUp":e.preventDefault(),r=p-1<0?s.length-1:p-1,h(r),null===(n=b.current)||void 0===n||n.scrollToItem(r);break;case"Enter":if(e.preventDefault(),!d)return;decodeURIComponent(w.pathname)==="/search/"+d?i(d):I()}},onChange:function(e){var t=e.target.value;f(t)},value:d,onFocus:function(){return g(!0)},onBlur:function(){g(!1),h(-1)},ref:j}),(0,sn.jsx)(ti.M,{children:d&&y&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Xr.E.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.2,delay:.1},className:"close-btn",onMouseDown:function(){f("")},children:(0,sn.jsx)(cn.Tw,{})}),(0,sn.jsx)(Xr.E.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},transition:{duration:.2},className:"result-list ".concat(D?"scrollable":""),style:N,children:o?(0,sn.jsx)(Jt.Z,{}):(0,sn.jsx)(sn.Fragment,{children:s.length>0?(0,sn.jsx)(bi.Z,{children:function(e){var t=e.height,n=e.width;return(0,sn.jsx)(ji.t7,{className:"list",height:t,itemCount:s.length,itemSize:54,width:n,ref:b,children:E})}}):(0,sn.jsxs)("div",{className:"no-result",children:['No matches found for "',(0,sn.jsx)("b",{children:d}),'"']})})})]})})]})}));function Ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ni(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Di={loadUserInfo:Yt.Lk};const Ai=(0,o.$j)((function(e){return{user:e.user}}),Di)((function(e){var t,n=Ei((0,zt.useState)(!0),2),r=n[0],i=n[1],o=Ei((0,zt.useState)("true"!==localStorage.show_new_workspace),2),c=(o[0],o[1],Ei((0,zt.useState)(!1),2)),s=c[0],l=c[1],u=(0,Wt.s0)(),d=(0,_r.IN)(),f=((0,Tr.useMediaQuery)({query:"(max-width: 1068px)"}),(0,qt.Z)());(0,zt.useEffect)((function(){e.loadUserInfo();var t=setTimeout((function(){(0,Le.LB)()||!Mr.Z.isChrome()||Mr.Z.isMobile()||i(!1)}),1e3);return function(){return clearTimeout(t)}}),[]),(0,zt.useEffect)((function(){l(!1)}),[d]);var m,p,h=e.user,v="item"===e.type,y=d.pathname,g=y.startsWith("/settings")&&(null===(t=d.state)||void 0===t?void 0:t.inApp),b=y.endsWith("/recorder"),j=(/video\//.test(y)||/image\//.test(y)||g||b||/veditor\//.test(y))&&!f.get("key")||d.state&&d.state.inApp,w=!f.get("key"),x=h.premium.currentPlan?(0,Le.pQ)(h.premium.currentPlan.PlanName):"",S=h.info.fullName?(0,sn.jsx)(kn.Z,{children:(0,sn.jsxs)(kn.Z.ItemGroup,{title:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"user-info",children:[(0,sn.jsx)(Rr.Z,{username:h.info.fullName,avatarUrl:h.info.avatarURL,size:"36",plan:x,bordered:!0}),(0,sn.jsxs)("div",{className:"info",children:[(0,sn.jsxs)("div",{className:"name",children:[(0,sn.jsx)(Zr.Z,{text:h.info.fullName,width:"200px"}),(0,sn.jsx)("div",{className:"plan-badge ".concat(x),children:x})]}),(0,sn.jsx)("div",{className:"email",children:h.info.mail})]})]}),"Pro"!==x&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Pr.Z,{className:"inner-divider"}),(0,sn.jsxs)("div",{className:"progress",children:[(0,sn.jsxs)("div",{className:"progress-inner",children:["Free"===x&&(0,sn.jsxs)("div",{className:"progress-item",children:[(0,sn.jsx)("div",{className:"type-icon",children:(0,sn.jsx)(cn.K,{})}),(0,sn.jsxs)("div",{className:"item-progress",children:[(0,sn.jsxs)("div",{className:"type-info",children:[(0,sn.jsx)("div",{className:"type-name",children:"Images"}),(0,sn.jsxs)("div",{className:"type-num",children:[h.counts.image,"/",h.counts.imageLimitation]})]}),(0,sn.jsx)("div",{className:"progress-bar",children:(0,sn.jsx)(Dn.Z,{percent:h.counts.image/h.counts.imageLimitation*100,strokeWidth:6,showInfo:!1})})]})]}),(0,sn.jsxs)("div",{className:"progress-item",children:[(0,sn.jsx)("div",{className:"type-icon",children:(0,sn.jsx)(cn.dG,{})}),(0,sn.jsxs)("div",{className:"item-progress",children:[(0,sn.jsxs)("div",{className:"type-info",children:[(0,sn.jsx)("div",{className:"type-name",children:"Videos"}),(0,sn.jsxs)("div",{className:"type-num",children:[h.counts.video,"/",h.counts.videoLimitation]})]}),(0,sn.jsx)("div",{className:"progress-bar",children:(0,sn.jsx)(Dn.Z,{percent:h.counts.video/h.counts.videoLimitation*100,strokeWidth:6,showInfo:!1})})]})]})]}),(0,sn.jsx)($t.Z,{type:"primary",block:!0,onClick:function(){u("/pricing?from=web_user_menu")},icon:(0,sn.jsx)(cn.CE,{}),children:"Upgrade"})]})]})]}),children:[(0,sn.jsx)(kn.Z.Divider,{}),(0,sn.jsx)(kn.Z.Item,{children:(0,sn.jsx)(a.rU,{to:"/settings/profile",state:{inApp:!0},children:"Settings"})},"setting"),(0,sn.jsx)(kn.Z.Item,{children:(0,sn.jsxs)(a.rU,{to:"/settings/appearance",children:["Appearance",(0,sn.jsx)("div",{className:"badge",children:"New"})]})},"appearence"),(0,sn.jsx)(kn.Z.Item,{children:(0,sn.jsx)("a",{href:"https://support.awesomescreenshot.com/hc/en-us",target:"_blank",rel:"noreferrer",children:"Help center"})},"help"),(0,sn.jsx)(kn.Z.Item,{children:(0,sn.jsx)("a",{href:"https://blog.awesomescreenshot.com",target:"_blank",rel:"noreferrer",children:"Blog"})},"blog"),(0,sn.jsx)(kn.Z.Divider,{}),(0,sn.jsx)(kn.Z.Item,{children:(0,sn.jsx)("a",{href:"/web/user/logout",children:"Log out"})},"logout")]})}):null,I=an()("header",{"has-back-btn":j});return(0,sn.jsxs)("div",{className:I,children:[w&&!j&&(0,sn.jsxs)(Lr(),{maxWidth:768,children:[(0,sn.jsx)("div",{className:"drawer-btn",children:(0,sn.jsx)(Cr.Z,{onClick:function(){l(!0)}})}),(0,sn.jsx)(Ar.Z,{placement:"left",closable:!1,className:"nav-drawer",onClose:function(){l(!1)},visible:s,children:(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("ul",{className:"sidebar-nav",children:[(0,sn.jsx)("li",{children:(0,sn.jsxs)(a.OL,{exact:!0,to:"/my_items",children:[(0,sn.jsx)(cn.M,{}),"My Items"]})}),(0,sn.jsx)("li",{children:(0,sn.jsxs)(a.OL,{exact:!0,to:"/shared_with_me",children:[(0,sn.jsx)(cn.M,{}),"Shared with me"]})}),(0,sn.jsx)("li",{children:(0,sn.jsxs)(a.OL,{to:"/all_videos",children:[(0,sn.jsx)(cn.dG,{}),"All Videos"]})}),(0,sn.jsx)("li",{children:(0,sn.jsxs)(a.OL,{to:"/all_images",children:[(0,sn.jsx)(cn.K,{}),"All Images"]})}),(0,sn.jsx)("li",{children:(0,sn.jsxs)(a.OL,{to:"/trash",children:[(0,sn.jsx)(cn.XH,{}),"Trash"]})})]})})})]}),(0,sn.jsx)("div",{className:"logo-area",children:j?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"back-btn",onClick:function(){d.state?d.state.inApp?u(-1):d.state.lastPath&&u(d.state.lastPath):u("/my_items")},children:(0,sn.jsx)(cn.e0,{})}),(0,sn.jsx)("div",{className:"logo",children:(0,sn.jsx)("img",{src:"",alt:""})})]}):(0,sn.jsx)("a",{className:"logo",href:"/",children:(0,sn.jsx)("img",{src:"",alt:""})})}),(v||j&&!b)&&(0,sn.jsxs)(Lr(),{minWidth:768,children:[(0,sn.jsx)("div",{className:"sep"}),(0,sn.jsx)("div",{className:"search-area",children:(0,sn.jsx)(Oi,{})})]}),(0,sn.jsxs)("div",{className:"header-action",children:[(m=kr.parse(d.search),p=!(r||h.info.uid||void 0===m.key||!Mr.Z.isChrome()||Mr.Z.isMobile()),setTimeout((function(){p&&gtag&&gtag("event","install button show in header",{event_category:"install extension"})}),1e3),p?(0,sn.jsx)($t.Z,{type:"primary",className:"install-button",onClick:function(){return(0,Le.nV)("video-shared-header-click")},children:"Get AwesomeScreenshot for free!"}):""),h.info.fullName?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Pn.Z,{overlay:S,placement:"bottomRight",overlayClassName:"user-menu",trigger:["click"],children:(0,sn.jsx)("div",{className:"user-avatar-area",children:(0,sn.jsx)(Rr.Z,{size:"32",username:h.info?h.info.fullName:"",avatarUrl:h.info?h.info.avatarURL:"",block:!0,plan:x})})}),(0,sn.jsxs)(Lr(),{minWidth:768,children:[(0,sn.jsx)(pi,{}),(0,sn.jsx)(mi,{}),(0,sn.jsx)(Gr,{}),!1]})]}):""]}),h.info.fullName?(0,sn.jsxs)("ul",{className:"header-nav",children:[!v&&(0,sn.jsx)("li",{children:(0,sn.jsx)(a.OL,{className:function(e){return e.isActive?"active":""},to:"/my_items",children:"My Items"})}),(0,sn.jsx)("li",{children:(0,sn.jsx)(a.OL,{className:function(e){return e.isActive?"active":""},to:"/pricing?from=topNav",children:"Pricing"})})]}):"",!1]})}));function Ci(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pi(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ki=function(e){var t=Ci(Dr(),3),n=t[0],r=t[1],i=t[2],o=u.Z.get("screenshot_personal_uid");return e.private?o?n&&i!==o?(r((function(){window.location.href="/signin"})),""):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Ai,{type:"default"}),(0,sn.jsx)(Wt.j3,{})]}):(n?r((function(){window.location.href="/signin"})):window.location.href="/signin",""):n&&o!==i?(r((function(){window.location.href="/signin"})),""):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Ai,{type:"default"}),(0,sn.jsx)(Wt.j3,{})]})};n(92546);var Ti=n(97183),Li=n(57119),_i=n(87802),Ri={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"};function Mi(e,t,n){if(!e||!t)return{display:"none"};var r=t.x,i=t.y,o=r+(n.x-e.x),a=i+(n.y-e.y);return{transform:"translate(".concat(o,"px, ").concat(a,"px)")}}const Zi=function(){var e=(0,_i.f)((function(e){return{item:e.getItem(),initialClientOffset:e.getInitialClientOffset(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})),t=e.isDragging,n=e.item,r=e.initialClientOffset,i=e.initialOffset,o=e.currentOffset;if(!t)return null;var a=function(e){if("channel"===e.from){var t=e.data.map((function(e){return"folder"===e.itemType?e:e.info})),n=t.filter((function(e){return"image"===e.itemType})),r=t.filter((function(e){return"video"===e.itemType})),i=t.filter((function(e){return"folder"===e.itemType}));return{images:n,videos:r,folders:i,items:t}}var o=e.data,a=o.filter((function(e){return"image"===e.itemType})),c=o.filter((function(e){return"video"===e.itemType})),s=o.filter((function(e){return"folder"===e.itemType}));return{images:a,videos:c,folders:s,items:o}}(n),c=an()("custom-drag-layer-block",{multiple:n.data.length>1});return(0,sn.jsx)("div",{className:"custom-drag-layer",style:Ri,children:(0,sn.jsx)("div",{className:c,style:Mi(i,o,r),children:n.data.length>1?(0,sn.jsxs)(sn.Fragment,{children:[!!a.folders.length&&(0,sn.jsxs)("div",{className:"layer-item folder",children:[(0,sn.jsx)("div",{className:"icon",children:(0,sn.jsx)(cn.RO,{})}),"Folders",(0,sn.jsx)("div",{className:"count",children:a.folders.length})]}),!!a.images.length&&(0,sn.jsxs)("div",{className:"layer-item image",children:[(0,sn.jsx)("div",{className:"icon",children:(0,sn.jsx)(cn.K,{})}),"Images",(0,sn.jsx)("div",{className:"count",children:a.images.length})]}),!!a.videos.length&&(0,sn.jsxs)("div",{className:"layer-item video",children:[(0,sn.jsx)("div",{className:"icon",children:(0,sn.jsx)(cn.dG,{})}),"Videos",(0,sn.jsx)("div",{className:"count",children:a.videos.length})]})]}):(0,sn.jsxs)("div",{className:"layer-item ".concat(a.items[0].itemType),children:[(0,sn.jsx)("div",{className:"icon",children:function(e){switch(e){case"video":return(0,sn.jsx)(cn.dG,{});case"folder":return(0,sn.jsx)(cn.RO,{});case"image":return(0,sn.jsx)(cn.K,{})}}(a.items[0].itemType)}),(0,sn.jsx)("span",{className:"title",children:a.items[0].title})]})})})};var Fi=n(82452),Ui=n(65880),Hi=n(85469);function Gi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||Bi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bi(e,t){if(e){if("string"==typeof e)return Vi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vi(e,t):void 0}}function Vi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zi(e){var t=e.collapsed,n=(0,_r.TL)(),r=(0,Fi.L)({accept:Hi.JT.ITEM,drop:function(e,t){n((0,Ui.J1)("0",e.data)),(0,Le.I1)("move to folder",{event_category:"folder"})},canDrop:function(e,t){if("channel"===e.from)return!1;var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Bi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(e.data);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("folder"===i.itemType&&"0"===i.parentID)return!1;if("0"===i.folderID)return!1}}catch(e){r.e(e)}finally{r.f()}return!0},collect:function(e){return{isOver:e.isOver()}}}),i=Gi(r,2),o=i[0].isOver,c=i[1],s=an()("my-item-sidebar-link",{"is-over":o}),l=an()("my-item-sidebar-link-wrapper",{collapsed:t});return(0,sn.jsx)("div",{className:l,children:(0,sn.jsx)(An.Z,{title:t?"My items":"",placement:"right",children:(0,sn.jsxs)(a.OL,{className:s,to:"/my_items",ref:c,children:[(0,sn.jsx)(cn.fK,{}),(0,sn.jsx)("span",{className:"nav-title",children:"My items"})]})})})}const Wi=(0,zt.memo)(zi);function Ki(e){var t=e.loadSharedItemsNotification,n=e.isShowNotify;(0,zt.useEffect)((function(){t()}),[]);var r=an()("shared-sidebar-link",{notify:n});return(0,sn.jsxs)(a.OL,{className:r,to:"/shared_with_me",children:[(0,sn.jsx)(cn.$g,{}),(0,sn.jsx)("span",{className:"nav-title",children:"Shared with me"})]})}var Yi={loadSharedItemsNotification:n(33179).uH};const Qi=(0,o.$j)((function(e){return{isShowNotify:e.shared.newCommentList.length}}),Yi)((0,zt.memo)(Ki));var qi=n(1351),Ji=n(76629);function Xi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const eo=function(e){var t=Xi((0,zt.useState)(!1),2),n=t[0],r=t[1];return(0,sn.jsx)(An.Z,{title:e.collapsed?"Expand":"Collapse",onVisibleChange:r,onClick:function(){r(!1)},placement:"right",visible:n,children:(0,sn.jsx)("div",{className:"collapse-btn",onClick:e.toggleCollapse,children:e.collapsed?(0,sn.jsx)(qi.Z,{}):(0,sn.jsx)(Ji.Z,{})})})};var to=n(73387);function no(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ro(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var io={moveToTrash:Ui.B0,deleteSearchItem:wi.lD};const oo=(0,o.$j)(null,io)((function(e){var t=e.moveToTrash,n=e.deleteSearchItem,r=no((0,to.Z)(null,(function(e){t(e.data),n(e.data)})),2),i=r[0],o=r[1],c=an()("trash-sidebar-link",{"is-over":i});return(0,sn.jsxs)(a.OL,{className:c,to:"/trash",ref:o,children:[(0,sn.jsx)(cn.aN,{}),(0,sn.jsx)("span",{className:"nav-title",children:"Trash"})]})}));var ao=n(76932),co=n(83539),so=n(2294),lo=n(44539);function uo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mo={moveToTrash:Ui.B0,deleteSearchItem:wi.lD,restoreItems:co._x,deleteItems:co.CV,clearSelectedItem:se.jh,removeChannelFolder:d.ni,deleteChannelItem:d.FO};function po(e){var t=e.selectedItems,n=e.multiSelectMeta,r=e.selectedTrashItems,i=e.moveToTrash,o=(e.deleteChannelItem,e.deleteSearchItem),a=e.restoreItems,c=e.deleteItems,s=e.clearSelectedItem,l=(e.removeChannelFolder,uo((0,zt.useState)(!1),2)),u=l[0],d=l[1],f=uo((0,zt.useState)(!1),2),m=f[0],p=f[1],h=(0,zt.useRef)(null);(0,ao._6)((function(e){return"Escape"===e.key&&s()}));var v=an()("multi-select-action-bar",e.className),y=n&&"channel"===n.from;return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(ti.M,{children:t.length+r.length>0&&(0,sn.jsxs)(Xr.E.div,{initial:{y:60},transition:{type:"tween",duration:.2},animate:{y:0,boxShadow:"0px 1px 8px 0px rgba(0, 0, 0, 0.31)"},exit:{y:60},className:v,children:[(0,sn.jsxs)("div",{style:{display:"flex",gap:"10px",width:"100%"},children:[(0,sn.jsxs)("span",{className:"selected-num",children:["Selected ",(0,sn.jsx)("span",{className:"number",children:t.length+r.length})]}),0===r.length&&(0,sn.jsx)("span",{className:"tip",children:"shift + click to start multiple select, esc to deselect"})]}),(0,sn.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[(0,sn.jsxs)("div",{className:"action",children:[t.length>0&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)($t.Z,{onClick:function(){y?((0,Le.fr)(t),h.current.open(t,{from:"channel",idParams:n.idParams}).then((function(){return s()}))):d(!0)},icon:(0,sn.jsx)(cn.r_,{}),children:"Move"}),!y&&(0,sn.jsx)($t.Z,{icon:(0,sn.jsx)(cn.XH,{}),onClick:function(){Le.C2.confirm({title:"Remove item",content:"Are you sure you want to remove the selected item(s)?",okText:"Move to Trash",okType:"danger",autoFocusButton:null}).then((function(){i(t),o(t)}))},children:"Remove"})]}),r.length>0&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)($t.Z,{onClick:function(){a(r,(function(e){1201===e.code&&p(!0)}))},children:[(0,sn.jsx)(cn.fR,{}),"Restore"]}),(0,sn.jsxs)($t.Z,{onClick:function(){Nn.Z.confirm({title:"Are you sure you want to permanently delete the selected item(s)?",onOk:function(){c(r)},okText:"Delete",okType:"danger",autoFocusButton:null})},children:[(0,sn.jsx)(cn.XH,{}),"Delete"]})]})]}),(0,sn.jsx)("div",{className:"close-btn",onClick:function(){return s()},children:(0,sn.jsx)(cn.Tw,{})})]})]})}),(0,sn.jsx)(Rn.Z,{visible:m,onCancel:function(){return p(!1)},type:"trash-restore"}),(0,sn.jsx)(so.Z,{visible:u&&t.length+r.length>0,onCancel:function(){return d(!1)},des:"both",items:t}),(0,sn.jsx)(lo.p,{ref:h})]})}const ho=(0,o.$j)((function(e){return{selectedItems:e.multipleSelect.selectedItems,selectedTrashItems:e.multipleSelect.selectedTrashItems,multiSelectMeta:e.multipleSelect.meta}}),mo)((0,zt.memo)(po));var vo=n(59923),yo=n(37638);var go={hideItem:et.sQ,nextAction:et.G2,prevAction:et.mE,resetBrowsing:et.vf};const bo=(0,o.$j)((function(e){return{visible:e.ui.itemDetailVisible,itemList:e.ui.itemList,currentIndex:e.ui.currentItemIndex}}),go)((function(e){var t=e.visible,n=(e.itemType,e.itemID,e.hideItem),r=(e.itemShareKey,e.resetBrowsing),i=e.itemList,o=e.currentIndex,a=e.nextAction,c=e.prevAction,s=an()("item-detail-wrapper",{active:t}),l=an()("item-detail-wrapper-bg",{active:t}),u=((0,Wt.s0)(),(0,Br.D)(t));function d(e){null==e||e.stopPropagation(),n()}function f(e){null==e||e.stopPropagation(),v||a()}function m(e){null==e||e.stopPropagation(),h||c()}(0,zt.useEffect)((function(){return function(){r()}}),[]);var p=i[o],h=0===o,v=o===i.length-1;return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:l,onClick:d,children:t&&(0,sn.jsxs)("div",{className:"action-btn-container",children:[h?(0,sn.jsx)("div",{className:"action-btn prev-btn ".concat(h&&"disabled"),onClick:m,children:(0,sn.jsx)(cn.Dn,{})}):(0,sn.jsx)(An.Z,{title:"".concat(h?"":"Prev"),mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"action-btn prev-btn ".concat(h&&"disabled"),onClick:m,children:(0,sn.jsx)(cn.Dn,{})})}),v?(0,sn.jsx)("div",{className:"action-btn next-btn ".concat(v&&"disabled"),onClick:f,children:(0,sn.jsx)(cn.Dn,{})}):(0,sn.jsx)(An.Z,{title:"".concat(v?"":"Next"),mouseLeaveDelay:0,children:(0,sn.jsx)("div",{className:"action-btn next-btn ".concat(v&&"disabled"),onClick:f,children:(0,sn.jsx)(cn.Dn,{})})}),(0,sn.jsx)(An.Z,{title:"Close",children:(0,sn.jsx)("div",{className:"action-btn close-btn",onClick:d,children:(0,sn.jsx)(cn.Tw,{})})})]})}),(0,sn.jsx)("div",{className:s,children:t&&(0,sn.jsx)("div",{children:"video"===p.itemType?(0,sn.jsx)(yo.default,{id:p.id,history,shareKey:p.shareKey,isModal:!0,hideModal:d,isBrowsing:u},p.id):(0,sn.jsx)(vo.default,{isModal:!0,id:p.id,shareKey:p.shareKey,hideModal:d,isBrowsing:u},p.id)})})]})}));var jo=n(39883);function wo(e){var t=e.referData;(0,zt.useEffect)((function(){t&&(!function(){var e=200,t={origin:{y:.7}};function n(n,r){(0,jo.Z)(Object.assign({},t,r,{particleCount:Math.floor(e*n),zIndex:3e3}))}n(.25,{spread:26,startVelocity:55}),n(.2,{spread:60}),n(.35,{spread:100,decay:.91,scalar:.8}),n(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),n(.1,{spread:120,startVelocity:45})}(),(0,Le.I1)("Show congrats modal"))}),[]);var n=function(){var e=_n().name;return"Chrome"===e?/Edg/.test(_n().ua)?"Edge":"Chrome":"Firefox"===e?"Firefox":"Chrome"};return(0,sn.jsx)("div",{className:"congrates-invite-panel",children:t?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsxs)("div",{className:"info",children:[(0,sn.jsx)("div",{className:"icon",children:"🎉"}),(0,sn.jsxs)("div",{className:"text",children:[(0,sn.jsx)("div",{className:"title",children:"Congrats!"}),(0,sn.jsxs)("div",{className:"text-content",children:["You got"," ",(0,sn.jsxs)("b",{children:["both7day"===t.referral.giftType?"one week":"two weeks"," ","of Professional plan"]})," ","via your friend’s referral link!"]}),(0,sn.jsxs)("div",{className:"expire-date",children:["Enjoy it until"," ",yi()(1e3*t.gift.expireSec).format("ll")]})]})]}),(0,sn.jsxs)("div",{className:"extension-box",children:[(0,sn.jsx)("div",{className:"ext-title",children:"Add Awesome Screenshot to Chrome"}),(0,sn.jsxs)("div",{className:"numbers-container",children:[(0,sn.jsxs)("div",{className:"number-item",children:[(0,sn.jsx)("div",{className:"num",children:"10+"}),(0,sn.jsx)("div",{className:"num-desc",children:"10 years in business"})]}),(0,sn.jsxs)("div",{className:"number-item",children:[(0,sn.jsx)("div",{className:"num",children:"3M+"}),(0,sn.jsx)("div",{className:"num-desc",children:"Over 3 million users globally"})]}),(0,sn.jsxs)("div",{className:"number-item",children:[(0,sn.jsx)("div",{className:"num",children:"24K+"}),(0,sn.jsx)("div",{className:"num-desc",children:"24,000+Chrome store reviews"})]})]}),(0,sn.jsxs)("div",{className:"ext-add-btn",children:[(0,sn.jsxs)("div",{className:"add-to-chrome-btn",onClick:function(){var e="",t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2,r=n();e="Chrome"===r?"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj":"Edge"===r?"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo":"Firefox"===r?"https://addons.mozilla.org/en-US/firefox/addon/screenshot-capture-annotate/":"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj",window.open(e,"Install Awesome Screenshot",t),(0,Le.I1)("Click add to chrome btn on congrats modal")},children:[(0,sn.jsx)("div",{className:"browser-icon chrome"}),"Add to ",(0,sn.jsx)("span",{className:"browser-name",children:n()}),(0,sn.jsx)("span",{className:"free-tip",children:"It's free!"})]}),(0,sn.jsxs)("div",{className:"supports",children:["Support:",(0,sn.jsx)("div",{className:"support-browser chrome"}),(0,sn.jsx)("div",{className:"support-browser edge"}),(0,sn.jsx)("div",{className:"support-browser safari"}),(0,sn.jsx)("div",{className:"support-browser firefox"})]})]})]})]}):(0,sn.jsxs)("div",{className:"error-info",children:[(0,sn.jsx)("div",{className:"icon",children:"😆"}),(0,sn.jsx)("p",{children:"Hey~You have already registered on Awesome Screenshot."})]})})}const xo=function(e){var t=e.visible,n=e.onCancel,r=e.referData;return(0,sn.jsx)(Nn.Z,{footer:null,maskClosable:!1,destroyOnClose:!0,className:"active-gift-modal common-modal",closeIcon:(0,sn.jsx)(cn.Tw,{style:{fontSize:"12px"}}),visible:t,onCancel:n,width:740,children:(0,sn.jsx)(wo,{referData:r})})};var So=n(51594),Io=(n(67004),n(19181)),Oo=(n(41226),n(14277)),Eo=n(50308),No=n.n(Eo),Do=n(83417),Ao=n(20722);function Co(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Po(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ko=(0,o.$j)((function(e){return{userInfo:e.user.info}}),{moveToChannel:d.sK,moveIntoChannelFolder:d.wN,loadWorkspaceInfo:Qt.yQ,clearSelectedItem:se.jh});const To=(0,zt.memo)(ko((function(e){var t=e.workspaceId,n=e.channel,r=e.userInfo,i=e.clearSelectedItem,o=e.moveToChannel,c=e.loadWorkspaceInfo,s=e.moveIntoChannelFolder,l=e.closePopover,u=Co((0,Do.Z)(),5),d=u[0],f=u[1],m=u[2],p=u[3],h=u[4],v=(0,Fi.L)({accept:Hi.JT.ITEM,drop:function(e){if(i(),"channel"===e.from)return void(0,Ao.WZ)(s({workspaceID:t,channelID:n.id},e.data,(function(e){h(e),f(!0)})),{okMsg:"Move successfully.",errMsg:"string"==typeof e?e:"Move failed."}).then((function(){c(e.idParams.workspaceID)})).catch(No());o({workspaceID:t,channelID:n.id},e.data,(function(e){h(e),f(!0)}))},collect:function(e){return{isOver:!!e.isOver()}},canDrop:function(e){if("channel"===e.from){if(e.data.some((function(e){return"folder"===e.itemType})))return!1;var t=e.idParams;if(t.workspaceID+t.channelID+(t.folderID||"0")===n.workspaceID+n.id+"0")return!1;var i=r.uid;if(e.data.filter((function(e){return"folder"!==e.itemType})).some((function(e){return e.userID!==i})))return!1}return!0}}),y=Co(v,2),g=y[0].isOver,b=y[1],j=an()("channel-list-item",{"is-over":g});return(0,sn.jsxs)(Xr.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},layout:"position",children:[(0,sn.jsxs)(a.OL,{to:"/workspace/".concat(t,"/").concat(n.id),className:j,ref:b,onClick:l,children:[(0,sn.jsx)(cn.MC,{}),(0,sn.jsx)(Zr.Z,{text:n.name,width:"calc(100% - 32px)"})]}),(0,sn.jsx)(Kn.Z,{visible:d,onCancel:m,isOwner:p,workspaceID:t,type:"itemAdd",channelID:n.id})]},n.id)})));function Lo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ro=(0,o.$j)((function(e){return{channelHash:e.workspace.channelHash}}))((function(e){var t=e.workspace,n=e.channelHash,r=Lo((0,zt.useState)(!1),2),i=r[0],o=r[1],a=function(){o(!1)},c=t.channels.filter((function(e){var t;return!0===(null===(t=n[e])||void 0===t?void 0:t.isMember)}));return(0,sn.jsx)(Io.Z,{content:(0,sn.jsx)("div",{className:"collapse-channel-list",children:0===t.channels.length?(0,sn.jsx)(Oo.Z,{image:Oo.Z.PRESENTED_IMAGE_SIMPLE,description:"No channels"}):(0,sn.jsx)(sn.Fragment,{children:c.map((function(e){return(0,sn.jsx)(To,{workspaceId:t.id,channel:n[e],closePopover:a},e)}))})}),overlayClassName:"folder-menu-popup",autoAdjustOverflow:!0,visible:i,placement:"rightTop",onVisibleChange:o,destroyTooltipOnHide:!0,children:(0,sn.jsx)("div",{className:"folder-menu",children:(0,sn.jsx)(Rr.Z,{size:"28",username:t.name,type:"square"})})})}));var Mo=n(80472);function Zo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Fo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fo(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Uo=(0,o.$j)((function(e){return{channelHash:e.workspace.channelHash,userInfo:e.user.info}}))((function(e){var t=e.workspace,n=e.channelHash,r=Zo((0,zt.useState)(!1),2),i=r[0],o=r[1],c=t.channels.filter((function(e){var t;return!0===(null===(t=n[e])||void 0===t?void 0:t.isMember)}));return(0,sn.jsxs)("div",{className:"sidebar-workspace-item",children:[(0,sn.jsx)(a.OL,{to:"/workspace/setting/".concat(t.id),children:(0,sn.jsxs)("div",{className:"workspace-name",children:[(0,sn.jsx)(Rr.Z,{username:t.name,type:"square",size:30}),(0,sn.jsx)(Zr.Z,{text:t.name,width:"calc(100% - 40px)"})]})}),(0,sn.jsxs)("div",{className:"channel-list",style:{height:37*(c.length+1)-1+"px"},children:[(0,sn.jsx)(ti.M,{initial:!1,children:c.map((function(e){return(0,sn.jsx)(To,{workspaceId:t.id,channel:n[e]},e)}))}),(0,sn.jsxs)("div",{className:"add-channel-btn",onClick:function(){return o(!0)},children:[(0,sn.jsx)(cn.dt,{}),"Create a channel"]})]}),(0,sn.jsx)(Mo.Z,{workspaceId:t.id,visible:i,onCancel:function(){o(!1)}})]})}));var Ho={loadWorkspaces:Qt.Pf};const Go=(0,o.$j)((function(e){return{myWorkspaceIDList:e.workspace.myWorkspaceIDList,myWorkspaceHash:e.workspace.myWorkspaceHash,isLoading:e.workspace.isLoading}}),Ho)((function(e){var t=e.collapsed,n=e.myWorkspaceIDList,r=e.myWorkspaceHash,i=e.isLoading,o=e.loadWorkspaces;return(0,zt.useEffect)((function(){o()}),[]),(0,sn.jsx)("div",{className:"sidebar-workspace",children:i?(0,sn.jsx)(Jt.Z,{size:"small"}):(0,sn.jsx)(sn.Fragment,{children:0!==n.length||t?(0,sn.jsx)(sn.Fragment,{children:n.map((function(e){return t?(0,sn.jsx)(Ro,{workspace:r[e]},e):(0,sn.jsx)(Uo,{workspace:r[e]},e)}))}):(0,sn.jsx)("div",{className:"sidebar-no-workspace",children:"No workspace"})})})}));var Bo=n(32195);function Vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||zo(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zo(e,t){if(e){if("string"==typeof e)return Wo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wo(e,t):void 0}}function Wo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ko(e){var t=e.folder,n=e.moveFolder,r=e.handleUpdateStarredFolders,i=(0,zt.useRef)(null),o=Vo((0,zt.useState)(),2),c=o[0],s=o[1],l=Vo((0,zt.useState)(""),2),u=l[0],d=l[1],f=(0,Fi.L)({accept:Hi.JT.ITEM,drop:function(e){"onlyItem"===u?(n(t.folderID,e.data),(0,Le.I1)("move to folder",{event_category:"folder"})):"onlyFolder"===u&&r(e.data,t,c)},canDrop:function(e){return"workspace"!==e.from&&"channel"!==e.from&&(d(function(e){var t,n=!1,r=!1,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zo(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(e.data);try{for(i.s();!(t=i.n()).done;){if("folder"===t.value.itemType?n=!0:r=!0,n&&r)return""}}catch(e){i.e(e)}finally{i.f()}return n?"onlyFolder":"onlyItem"}(e)),!0)},hover:function(e,t){if(i.current){if("channel"===e.from||"workspace"===e.from)return s(void 0);var n=i.current.getBoundingClientRect(),r=(n.bottom-n.top)/2,o=t.getClientOffset().y-n.top;s(o<r?"up":"down")}},collect:function(e){return{canDrop:!0,isOver:!!e.isOver()}}}),m=Vo(f,2),p=m[0],h=p.isOver,v=p.canDrop,y=m[1];var g=an()("star-folder-list-item",{"is-over":h&&v&&"onlyItem"===u,"hover-up":"up"===c&&h&&"onlyFolder"===u,"hover-down":"down"===c&&h&&"onlyFolder"===u});return(0,sn.jsx)(Xr.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},layout:"position",ref:i,children:(0,sn.jsxs)(a.OL,{className:g,to:"/folder/".concat(t.folderID),ref:y,children:[(0,sn.jsx)("div",{className:"icon",children:h&&v&&"onlyItem"===u?(0,sn.jsx)(cn.Hf,{}):(0,sn.jsx)(cn.wn,{})}),(0,sn.jsx)("div",{className:"name",children:(0,sn.jsx)(Zr.Z,{text:t.name,width:"calc(100% - 36px)"})})]})})}var Yo={moveFolder:Ui.J1};const Qo=(0,o.$j)(null,Yo)((0,zt.memo)(Ko));var qo=n(60580),Jo=n(61401);function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){ta(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ta(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Xo(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Xo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Xo(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const na=function(e){var t=e.folder,n=e.index,r=e.handleRemove;return(0,sn.jsx)(qo._l,{draggableId:t.id,index:n,children:function(e,n){return(0,sn.jsxs)("div",ea(ea(ea({className:"edit-starred-folder-list-item ".concat(n.isDragging?"dragging":"")},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[(0,sn.jsx)(cn.RO,{}),(0,sn.jsx)(An.Z,{title:t.name,children:(0,sn.jsx)("span",{className:"name",children:t.name})}),(0,sn.jsx)(An.Z,{title:"Remove from starred folder",mouseEnterDelay:.5,children:(0,sn.jsx)("div",{className:"remove-btn",onClick:function(){return r(t.id)}})})]}))}})};function ra(e){return ra="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ra(e)}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){aa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aa(e,t,n){return t=function(e){var t=function(e,t){if("object"!==ra(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==ra(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ra(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ca(e){return function(e){if(Array.isArray(e))return sa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return sa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sa(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var la={loadFolders:Ui.PW,updateStarredFolders:Ui.oW,removeFromStarredFolders:Ui.kO},ua=(0,o.$j)((function(e){var t=e.folder;return{isLoading:t.isLoading,loaded:t.loaded,starredFolderIDList:(0,Bo.q)(e),folders:t.folders}}),la),da=ua((function(e){var t=e.starredFolderIDList,n=e.folders,r=e.updateStarredFolders,i=e.removeFromStarredFolders,o=(0,zt.useCallback)((function(e){i(e)}),[]);return(0,sn.jsx)(qo.Z5,{onDragEnd:function(e){var n=e.source,i=e.destination,o=e.draggableId,a=n.index,c=i.index,s=ca(t);s.splice(a,1),s=(0,Le.ZQ)(s,c,[o]),r(s.join(","),!0)},children:(0,sn.jsxs)("div",{className:"edit-starred-folder-panel",children:[(0,sn.jsx)("div",{className:"title",children:"Edit Starred Folders"}),(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("div",{className:"tip",children:"Drag to reset the sequence"}),(0,sn.jsx)(qo.bK,{droppableId:"12",children:function(e){return(0,sn.jsxs)("div",oa(oa({className:"folder-container",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return(0,sn.jsx)(na,{folder:n[e],index:t,handleRemove:o},e)})),e.placeholder]}))}})]})]})})}));const fa=function(e){return(0,sn.jsx)(Jo.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,sn.jsx)(da,{})})};function ma(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return pa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const ha=function(){var e=ma((0,zt.useState)(!1),2),t=e[0],n=e[1];return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"starred-folder-edit-btn",onClick:function(){return n(!0)},children:"Edit"}),(0,sn.jsx)(fa,{visible:t,onCancel:function(){return n(!1)}})]})};function va(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ya(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ya(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ya(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ga={loadFolders:Ui.PW,updateStarredFolders:Ui.oW},ba=(0,o.$j)((function(e){var t=e.folder;return{isLoading:t.isLoading,loaded:t.loaded,starredFolderIDList:(0,Bo.q)(e),folders:t.folders}}),ga);const ja=ba((function(e){var t=e.loadFolders,n=e.folders,r=e.starredFolderIDList,i=e.isLoading,o=e.updateStarredFolders,a=va((0,zt.useState)(!1),2),c=a[0],s=a[1],l=(0,Fi.L)({accept:Hi.JT.ITEM,drop:function(e){var t=e.data.map((function(e){return e.id})).join(",");o(t)},canDrop:function(e){return e.data.every((function(e){return"folder"===e.itemType}))},collect:function(e){return{isOver:!!e.isOver()&&e.canDrop()}}}),u=va(l,2),d=u[0].isOver,f=u[1];(0,zt.useEffect)((function(){t()}),[]);var m=(0,zt.useCallback)((function(e,t,n){var i=e.map((function(e){return e.id}));if(-1===r.indexOf(i[0])){var a=r.findIndex((function(e){return e===t.folderID}));a="up"===n?a:a+1;var c=(0,Le.ZQ)(r,a,i);o(c.join(","))}}),[r]),p=an()("dropzone",{over:d}),h=an()("show-more-btn",{collapse:c});return(0,sn.jsx)("div",{className:"star-folder-list",children:i?(0,sn.jsx)(Jt.Z,{size:"small"}):(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"star-folder-container",children:[(0,sn.jsxs)("div",{className:"star-folder-title",children:[(0,sn.jsx)(cn.r7,{}),"Starred folders",r.length>0&&(0,sn.jsx)(ha,{})]}),0===r.length?(0,sn.jsx)("div",{className:p,ref:f,children:"Drag and drop your favorite folders here"}):(0,sn.jsxs)("div",{className:"folder-list-box",children:[(0,sn.jsxs)(ti.M,{initial:!1,children:[r.slice(0,5).map((function(e){return(0,sn.jsx)(Qo,{folder:n[e],handleUpdateStarredFolders:m},n[e].folderID)})),c&&r.slice(5,r.length).map((function(e){return(0,sn.jsx)(Qo,{folder:n[e],isShowMore:c,handleUpdateStarredFolders:m},n[e].folderID)}))]}),r.length>5&&(0,sn.jsxs)("div",{className:h,onClick:function(){s(!c)},children:[(0,sn.jsx)(cn.Dn,{}),c?"Less":"More"]})]})]})})})}));var wa={loadFolders:Ui.PW};const xa=(0,o.$j)((function(e){var t=e.folder;return{isLoading:t.isLoading,loaded:t.loaded,starredFolderIDList:(0,Bo.q)(e),folders:t.folders}}),wa)((function(e){var t=e.isLoading,n=e.starredFolderIDList,r=e.folders,i=e.loadFolders,o=e.loaded;(0,zt.useEffect)((function(){i()}),[]);var c=(0,zt.memo)((function(t){var i=t.index,o=t.style,c=n.map((function(e){return r[e]}))[i];return(0,sn.jsx)("div",{style:o,children:(0,sn.jsxs)(a.OL,{className:"folder-collapsed-list-item",to:"/folder/".concat(c.folderID),onClick:e.closePopover,title:c.name,children:[(0,sn.jsx)(cn.RO,{}),c.name]})})}),ji.wy);c.displayName="Row";var s=n.length>0?Math.min(36*n.length+24,280):"auto";return(0,sn.jsx)("div",{className:"folder-collapsed-list ".concat(n&&n.length>7?"scrollable":""),style:{height:s},children:t?(0,sn.jsx)(Jt.Z,{size:"small"}):(0,sn.jsx)(sn.Fragment,{children:o&&(0,sn.jsx)(sn.Fragment,{children:n&&n.length>0?(0,sn.jsx)(bi.Z,{children:function(e){var t=e.height,r=e.width;return(0,sn.jsx)(ji.t7,{className:"list",height:t,itemCount:n.length,itemSize:36,width:r,children:c})}}):(0,sn.jsx)("div",{className:"empty-tip",children:"No starred folders"})})})})}));function Sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ia(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ia(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Oa=function(){var e=Sa((0,zt.useState)(!1),2),t=e[0],n=e[1];return(0,sn.jsx)(Io.Z,{content:(0,sn.jsx)(xa,{closePopover:function(){n(!1)}}),overlayClassName:"folder-menu-popup",autoAdjustOverflow:!0,visible:t,placement:"rightTop",onVisibleChange:n,destroyTooltipOnHide:!0,children:(0,sn.jsx)("div",{className:"folder-menu",children:(0,sn.jsx)(cn.r7,{})})})};var Ea=n(36331),Na=n(94458);var Da=n(25592),Aa=n(73218),Ca=n(15873);function Pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ka(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ta={Pending:["Zipping",(0,sn.jsx)(Da.Z,{spin:!0,style:{color:"#4693ff"}},"Zipping")],Failed:["Zip failed",(0,sn.jsx)(Aa.Z,{style:{color:"#FF4D4F"}},"Zip failed")],Canceled:["Zip canceled",(0,sn.jsx)(Li.Z,{style:{color:"#FF9B2F"}},"Zip canceled")],Succeed:["Download ready",(0,sn.jsx)(Ca.Z,{style:{color:"#4BD330"}},"Download ready")]};var La=(0,o.$j)(null,{onCancel:function(e){return(0,T.H4)(e)}})((function(e){var t=e.status,n=e.fileName,r=e.id,i=e.onCancel,o=Pa(Ta[t],2),a=o[0],c=o[1],s=an()("download-list-item",{"is-zipping":"Pending"===t});return(0,sn.jsxs)(Xr.E.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:s,children:[(0,sn.jsx)("span",{className:"file-name",children:n||"File"}),(0,sn.jsx)("span",{className:"status-message",children:a}),(0,sn.jsx)("span",{className:"status-icon",children:c}),(0,sn.jsx)("span",{className:"close-text",onClick:function(){if("Pending"!==t)return i(r);Le.C2.confirm({title:"Cancel download?",content:"Your download is not complete. Would you like to cancel the download?",okText:"Cancel download",cancelText:"Continue download",cancelButtonProps:{type:"default"},okButtonProps:{type:"default",danger:!0}}).then((function(){return i(r)})).catch(No())},children:"Cancel"})]})}));function _a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ra(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ma,Za,Fa=(0,o.$j)((function(e){return{list:e.downloadList}}),{onCancelAll:T.tH})((function(e){var t=e.list,n=e.onCancelAll,r=_a((0,zt.useState)(!1),2),i=r[0],o=r[1],a=0===t.length;a&&i&&o(!1);var c=an()("download-list",{collapsed:i,closed:a}),s=(0,zt.useRef)(null),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis.document.documentElement,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=(0,Na.r)(n);return(0,zt.useEffect)((function(){var n=(0,Ea.Ql)(t);null!=n&&n.style&&n.style.setProperty(e,r.value)}),[r.value,t,e]),r}("--list-count",s,"0");return(0,zt.useEffect)((function(){l.value=String(t.length)}),[t.length]),(0,sn.jsxs)("div",{className:c,ref:s,children:[(0,sn.jsxs)("div",{className:"title",children:[(0,sn.jsxs)("span",{children:[(0,sn.jsx)("span",{children:"Preparing download"}),i&&t.length>0&&(0,sn.jsx)("span",{className:"list-length",children:t.length})]}),(0,sn.jsxs)("div",{className:"flex-align",children:[(0,sn.jsx)(cn.nX,{className:"collapse-icon",onClick:function(){return o((function(e){return!e}))}}),(0,sn.jsx)(cn.Tw,{className:"close-icon",onClick:function(){Le.C2.confirm({title:"Cancel all downloads?",content:"Your download is not complete. Would you like to cancel all your downloads?",cancelText:"Continue download",okText:"Cancel download",cancelButtonProps:{type:"default"},okButtonProps:{type:"default",danger:!0}}).then(n).catch(No())}})]})]}),(0,sn.jsx)("div",{className:"content",children:(0,sn.jsx)(ti.M,{initial:!1,children:t.map((function(e){var t=e.id,n=e.fileName,r=e.status;return(0,sn.jsx)(La,{fileName:n,id:t,status:r},t)}))})})]})})),Ua=(n(81817),n(27279)),Ha=n(33789),Ga={Firefox:"https://addons.mozilla.org/firefox/addon/screenshot-capture-annotate/",Chrome:"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj",Edge:"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo"}["Chrome"===(Za=_n().name)?(null!==(Ma=_n().ua)&&void 0!==Ma?Ma:"").includes("Edg")?"Edge":"Chrome":"Firefox"===Za?"Firefox":"Chrome"];var Ba=n(73458);const Va=n.p+"images/af67bc4f63fbc23995fa.png";function za(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wa(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Ka=(0,zt.forwardRef)((function(e,t){var n=(0,_r.TL)(),r=za((0,zt.useState)(!1),2),i=r[0],o=r[1];return(0,zt.useImperativeHandle)(t,(function(){return{openModal:function(){return o(!0)}}})),(0,sn.jsxs)(Jo.Z,{width:529,visible:i,onCancel:function(){return o(!1)},children:[(0,sn.jsx)("div",{className:"title",children:"Would you like to close the guide?"}),(0,sn.jsxs)("div",{className:"content",children:[(0,sn.jsx)("span",{style:{fontSize:"14px",lineHeight:"16px",fontWeight:400},children:"You can also access more helpful articles and tutorials on our help center."}),(0,sn.jsx)("div",{style:{border:"2px solid #DAE0E6",height:"350px",width:"100%",borderRadius:"10px",marginTop:"20px",backgroundColor:"#eeeeee",overflow:"hidden"},children:(0,sn.jsx)("img",{src:Va,alt:"help center",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"right top"}})})]}),(0,sn.jsxs)("div",{className:"btn-area",children:[(0,sn.jsx)($t.Z,{onClick:function(){return o(!1)},children:(0,sn.jsx)("b",{children:"Cancel"})}),(0,sn.jsx)($t.Z,{type:"primary",onClick:function(){o(!1),n((0,ut.If)()),(0,Le.I1)("Confirm skip guide from user guide panel",{event_category:"userGuide"})},children:(0,sn.jsx)("b",{children:"Got it, close the guide"})})]})]})}));var Ya=n(87452);function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}function qa(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Qa(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qa(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ja(){Ja=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new O(i||[]);return r(a,"_invoke",{value:w(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(E([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==Qa(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return m.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new j(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=E,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Xa(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function $a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Xa(o,r,i,a,c,"next",e)}function c(e){Xa(o,r,i,a,c,"throw",e)}a(void 0)}))}}function ec(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nc(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}function tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||nc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nc(e,t){if(e){if("string"==typeof e)return rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rc(e,t):void 0}}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ic=Ua.Z.Panel,oc=new Map([[ut.Rg.Download,{title:"Download extension",detail:"Download Awesome Screenshot to create awesome screenshots & videos.",href:"https://chrome.google.com/webstore/detail/awesome-screenshot-and-sc/nlipoenfbbikpbjkfpfillcgkoblgpmj",linkDescription:"Go to download"}],[ut.Rg.Pin,{title:"Pin extension",detail:"Pin Awesome Screenshot for easy access.",href:"#"}],[ut.Rg.Record,{title:"Record a video",detail:"Let’s record an awesome video.",href:"https://www.youtube.com/embed/tPOFSpV5NH8"}],[ut.Rg.Screenshot,{title:"Capture a screenshot",detail:"Let’s capture an awesome screenshot.",href:"https://www.youtube.com/embed/_MUMMd4PQck"}],[ut.Rg.Share,{title:"Share your video/screenshot",detail:"Share your awesome content with your friends or colleagues.",href:"https://www.youtube.com/embed/uZyBAVcaef0"}]]);function ac(e){var t=e.isComplete,n=e.title;return(0,sn.jsxs)("div",{className:an()("step-header",{complete:t}),children:[t?(0,sn.jsx)(cn.cV,{style:{color:"#6FCA95"}}):(0,sn.jsx)(cn.n2,{style:{color:"#AAB2C5"}}),(0,sn.jsx)("span",{children:n})]})}var cc=(0,o.$j)((function(e){var t=e.userGuide,n=e.user;return{steps:t.steps,guideLoaded:t.loaded,complete:!n.showGuide,imageCreated:0!==n.counts.imageTotalAllCreated,videoCreated:0!==n.counts.videoTotalAllCreated,userLoaded:n.isLoaded}}),{}),sc=cc((function(e){var t,n=e.steps,r=e.complete,i=e.imageCreated,o=e.videoCreated,a=e.userLoaded,c=e.guideLoaded,s=(0,_r.TL)(),l=(0,zt.useRef)(null),u=tc((0,zt.useState)(!1),2),d=u[0],f=u[1],m=tc((0,zt.useState)(!1),2),p=m[0],h=m[1],v=tc((0,zt.useState)(!1),2),y=v[0],g=v[1],b=tc((0,zt.useState)(ut.Rg.Record),2),j=b[0],w=b[1],x=tc((0,zt.useState)(ut.Rg.Download),2),S=x[0],I=x[1],O=~~(Object.values(n).filter(Boolean).length/Object.keys(ut.Rg).length*100);function E(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=ec(oc);try{for(r.s();!(e=r.n()).done;){var i=tc(e.value,1),o=i[0];if(!n[o]&&!t.includes(o))return I(o),!1}}catch(e){r.e(e)}finally{r.f()}return!0}function N(e){var t;(0,Le.X8)(e,(qa(t={},ut.Rg.Download,(function(){!function(){var e,t=1e3;if(window.screenTop<-100||window.screenLeft<-100||window.screenTop>window.screen.height||window.screenLeft>window.screen.width)e="width=".concat(t,",height=").concat(800);else{var n=(window.screen.availHeight-30-800)/2,r=(window.screen.availWidth-10-t)/2;e="width=".concat(t,",height=").concat(800,",screenY=").concat(n,",screenX=").concat(r)}window.open(Ga,"Install Awesome Screenshot",e)}(),(0,Le.I1)("Click go download",{event_category:"userGuide"}),n.Download||Le.C2.confirm({title:"Installed?",content:"Have you installed Awesome Screenshot extension? ",cancelText:"Not yet",okText:"Yes, I have",rejectOnCancel:!0}).then($a(Ja().mark((function e(){return Ja().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,Le.I1)("Confirm download from user guide panel",{event_category:"userGuide"}),e.next=3,(0,Le._v)(0);case 3:location.reload();case 4:case"end":return e.stop()}}),e)})))).catch((function(){(0,Le.I1)("Reject download from user guide panel",{event_category:"userGuide"})}))})),qa(t,ut.Rg.Pin,(function(){n.Download?(g(!0),(0,Le.I1)("Open pin extension popup",{event_category:"userGuide"})):I(ut.Rg.Download)})),qa(t,ut.Rg.Record,(function(){h(!0),w(ut.Rg.Record),(0,Le.I1)("Open how to record a video from user guide panel",{event_category:"userGuide"})})),qa(t,ut.Rg.Screenshot,(function(){h(!0),w(ut.Rg.Screenshot),(0,Le.I1)("Open how to capture a screenshot from user guide panel",{event_category:"userGuide"})})),qa(t,ut.Rg.Share,(function(){h(!0),w(ut.Rg.Share),(0,Le.I1)("Open how to share from user guide panel",{event_category:"userGuide"})})),t))}return(0,Ha.Q)((function(){s((0,ut.aO)())}),a&&!r),(0,zt.useEffect)((function(){if(a&&!n.Download&&c){var e=setTimeout((function(){(0,Le.LB)()&&(s((0,ut.YA)(ut.Rg.Download)),E([ut.Rg.Download]))}),300);return function(){return clearTimeout(e)}}}),[a,c]),(0,zt.useEffect)((function(){i&&!n.Screenshot&&a&&c&&s((0,ut.YA)(ut.Rg.Screenshot))}),[i,a,c]),(0,zt.useEffect)((function(){o&&!n.Record&&a&&c&&s((0,ut.YA)(ut.Rg.Record))}),[o,a,c]),(0,zt.useEffect)((function(){a&&c&&!r&&(E()&&s((0,ut.YA)(ut.Rg.Download)))}),[a,c]),r?null:(0,sn.jsxs)("div",{className:"user-guide-container",children:[(0,sn.jsxs)("div",{className:"user-guide-header",children:[(0,sn.jsxs)("span",{className:"user-guide-header-title",children:["Get started with ",(0,sn.jsx)("br",{}),"Awesome Screenshot"]}),(0,sn.jsx)("div",{className:"user-guide-header-icon",onClick:function(){return f((function(e){return!e}))},children:d?(0,sn.jsx)(cn.JJ,{style:{color:"white",fontSize:"20px"}}):(0,sn.jsx)(cn.WU,{style:{color:"white",fontSize:"20px"}})}),(0,sn.jsx)(Dn.Z,{percent:O,strokeWidth:8,trailColor:"rgba(255, 255, 255, 0.2)",strokeColor:"#6FCA95",className:"user-guide-header-progress"})]}),(0,sn.jsx)(ti.M,{children:!d&&(0,sn.jsxs)(Xr.E.div,{className:"user-guide-main",initial:{height:0},animate:{height:"auto"},exit:{height:0},transition:{type:"tween"},children:[(0,sn.jsx)(Ua.Z,{accordion:!0,activeKey:S,onChange:function(e){return I(e)},expandIconPosition:"end",expandIcon:function(e){var t=e.isActive;return(0,sn.jsx)(cn.Dn,{rotate:t?0:-90})},children:Array.from(oc.entries()).map((function(e){var t,r=tc(e,2),i=r[0],o=r[1];return(0,sn.jsx)(ic,{className:"user-guide-main-step",header:(0,sn.jsx)(ac,{isComplete:!!n[i],title:o.title}),children:(0,sn.jsxs)("div",{className:"user-guide-main-step-content",children:[(0,sn.jsx)("div",{children:o.detail}),(0,sn.jsx)($t.Z,{size:"small",onClick:function(){return N(i)},children:null!==(t=o.linkDescription)&&void 0!==t?t:"Learn more"})]})},i)}))}),(0,sn.jsx)("div",{className:"user-guide-main-close",children:(0,sn.jsx)("span",{onClick:function(){l.current.openModal()},style:{cursor:"pointer"},children:"Got it, close the guide"})})]})}),(0,sn.jsx)(Ka,{ref:l}),p&&(0,sn.jsx)(Ya.L,{onClose:function(){var e;h(!1),(0,Le.X8)(j,(qa(e={},ut.Rg.Record,(function(){})),qa(e,ut.Rg.Screenshot,(function(){})),qa(e,ut.Rg.Share,(function(){})),e))},closeOnModalClick:!0,iframeSrc:(null===(t=oc.get(j))||void 0===t?void 0:t.href)||""}),y&&(0,sn.jsx)(Ba.VM,{onOk:function(){s((0,ut.wH)(ut.C2.Pin)),g(!1)}})]})}));function lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return uc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var dc=Ti.Z.Sider,fc=Ti.Z.Content;var mc={clearSelectedItem:se.jh};const pc=(0,o.$j)((function(e){return{user:e.user}}),mc)((function(e){var t=lc((0,zt.useState)("true"===localStorage.collapse_nav),2),n=t[0],r=t[1],i=lc((0,zt.useState)(!1),2),o=i[0],c=i[1],s=lc((0,zt.useState)(null),2),l=s[0],u=s[1],d=lc((0,zt.useState)(!1),2),f=d[0],m=d[1],p=(0,Wt.s0)(),h=(0,Tr.useMediaQuery)({query:"(max-width: 768px)"}),v=(0,Tr.useMediaQuery)({query:"(max-width: 1460px)"}),y=(0,Wt.TH)(),g=e.user,b=e.clearSelectedItem,j=(0,qt.Z)().get("referKey");function w(){var e;"team"===(null===(e=g.premium.currentPlan)||void 0===e?void 0:e.PlanName)&&g.premium.currentPlan.OwnerUID===g.premium.currentPlan.UID?m(!0):p("/workspace/create")}(0,zt.useEffect)((function(){b()}),[y]),(0,zt.useEffect)((function(){j&&(0,rn.szH)(j).then((function(e){u(e),c(!0)})).catch((function(){c(!0),(0,Le.I1)("Click refer sign in when registered")}))}),[]),(0,zt.useEffect)((function(){"true"!==localStorage.isNoticeTransfer&&g.premium.currentPlan&&"team"===g.premium.currentPlan.PlanName&&g.premium.currentPlan.OwnerUID===g.premium.currentPlan.UID&&(m(!0),localStorage.isNoticeTransfer=!0)}),[g]);var x=an()("main-container",{hidden:!1}),S=g.premium.needTransfer,I=(0,sn.jsxs)("div",{className:"discount-tip-header",children:["Transfer to Workspace to boost workflow with ",(0,sn.jsx)("b",{children:"NO additional cost"}),".",(0,sn.jsx)(a.rU,{className:"btn primary",to:"/workspace/transfer",children:"Transfer"})]}),O=(g.premium.currentPlan&&("free"===g.premium.currentPlan.PlanName||"basic"===g.premium.currentPlan.PlanName)&&parseInt(g.counts.video)>=.75*g.counts.videoLimitation&&(parseInt(g.counts.video),g.counts.videoLimitation),g.premium.currentPlan&&("free"===g.premium.currentPlan.PlanName||"basic"===g.premium.currentPlan.PlanName)&&(parseInt(g.counts.video),g.counts.videoLimitation),g.premium.currentPlan&&"free"===g.premium.currentPlan.PlanName&&parseInt(g.counts.image)>=.75*g.counts.imageLimitation&&(parseInt(g.counts.image),g.counts.imageLimitation),g.premium.currentPlan&&"free"===g.premium.currentPlan.PlanName&&(parseInt(g.counts.image),g.counts.imageLimitation),an()("my-items",{"header-tip":S,collapsed:n})),E=245;h?E=0:v&&(E=205);var N=an()({collapsed:n});return(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:O,children:[S&&I,(0,sn.jsxs)(Ti.Z,{className:x,children:[(0,sn.jsx)(dc,{className:"side-bar",width:E,collapsed:n,collapsedWidth:Math.min(E,65),children:(0,sn.jsxs)("div",{className:"sidebar-inner",children:[!h&&function(){var e=an()("sidebar-container",{collapsed:n});return(0,sn.jsxs)("div",{className:e,children:[(0,sn.jsx)("div",{className:"sidebar-section-title",children:"Personal"}),(0,sn.jsxs)("ul",{className:"sidebar-nav",children:[(0,sn.jsx)("li",{children:(0,sn.jsx)(Wi,{collapsed:n})}),(0,sn.jsx)(An.Z,{title:n?"Shared with me":"",placement:"right",children:(0,sn.jsx)("li",{children:(0,sn.jsx)(Qi,{})})})]}),(0,sn.jsx)("div",{className:"star-folder-area",children:n?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"sep"}),(0,sn.jsx)(Oa,{})]}):(0,sn.jsx)("div",{className:"folder-area",children:(0,sn.jsx)(ja,{})})}),(0,sn.jsxs)("div",{className:"workspace-area",children:[n?(0,sn.jsx)("div",{className:"sep"}):(0,sn.jsx)("div",{className:"sidebar-section-title",children:"Workspace"}),(0,sn.jsx)(Go,{collapsed:n})]}),!n&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"sidebar-divider"}),(0,sn.jsx)("div",{className:"create-workspace-btn-area",children:(0,sn.jsx)($t.Z,{block:!0,onClick:w,children:"Create a workspace"})})]})]})}(),(0,sn.jsxs)("div",{className:"sidebar-bottom ".concat(n?"collapsed":""),children:[(0,sn.jsx)(An.Z,{title:n?"Trash":"",placement:"right",children:(0,sn.jsx)("div",{className:"sidebar-bottom-btn trash-btn",children:(0,sn.jsx)(oo,{})})}),!h&&(0,sn.jsx)(eo,{toggleCollapse:function(){r(!n),localStorage.collapse_nav=!n},collapsed:n})]})]})}),(0,sn.jsxs)(fc,{className:"content",children:[e.children,(0,sn.jsx)(Fa,{}),(0,sn.jsx)(ho,{className:N})]})]}),(0,sn.jsx)(Zi,{}),(0,sn.jsx)(bo,{}),(0,sn.jsx)(xo,{visible:o,onCancel:function(){c(!1)},referData:l}),(0,sn.jsx)(So.Z,{visible:f,onCancel:function(){m(!1)}}),(0,sn.jsx)(sc,{})]})})}));var hc=n(4163),vc=n(32445);function yc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return gc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const bc=function(e){var t=u.Z.get("screenshot_personal_uid"),n=yc(Dr(),3),r=n[0],i=n[1],o=n[2];return t?r&&o!==t?(i((function(){window.location.href="/signin"})),""):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Ai,{type:"item"}),(0,sn.jsx)(hc.W,{backend:vc.PD,children:(0,sn.jsx)(pc,{children:(0,sn.jsx)(Wt.j3,{})})})]}):(r?i((function(){window.location.href="/signin"})):window.location.href="/signin","")};var jc=n(86664),wc=n(54465),xc=n(7991),Sc=n(6386),Ic=n(25754),Oc=n(75309),Ec=(n(87057),[{type:"free",displayName:"Free",tip:"Great starter",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"}],integrations_cp:[],screenshot:["Access the latest 50 screenshots","Basic annotation tools"],record:[{type:"string",text:"5 minutes per recording",preview:"local"},{type:"string",text:"Access the latest 20 cloud videos"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 3 days"}],others:["Capture visible/full page screenshot","Basic annotation tools","1 Project to host, manage and share screenshots","30 images per project","5 minutes video recording per video","20 free videos access","Recover items from Trash within 3 days"]}},{type:"basic",displayName:"Basic",tip:"Perfect to video recording& taking screenshots",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"5 minutes per recording",preview:"local"},{type:"string",text:"Access the latest 20 cloud videos"},{type:"string",text:"Resolution up to 720p"},{type:"string",text:"Recover from Trash within 30 days"}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","20 free videos access","Recover items from Trash within 30 days"]}},{type:"professional",displayName:"Professional",tip:"Best for taking screenshots",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[{name:"slack",displayName:"Slack"},{name:"trello",displayName:"Trello"},{name:"asana",displayName:"Asana"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Unlimited recording length",preview:"cloud"},{type:"string",text:"Unlimited access to cloud videos"},{type:"string",text:"Resolution up to 4k"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Download in MP4 (from the Cloud)"},{type:"string",text:"Priority MP4 conversion"},{type:"string",text:"Edit video with Cut, Text, Shape..."}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","Unlimited video recording and access"]}},{type:"team",displayName:"Team",features:{integrations_cs:[{name:"googleDrive",displayName:"Google Drive"},{name:"dropbox",displayName:"Dropbox"},{name:"box",displayName:"Box"}],integrations_cp:[{name:"slack",displayName:"Slack"},{name:"trello",displayName:"Trello"},{name:"asana",displayName:"Asana"},{name:"github",displayName:"Github"},{name:"jira",displayName:"Jira"}],screenshot:["Unlimited screenshots","All annotation tools"],record:[{type:"string",text:"Unlimited recording length",preview:"cloud"},{type:"string",text:"Unlimited access to cloud videos"},{type:"string",text:"Resolution up to 4k"},{type:"string",text:"Recover from Trash within 30 days"},{type:"string",text:"Download in MP4 (from the Cloud)"},{type:"string",text:"Priority MP4 conversion"},{type:"string",text:"Edit video with Cut, Text, Shape..."}],others:["All Capture features","All advanced annotation tools","Unlimited screenshot storage","Unlimited projects to host, manage and share screenshots","Unlimited video recording for Tabs and Desktop","Unlimited video recording and access"]}}]),Nc=[{header:"Can I cancel my subscription anytime?",content:"Yes, you can cancel your subscription in settings anytime."},{header:"Can I get a refund if I cancel my subscription?",content:"You can write us an email to ask for a refund for a yearly subscription if you cancel it within 14 days of purchase. No refund available for a monthly subscription."},{header:"How long does a refund take?",content:"It usually takes 2~7 business days."}],Dc=[5,10,15,20,25,30];function Ac(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Cc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cc(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pc=Yn.Z.Option;const kc=function(e){var t=Ac((0,zt.useState)((function(){return e.currentTeamNum})),2),n=t[0],r=t[1],i=e.plan,o=e.upgradeInfo;(0,zt.useEffect)((function(){r(e.currentTeamNum)}),[e.currentTeamNum]);var a=o.CurrentPlan,c=function(e){if(""==a.PlanName)return{text:"Get started",isDisabled:!1};if("basic"===e)var t=o.Personal;else if("professional"===e)t=o.Pro;else if("team"===e)t=o.Team;else if("free"===e)return{text:"Free to use",isDisabled:!0};return t.CanUpgrade?"basic"===e||"professional"===e?t.CanUpgrade2Monthly&&t.CanUpgrade2Yearly?{text:"Upgrade",isDisabled:!1}:t.CanUpgrade2Yearly&&!t.CanUpgrade2Monthly?a.PlanName===e?{text:"Change to yearly",isForceYear:!0,isDisabled:!1}:{text:"Upgrade",isForceYear:!0,isDisabled:!1}:{text:"Upgrade",isDisabled:!0}:"team"===e?o.CurrentPlan.Cap<n?{text:"Upgrade",isDisabled:!1}:o.CurrentPlan.Cap===n?"Monthly"===a.Interval?{text:"Change to yearly",isForceYear:!0,isDisabled:!1}:{text:"Your plan",isDisabled:!0}:{text:"Upgrade",isDisabled:!0}:void 0:o.CurrentPlan.PlanName===e?{text:"Your plan",isDisabled:!0}:{text:"Upgrade",isDisabled:!0}}(i.type),s=function(t){""!=a.PlanName?(e.handleChoose(t,n,"Change to yearly"===c.text||!0===c.isForceYear),(0,Le.I1)("click upgrade button",{event_category:"pricing"})):window.location.href="/user/login?redirect_url=https://www.awesomescreenshot.com/pricing"},l=(i.type,""),u=(0,Le.IT)(),d="free"===a.PlanName&&"professional"===i.type?"best-value":"",f="team"===i.type?"month"===e.purchaseType?i.EnableDiscount[n]:i.EnableDiscount_y[n]:"month"===e.purchaseType?i.EnableDiscount:i.EnableDiscount_y;return(0,sn.jsxs)("div",{className:"plan-item ".concat(i.type," ").concat(d),id:"team"===i.type?"team-plan":"",children:["professional"!==a.PlanName&&"team"!==a.PlanName&&"professional"===i.type&&u&&(0,sn.jsxs)("div",{className:"pro-tip",children:[(0,sn.jsx)("div",{className:"title",children:"💡Suggested"}),(0,sn.jsxs)("div",{className:"content",children:["Upgrade to Pro to gain",(0,sn.jsx)("br",{}),(0,sn.jsx)("b",{children:"unlimited video access"})]})]}),"free"!==a.PlanName&&a.PlanName===i.type&&(0,sn.jsxs)("div",{className:"your-plan",children:[(0,sn.jsx)("div",{className:"icon"}),"Your current plan"]}),"free"===a.PlanName&&"professional"===i.type&&(0,sn.jsx)("div",{className:"your-plan",children:"BEST VALUE"}),(0,sn.jsxs)("div",{className:"info-box ".concat(l),children:[(0,sn.jsx)("div",{className:"discount-tip"}),(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"type",children:i.displayName}),(0,sn.jsx)("div",{className:"price",children:"team"===i.type?(0,sn.jsx)(sn.Fragment,{children:(0,sn.jsxs)("div",{className:"price-num",children:[(0,sn.jsx)("div",{className:"price-tag",children:(0,sn.jsx)(cn.fY,{})}),"month"===e.purchaseType?i.price[n]:i.price_y[n],0!==f&&(0,sn.jsxs)("div",{className:"original-price",children:[(0,sn.jsx)("span",{children:"$"}),"month"===e.purchaseType?i.price_o[n]:i.price_y_o[n]]})]})}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"original-price-num",children:"$6/Month"}),(0,sn.jsxs)("div",{className:"price-num",children:[(0,sn.jsx)("div",{className:"price-tag",children:(0,sn.jsx)(cn.fY,{})}),"month"===e.purchaseType?i.price:i.price_y,0!==f&&"free"!==i.type&&(0,sn.jsxs)("div",{className:"original-price",children:[(0,sn.jsx)("span",{children:"$"}),"month"===e.purchaseType?i.price_o:i.price_y_o]})]})]})}),(0,sn.jsx)("div",{className:"user-number",children:"team"===i.type?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(Yn.Z,{defaultValue:n,getPopupContainer:function(){return document.getElementById("team-plan")},onChange:function(e){r(e)},children:Dc.map((function(e){return(0,sn.jsxs)(Pc,{value:e,children:[e," users"]},e)}))}),"/ month"]}):(0,sn.jsx)(sn.Fragment,{children:"free"===i.type?"Permanently valid":"Per user / month"})}),function(e){return"Your plan"===e.text?(0,sn.jsx)($t.Z,{type:"primary",className:"choose-btn",disabled:e.isDisabled,onClick:s.bind(null,i.type),children:"Upgrade"}):"Change to yearly"===e.text?(0,sn.jsxs)("div",{className:"change-to-yearly",children:[(0,sn.jsx)("div",{className:"tip",children:"You're paying monthly"}),(0,sn.jsx)($t.Z,{type:"primary",className:"choose-btn",disabled:e.isDisabled,onClick:s.bind(null,i.type),children:e.text})]}):(0,sn.jsx)($t.Z,{type:"primary",className:"choose-btn",disabled:e.isDisabled,onClick:s.bind(null,i.type),children:e.text})}(c)]})]}),(0,sn.jsx)("div",{className:"sep"}),(0,sn.jsxs)("div",{className:"feature-box",children:[(0,sn.jsx)("div",{className:"title",children:"Screenshot"}),(0,sn.jsx)("div",{className:"feature-section",children:(0,sn.jsx)("ul",{className:"feature-list",children:i.features.screenshot.map((function(e,t){return(0,sn.jsx)("li",{children:(0,sn.jsxs)("div",{className:"feature-item",children:[(0,sn.jsx)("span",{dangerouslySetInnerHTML:{__html:e.replace(/(Unlimited|All)/gi,"<b>$&</b>")}}),"Save screenshots to:"===e&&(0,sn.jsx)("div",{className:"integrations-container",children:i.features.integrations_cs.map((function(e,t){return(0,sn.jsx)(An.Z,{title:e.displayName,children:(0,sn.jsx)("div",{className:"integration-item small ".concat(e.name)})},e.name)}))})]})},t)}))})}),(0,sn.jsxs)("div",{className:"feature-section",children:[(0,sn.jsx)("div",{className:"title",children:"Video Recording"}),(0,sn.jsx)("ul",{className:"feature-list",children:i.features.record.map((function(e,t){return(0,sn.jsx)("li",{children:(0,sn.jsx)("div",{className:"feature-item",children:"string"===e.type?(0,sn.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}):(0,sn.jsxs)("div",{className:"feature-link",children:[(0,sn.jsx)("span",{dangerouslySetInnerHTML:{__html:e.text.replace(/(Unlimited|All|4k)/gi,"<b>$&</b>")}}),(0,sn.jsxs)("div",{className:"feature-preview ".concat(e.preview),children:[(0,sn.jsx)("div",{className:"text",children:"local"===e.preview?'Local Recordings: temporarily stored under "My Local Recordings", can be further saved to your local disk.':"Cloud Recordings: automatically saved to your account, can be shared instantly and also downloadable."}),(0,sn.jsx)("div",{className:"pic"})]})]})})},t)}))}),("free"===i.type||"basic"===i.type)&&(0,sn.jsxs)("div",{className:"extra",children:[(0,sn.jsx)("div",{className:"extra-title",children:"For the first 20 videos recorded with cloud mode, you can try professional features listed below:"}),(0,sn.jsxs)("ul",{children:[(0,sn.jsx)("li",{className:"list-item",children:"Download in MP4 (less than 1 hour)"}),(0,sn.jsx)("li",{className:"list-item",children:"Use annotation tools while recording"}),(0,sn.jsx)("li",{className:"list-item",children:"Unlimited length per recording"}),(0,sn.jsx)("li",{className:"list-item",children:"Edit video (less than 1 hour)"})]})]})]}),i.features.integrations_cp.length>0&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"title",children:"Integrations"}),(0,sn.jsx)("div",{className:"integrations-container",children:i.features.integrations_cp.map((function(e,t){return(0,sn.jsx)(An.Z,{title:e.displayName,children:(0,sn.jsx)("div",{className:"integration-item ".concat(e.name)})},e.name)}))})]})]})]})};var Tc;n(70390);function Lc(e){return Lc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lc(e)}function _c(e){return function(e){if(Array.isArray(e))return Rc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Rc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mc(Object(n),!0).forEach((function(t){Fc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fc(e,t,n){return(t=Hc(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hc(r.key),r)}}function Hc(e){var t=function(e,t){if("object"!==Lc(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lc(t)?t:String(t)}function Gc(e,t){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gc(e,t)}function Bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Wc(e);if(t){var i=Wc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vc(this,n)}}function Vc(e,t){if(t&&("object"===Lc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zc(e)}function zc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wc(e){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wc(e)}Yn.Z.Option;var Kc=Ua.Z.Panel,Yc=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gc(e,t)}(o,e);var t,n,r,i=Bc(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={billingPeriod:"year",currentTeamNum:5,currentPlanName:"",currentAmount:0,isShownOverview:!1,isShownCancel:!1,isShownPayment:!1,currentPlan:"",currentChoose:"",planOverviewTitle:"Billing overview",planOverviewBtnText:"Pay Now",coupon:null,planText:"",price:"",price_m:"",needCreate:!1,upgradeCostInfo:null,isForceYear:!1,isUpgradeBtnLoading:!1,paymentType:"success",purchaseType:"year",isCheckoutLoaded:!1,isShowOverviewLoading:!1},t.handleBillingPeriodChange=t.handleBillingPeriodChange.bind(zc(t)),t.handleTeamNumChange=t.handleTeamNumChange.bind(zc(t)),t.handleChoosePlan=t.handleChoosePlan.bind(zc(t)),t.handlePay=t.handlePay.bind(zc(t)),t.handleApplePay=t.handleApplePay.bind(zc(t)),t.handleCancel=t.handleCancel.bind(zc(t)),t.handleCancelPlanSuccess=t.handleCancelPlanSuccess.bind(zc(t)),t.handleChangePlanSuccess=t.handleChangePlanSuccess.bind(zc(t)),t.refreshUpgradeCostInfo=t.refreshUpgradeCostInfo.bind(zc(t)),t.handleChangePurchaseType=t.handleChangePurchaseType.bind(zc(t)),t.createStripHandler=t.createStripHandler.bind(zc(t)),t._createPlan=t._createPlan.bind(zc(t)),t}return t=o,n=[{key:"UNSAFE_componentWillMount",value:function(){var e=this;(0,Le.ve)("strip-checkout","https://checkout.stripe.com/checkout.js",(function(){e.setState({isCheckoutLoaded:!0})}))}},{key:"componentDidMount",value:function(){var e=this;this.props.loadUserInfo();var t=new URLSearchParams(this.props.location.search);this.promotionCode=t.get("promotionCode"),this.props.loadPlans(this.promotionCode),this.createStripHandler(),window.addEventListener("popstate",(function(){e.handler&&e.handler.close()}));try{var n=window.location.href.match(/\?success=(.*)$/);n&&("true"===(n=n[1])?this.setState({isShownPayment:!0,paymentType:"success"}):Nn.Z.error({title:"Payment Failed",content:"Your payment didn’t go through. Please check your card information then try again.",okText:"Got it"}));var r=window.location.href.match(/from=(.*)$/);if(r)var i=r[1];else i="website";i&&setTimeout((function(){(0,rn.tM0)(i)}),1e3)}catch(e){}document.title="Pricing - Awesome Screenshot"}},{key:"componentDidUpdate",value:function(e){e.user.premium!==this.props.user.premium&&"team"===this.props.user.premium.currentPlan.PlanName&&this.setState({currentTeamNum:this.props.user.premium.currentPlan.Cap})}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("popstate",(function(){e.handler.close()}))}},{key:"_createPlan",value:function(e,t){var n=this,r=this;this.setState({isShowOverviewLoading:!0}),(0,rn.e$B)(this.state.currentPlanName,t,e,this.promotionCode).then((function(){n.setState({isShownOverview:!1,isUpgradeBtnLoading:!1,isShowOverviewLoading:!1}),n.props.loadPlans(r.promotionCode),n.props.loadUserInfo(!0)}),(function(e){n.setState({isUpgradeBtnLoading:!1,isShowOverviewLoading:!1}),Nn.Z.error({title:"Payment Failed",content:e+" Please try a different card or contact your card issuer.",okText:"Got it"})}))}},{key:"handleBillingPeriodChange",value:function(e,t){var n=this.state,r=n.currentChoose,i=n.currentTeamNum,o="";"team"===r?o="team_plan_"+i+("month"===e?"m":""):"basic"===r?o="premium_plan"+("month"===e?"m":""):"professional"===r&&(o="pro_plan"+("month"===e?"m":"")),this.setState({purchaseType:e,billingPeriod:e,currentPlanName:o,upgradeCostInfo:null}),t||this.refreshUpgradeCostInfo(o)}},{key:"refreshUpgradeCostInfo",value:function(e){var t=this;(0,rn.qQg)(e,this.promotionCode).then((function(e){t.setState({upgradeCostInfo:e})}))}},{key:"handleTeamNumChange",value:function(e){this.setState({currentTeamNum:e})}},{key:"handleCancel",value:function(e){var t="isShown".concat(e);this.setState(Fc({},t,!1))}},{key:"createStripHandler",value:function(){var e=this,t=this;"undefined"!=typeof StripeCheckout&&(this.handler=StripeCheckout.configure({key:"pk_live_dEyUjlPXO4pAhgsnnuUwrbEm",image:"https://www.awesomescreenshot.com/images/logo_128.png",locale:"auto",email:/privaterelay.appleid.com/.test(this.props.user.info.mail)?"":this.props.user.info.mail,token:function(n){e.token=n,"Paypal"===e.props.user.premium.currentPlan.PaymentMethod?(0,rn.oH9)().then((function(e){t._createPlan("1",n)}),(function(e){t._createPlan("0",n)})):t._createPlan("1",n)},closed:function(t){e.token||e.setState({isUpgradeBtnLoading:!1})}}))}},{key:"handlePay",value:function(e){var t=this,n=(this.props.plan.plans,this.state),r=(n.currentChoose,n.coupon,n.price,n.price_m,n.planText),i=n.needCreate,o=(n.currentTeamNum,n.currentPlanName),a=(n.billingPeriod,n.upgradeCostInfo);if(n.purchaseType,"PayPal"===e)this.setState({isUpgradeBtnLoading:!0}),(0,rn.GMb)(o,this.promotionCode).then((function(e){e.URL&&(window.location.href=e.URL)})).catch((function(e){t.setState({isUpgradeBtnLoading:!1})}));else if(i){var c=a.UpgradeCost.toFixed(2);c=Number((""+c).replace(".","")),this.setState({isUpgradeBtnLoading:!0}),this.handler||this.createStripHandler(),this.handler.open({name:"Awesome Screenshot",description:r,zipCode:!0,amount:c})}else this.setState({isUpgradeBtnLoading:!0}),(0,rn.BBL)(o).then((function(e){t.props.loadUserInfo(!0),t.setState({isShownOverview:!1,isUpgradeBtnLoading:!1}),nn.ZP.success("Your plan has been upgraded to "+r+" successfully!")}),(function(e){t.setState({isUpgradeBtnLoading:!1}),Nn.Z.error({title:"Payment Failed",content:e+" Please try a different card or contact your card issuer.",okText:"Got it"})}))}},{key:"handleChoosePlan",value:function(e,t,n){var r=this.state.billingPeriod,i=this.props.plan.plans,o=this.props.user.premium.upgradeInfo;if(n=n||"Yearly"===o.CurrentPlan.Interval&&"PayPal"===o.CurrentPlan.PaymentMethod,"basic"===e){var a="Basic (1 user)",c=o.Personal.Coupon,s=o.Personal.NeedCreate,l="premium_plan";l=n?"premium_plan":"premium_plan"+("month"===r?"m":"")}else if("professional"===e)a="Professional (1 user)",c=o.Pro.Coupon,s=o.Pro.NeedCreate,l=n?"pro_plan":"pro_plan"+("month"===r?"m":"");else if("team"===e){a="Team ("+t+" users)";var u=i["team_plan_"+t+"m"].Price;c=o.Team.Coupon,s=o.Team.NeedCreate,l=n?"team_plan_"+t:"team_plan_"+t+("month"===r?"m":"")}var d={currentChoose:e,currentTeamNum:t,planText:a,needCreate:s,price_m:u||"",coupon:c,planOverviewBtnText:"Upgrade",currentPlanName:l};d.isForceYear=!!n,this.setState(Zc(Zc({},d),{},{upgradeCostInfo:null,isShownOverview:!0})),this.refreshUpgradeCostInfo(l)}},{key:"handleCancelPlanSuccess",value:function(){this.props.loadUserInfo(),this.token=null,this.setState({isShownOverview:!0})}},{key:"handleChangePlanSuccess",value:function(){this.props.loadUserInfo(),this.setState({isShownOverview:!1})}},{key:"handleApplePay",value:function(e){var t=this,n=this;this.setState({isShowOverviewLoading:!0}),(0,rn.tRN)({stripeEmail:e.billing_details.email,name:e.billing_details.name,paymentMethod:e.id,planName:this.state.currentPlanName,promotionCode:this.promotionCode}).then((function(e){t.setState({isShownOverview:!1,isShowOverviewLoading:!1}),t.props.loadPlans(n.promotionCode),t.props.loadUserInfo(!0)})).catch((function(e){t.setState({isShowOverviewLoading:!1}),Nn.Z.error({title:"Payment Failed",content:e+" Please try a different card or contact your card issuer.",okText:"Got it"})}))}},{key:"handleChangePurchaseType",value:function(e){this.handleBillingPeriodChange(e,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.plan,r=t.user,i=this.state,o=i.purchaseType,a=i.currentTeamNum,c=i.isShownOverview,s=(i.currentPlanName,i.currentPlan,i.currentAmount,i.currentChoose),l=i.planOverviewTitle,u=i.isShownCancel,d=(i.coupon,i.planOverviewBtnText),f=i.price,m=(i.price_m,i.planText),p=i.upgradeCostInfo,h=i.isForceYear,v=i.billingPeriod,y=i.isUpgradeBtnLoading,g=i.isShownPayment,b=i.paymentType,j=i.isCheckoutLoaded,w=i.isShowOverviewLoading,x=an()("switch",{active:"year"===o}),S=n.plans,I=r.premium||"",O=function(e,t,n){if("free"===e)return 0;if("basic"===e)return n?S.premium_planm.OriginPrice:S.premium_planm.Price;if("professional"===e)return n?S.pro_planm.OriginPrice:S.pro_planm.Price;if("team"===e){var r="team_plan_"+t+"m";return n?S[r].OriginPrice:S[r].Price}},E=function(e,t,n){if("free"===e)return 0;if("basic"===e)return n?S.premium_plan.OriginPrice:S.premium_plan.Price;if("professional"===e)return n?S.pro_plan.OriginPrice:S.pro_plan.Price;if("team"===e){var r="team_plan_"+t;return n?S[r].OriginPrice:S[r].Price}},N=function(e,t){if("basic"===e)return{m:S.premium_planm.EnableDiscount,y:S.premium_plan.EnableDiscount};if("professional"===e)return{m:S.pro_planm.EnableDiscount,y:S.pro_plan.EnableDiscount};if("team"===e){var n="team_plan_"+t;return{m:S["team_plan_"+t+"m"].EnableDiscount,y:S[n].EnableDiscount}}},D=_c(Ec);S.premium_plan&&D.forEach((function(e){if("free"===e.type)e.EnableDiscount=!1,e.EnableDiscount_y=!1;else if("team"!==e.type){var t=N(e.type);e.EnableDiscount=t.m,e.EnableDiscount_y=t.y}else e.EnableDiscount={},e.EnableDiscount_y={},Dc.forEach((function(t){var n=N("team",t);e.EnableDiscount[t]=n.m,e.EnableDiscount_y[t]=n.y}));if("team"!==e.type)e.price=O(e.type),e.price_y=(0,Le.MW)(E(e.type)),e.price_o=O(e.type,0,!0),e.price_y_o=(0,Le.MW)(E(e.type,0,!0));else if("team"===e.type){var n={},r={},i={},o={};Dc.forEach((function(e){n[e]=O("team",e),r[e]=(0,Le.MW)(E("team",e)),i[e]=O("team",e,!0),o[e]=(0,Le.MW)(E("team",e,!0))})),e.price=n,e.price_y=r,e.price_o=i,e.price_y_o=o}})),I.PlanName,I.PlanName,"Team Plan"===I.PlanName&&I.Cap===a&&I.Interval;var A=function(){return(0,sn.jsxs)("div",{className:"plan-page",children:[(0,sn.jsx)("div",{className:"bg-container"}),(0,sn.jsxs)("div",{className:"main",children:[(0,sn.jsx)("div",{className:"title",children:"Pick a plan that suits your needs"}),(0,sn.jsx)("div",{className:"title-tip",children:"All prices listed below are in USD."}),!n.isLoading&&!r.isLoading&&j&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"switcher",children:(0,sn.jsxs)("div",{className:x,children:[(0,sn.jsx)("div",{className:"switch-tip"}),(0,sn.jsx)("div",{className:"switch-thumb"}),(0,sn.jsx)("div",{className:"switch-item month",onClick:function(){e.handleChangePurchaseType("month")},children:"Billed Monthly"}),(0,sn.jsx)("div",{className:"switch-item year",onClick:function(){e.handleChangePurchaseType("year")},children:"Billed Yearly"})]})}),(0,sn.jsx)("div",{className:"plan-container",children:(0,sn.jsx)("div",{className:"plan-box",children:D.map((function(t){return(0,sn.jsx)(kc,{plan:t,purchaseType:o,currentTeamNum:a,upgradeInfo:r.premium.upgradeInfo,handleChoose:e.handleChoosePlan},t.type)}))})}),(0,sn.jsx)(Ic.Z,{visible:c,price:f,planText:m,title:l,handleCancel:e.handleCancel.bind(null,"Overview"),handlePay:e.handlePay,handleBillingPeriodChange:e.handleBillingPeriodChange,btnText:d,currentChoose:s,billingPeriod:v,upgradeCostInfo:p,isForceYear:h,isUpgradeBtnLoading:y,isShowOverviewLoading:w,handleApplePay:e.handleApplePay}),(0,sn.jsx)(xc.Z,{visible:u,handleCancel:e.handleCancel.bind(null,"Cancel"),handleCancelPlanSuccess:e.handleCancelPlanSuccess}),(0,sn.jsx)(Sc.Z,{visible:g,handleCancel:e.handleCancel.bind(null,"Payment"),type:b})]})]}),!n.isLoading&&!r.isLoading&&j&&(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"faq-area",children:(0,sn.jsxs)("div",{className:"faq",children:[(0,sn.jsx)("div",{className:"title",children:"FAQs"}),(0,sn.jsx)(Ua.Z,{ghost:!0,expandIconPosition:"right",expandIcon:function(e){var t=e.isActive;return(0,sn.jsx)(cn.e0,{rotate:t?270:90})},children:Nc.map((function(e){return(0,sn.jsx)(Kc,{className:"faq-header",header:e.header,children:(0,sn.jsx)("div",{children:e.content})},e.header)}))})]})}),(0,sn.jsx)("div",{className:"contact",children:(0,sn.jsxs)("div",{className:"contact-win",children:[(0,sn.jsx)("div",{className:"pic"}),(0,sn.jsx)("div",{className:"form-area",children:(0,sn.jsx)(Oc.Z,{})})]})})]})]})};return Mr.Z.isSafari()?(0,sn.jsx)(jc.Elements,{stripe:(!Tc&&Mr.Z.isSafari()&&(Tc=(0,wc.J)("pk_live_dEyUjlPXO4pAhgsnnuUwrbEm")),Tc),children:A()}):A()}}],n&&Uc(t.prototype,n),r&&Uc(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(zt.Component),Qc={loadUserInfo:Yt.Lk,loadPlans:Kt.Z};const qc=(0,o.$j)((function(e){return{user:e.user,plan:e.plan}}),Qc)(Yc);n(25871);var Jc=n(97491),Xc=n(95411),$c=n(73732),es=n(22037),ts=n(74601),ns=n(28191);function rs(e,t){var n=e;function r(e){"google_login_success"===e.data&&t&&t()}(0,zt.useEffect)((function(){return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}));return[function(){var e="";n&&(e=n+"_google");var t="width=800,height=700,top="+(window.screen.availHeight-30-700)/2+",left="+(window.screen.availWidth-10-800)/2;if(Mr.Z.isSafari()){var r="/web/user/google_login";e&&(r=r+"?from="+e),window.open(r,"Login in with Google",t)}else(0,rn.EaK)(e).then((function(e){var n=e.data.data.login_url;window.open(n,"Login in with Google",t)}))}]}var is=n(58429);function os(e){return os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},os(e)}function as(e){return function(e){if(Array.isArray(e))return fs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ds(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cs(Object(n),!0).forEach((function(t){ls(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ls(e,t,n){return t=function(e){var t=function(e,t){if("object"!==os(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==os(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===os(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function us(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||ds(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ds(e,t){if(e){if("string"==typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fs(e,t):void 0}}function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ms={loadUserInfo:Yt.Lk,showItem:et.oV};const ps=(0,o.$j)((function(e){return{isUserLoaded:e.user.isLoaded,userInfo:e.user.info}}),ms)((function(e){var t=e.isUserLoaded,n=e.userInfo,r=e.loadUserInfo,i=e.showItem,o=(0,Wt.UO)(),a=(0,qt.Z)(),c=(0,Wt.s0)(),s=(0,Wt.TH)(),l=us((0,zt.useState)(null),2),u=l[0],d=l[1],f=us((0,zt.useState)([]),2),m=f[0],p=f[1],h=us((0,zt.useState)([]),2),v=h[0],y=h[1],g=us((0,zt.useState)(!1),2),b=g[0],j=g[1],w=us((0,zt.useState)(!1),2),x=w[0],S=w[1],I=us((0,zt.useState)(!1),2),O=I[0],E=I[1],N=us((0,zt.useState)(null),2),D=N[0],A=N[1],C=us((0,zt.useState)(!1),2),P=C[0],k=C[1],T=us((0,zt.useState)(1),2),L=T[0],_=T[1],R=(0,zt.useRef)(),M=us(rs("sharefolder",z),1)[0],Z=a.get("page")?Number(a.get("page")):1,F=(0,is.Z)(b,P,200,(function(){if(b||O||L===Hi.J6||P||D&&D.total<20||x)return;j(!0),(0,rn.usf)("",Z,B,R.current,!1,V,L+1).then((function(e){j(!1),null!==e.items?(A((function(t){return ss(ss({},t),{},{items:[].concat(as(t.items),as(e.items)),total:e.total})})),R.current="create"===e.sort?e.items[e.items.length-1].createdSec:e.items[e.items.length-1].updatedSec,_((function(e){return e+1})),e.items.length<20&&k(!0)):k(!0)}))})),U=us(F,2),H=U[0],G=U[1],B=o.folderID,V=o.shareKey;function z(){r()}(0,zt.useEffect)((function(){var e=localStorage.getItem("restore_modal");if(e){var t=JSON.parse(e);i({currentItem:t,itemList:[t]}),localStorage.removeItem("restore_modal")}}),[]),(0,zt.useEffect)((function(){S(!0),(0,rn.vQG)(B,V).then((function(e){S(!1),d(ss(ss({},e.folder),{},{owner:e.owner})),e.parentFolders.length?p(function(e,t){return[].concat(as(t.reverse()),[e])}(e.folder,e.parentFolders)):p([]),y(e.subFolders)})).catch((function(e){"Invalid share key."===e&&c("/404")}))}),[B]),(0,zt.useEffect)((function(){E(!0),(0,rn.usf)("",Z,B,"",!1,V).then((function(e){if(E(!1),null===e.items)return A(e),void k(!0);A(e),_(1),k(!1),R.current="create"===e.sort?e.items[e.items.length-1].createdSec:e.items[e.items.length-1].updatedSec})).catch((function(e){E(!1),"Invalid share key."===e&&c("/404")})),H.current&&(H.current.scrollTop=0)}),[B,Z]),(0,zt.useEffect)((function(){void 0===n.uid&&t&&(0,Le.Zf)(z)}),[n,t]);var W=(0,zt.useCallback)((function(e){var t=D.items.map((function(e){return{id:e.id,itemType:e.itemType,shareKey:e.shareKey}}));i({currentItem:e,itemList:t})}),[D]);function K(){var e=m[m.length-2].folderID;c("/s/folder/"+e+"/"+V)}return(0,sn.jsxs)(sn.Fragment,{children:[!t&&(0,sn.jsx)(En.Z,{}),u&&(0,sn.jsx)("div",{className:"share-folder-page",ref:H,id:"item-container",children:(0,sn.jsxs)("div",{className:"inner-container",children:[t&&!n.uid&&(0,sn.jsxs)("div",{className:"sign-in-banner",children:[(0,sn.jsx)("span",{className:"h1",children:"Welcome !"})," Sign in to save the folder shared with you",(0,sn.jsx)($t.Z,{ghost:!0,className:"other-sign-in-btn",onClick:function(){window.location.href="https://"+window.location.host+"/signin?expand=true&redirect="+window.location.href},children:"Other ways to sign in"}),(0,sn.jsxs)("div",{className:"google-sign-in-btn",onClick:M,children:[(0,sn.jsx)(cn.Kv,{})," Sign in with Google"]})]}),t&&n.uid&&n.uid!==u.owner.uid&&(0,sn.jsxs)("a",{className:"share-with-me-link",onClick:function(){s.state&&s.state.inApp?c(-1):c("/shared_with_me")},children:[(0,sn.jsx)(cn.Dn,{})," Shared with me"]}),(0,sn.jsxs)("div",{className:"topbar",children:[(0,sn.jsxs)("div",{className:"title-area ".concat(u.description?"crumb":""),children:[(0,sn.jsx)("div",{className:"title",children:0===m.length?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(cn.RO,{className:"title-folder-icon"}),u.name]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"crumb-back-btn",onClick:K,children:(0,sn.jsx)(cn.e0,{})}),m.map((function(e,t){var n=m.length-1!==t;return(0,sn.jsx)(Xc.Z,{count:m.length,folder:e,clickable:n,shareKey:V,noShareIcon:!0},e.folderID)}))]})}),(0,sn.jsx)("div",{className:"desc",children:u.description})]}),(0,sn.jsxs)("div",{className:"author-area",children:[(0,sn.jsx)("div",{className:"author-title",children:"Shared by"}),(0,sn.jsxs)("div",{className:"author-info",children:[(0,sn.jsx)(Rr.Z,{size:32,username:u.owner.fullName,avatarUrl:u.owner.avatarURL}),(0,sn.jsx)(Zr.Z,{width:200,text:u.owner.fullName})]})]})]}),(0,sn.jsxs)("div",{className:"share-folder-item-container",children:[v.length>0&&(0,sn.jsx)($c.Z,{type:"compact",subTitle:"Folders",children:v.map((function(e){return(0,sn.jsx)(ts.Z,{shareKey:V,folder:e},e.folderID)}))}),D&&D.items&&D.items.length&&(0,sn.jsxs)($c.Z,{subTitle:"Images & Videos",children:[D.items.map((function(e){return e.shareKey=V,(0,sn.jsx)(ns.Z,{item:e,handleShowItem:W,isFolder:!0},e.id)})),b&&(0,sn.jsx)(es.Z,{})]}),b&&(0,sn.jsx)(Jt.Z,{}),L<Hi.J6&&!P&&(0,sn.jsx)("div",{style:{height:"10px"},ref:G}),(L===Hi.J6||P)&&D.total>100&&(0,sn.jsx)("div",{className:"pagination",children:(0,sn.jsx)(Jc.Z,{current:Z,pageSize:100,total:D.total,showSizeChanger:!1,onChange:function(e){c(s.pathname+"?page="+e)}})})]})]})}),(0,sn.jsx)(bo,{})]})}));var hs=n(1660);function vs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ys(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gs={loadUserInfo:Yt.Lk,loadWorkspaces:Qt.Pf};const bs=(0,o.$j)((function(e){return{currentPlan:e.user.premium.currentPlan,isLoading:e.user.isLoading}}),gs)((function(e){var t=e.isLoading,n=e.currentPlan,r=e.loadUserInfo,i=e.loadWorkspaces,o=(0,Wt.s0)(),a=vs((0,zt.useState)(0),2),c=a[0],s=a[1],l=vs((0,zt.useState)(!1),2),u=l[0],d=l[1],f=vs((0,zt.useState)({}),2),m=f[0],p=f[1],h=vs((0,zt.useState)(!1),2),v=h[0],y=h[1];function g(){y(!0)}function b(){window.location.href="/workspace/"+m.workspaceID+"/"+m.channelID}return(0,zt.useEffect)((function(){r()}),[]),t?(0,sn.jsx)(En.Z,{}):(0,sn.jsxs)("div",{className:"transfer-workspace",children:[(0,sn.jsxs)("div",{className:"left",children:[(0,sn.jsx)("div",{className:"pic"}),(0,sn.jsx)("div",{className:"title",children:"Create a new workspace"}),(0,sn.jsx)("div",{className:"desc",children:"Collaborating with your team in a workspace, you can communicate and share images and videos with colleagues."}),(0,sn.jsxs)("ul",{className:"list",children:[(0,sn.jsx)("li",{children:"Collaborate with teammates"}),(0,sn.jsx)("li",{children:"Seamless synchronization across different platforms"}),(0,sn.jsx)("li",{children:"Powerful visual repository for your team"})]})]}),(0,sn.jsx)("div",{className:"right",children:0===c?(0,sn.jsxs)("div",{children:[(0,sn.jsx)("div",{className:"desc",children:"To create a workspace, you need to give it a name, and the channel under the workspace also needs a name."}),(0,sn.jsx)("div",{className:"form",children:(0,sn.jsxs)(en.Z,{onFinish:function(e){d(!0),(0,rn.Ufv)(e.workspaceName,e.channelName,"").then((function(e){if("team"!==n.PlanName)return nn.ZP.success("Transfer Successful"),i(!0),r(!0),void o("/workspace/".concat(e.workspaceID,"/").concat(e.channelID));p({workspaceID:e.workspaceID,channelID:e.channelID}),d(!1),s(1)})).catch((function(e){nn.ZP.error(e),d(!1)}))},children:[(0,sn.jsx)("label",{children:"Workspace name"}),(0,sn.jsx)(en.Z.Item,{name:"workspaceName",rules:[{required:!0,message:"Workspace name is needed."}],children:(0,sn.jsx)(tn.Z,{size:"large",autoComplete:"off"})}),(0,sn.jsx)("div",{className:"tip",children:"Name your workspace something your team will recognize"}),(0,sn.jsx)("label",{children:"Channel name"}),(0,sn.jsx)(en.Z.Item,{name:"channelName",rules:[{required:!0,message:"Channel name is needed."}],children:(0,sn.jsx)(tn.Z,{size:"large",autoComplete:"off"})}),(0,sn.jsx)("div",{className:"tip",children:"It could be a project, party, campaign or anything"}),(0,sn.jsx)(en.Z.Item,{children:(0,sn.jsx)($t.Z,{type:"primary",size:"large",className:"transfer-btn",block:!0,htmlType:"submit",loading:u,children:"Create & Transfer"})})]})})]}):(0,sn.jsxs)("div",{className:"card-form",children:[(0,sn.jsx)("div",{className:"success-icon",children:(0,sn.jsx)(cn.m9,{})}),(0,sn.jsx)("div",{className:"title",children:"Transfer Successful"}),(0,sn.jsxs)("div",{className:"text-panel",children:[(0,sn.jsx)("h1",{children:"We have adjusted plans to best suit growing teams."}),(0,sn.jsxs)("ul",{children:[(0,sn.jsx)("li",{children:"Instead of buying a fixed number of seats at the beginning, now you will be billed on a prorated basis."}),(0,sn.jsxs)("li",{children:["You will only need to pay for the amount of time that team members in the workspace."," "]}),(0,sn.jsxs)("li",{children:["If you remove a workspace member before your subscription ends, you will receive a refund balance on your account."," "]})]})]}),(0,sn.jsx)("h3",{children:"Re-enter payment information "}),(0,sn.jsx)("div",{children:"You will need to re-enter your payment information for this update. Paypal is no longer supported. Note that you will not be charged until your next billing cycle."}),(0,sn.jsxs)("div",{className:"btn-area",children:[(0,sn.jsx)($t.Z,{type:"primary",block:!0,size:"large",onClick:g,children:"Update payment infomation"}),(0,sn.jsx)("div",{className:"cancel",children:(0,sn.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),Nn.Z.confirm({title:"Notice",content:"If you skip re-entering your payment information now, your future subscription might be affected. Please change your payment information ASAP.",okText:"Go to update",cancelText:"I will change it later",onOk:g,autoFocusButton:null,onCancel:b})},children:"Not now"})})]}),(0,sn.jsx)(hs.Z,{visible:v,onCancel:function(){y(!1)},workspace:{id:m.workspaceID},type:"changeCard",afterUpdate:function(){b()}})]})})]})}));var js=n(43087);function ws(e){var t=e.folder,n=e.clickable,r=e.count,i=e.shareKey,o=e.noShareIcon,a=(0,Wt.s0)(),c=an()("crumb-item",{clickable:n}),s=Math.floor((30*(r-1)+92)/(r-1))+36,l=Math.floor(100/(r-1)),u={maxWidth:"My Items"===t.name?"92px":"calc("+l+"% - "+s+"px)"};return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(An.Z,{title:t.name,mouseEnterDelay:.5,children:(0,sn.jsxs)("div",{className:c,style:u,onClick:function(){n&&("0"===String(t.folderID)?a("/my_items"):a(i?"/s/workspace/folder/".concat(t.workspaceID,"/").concat(t.channelID,"/").concat(t.folderID,"/").concat(i):"/folder/".concat(t.folderID)))},children:[!n&&(0,sn.jsxs)("div",{className:"folder-icon",children:[t.isInStarred?(0,sn.jsx)(cn.wn,{}):(0,sn.jsx)(cn.RO,{}),!o&&t.shareKey&&(0,sn.jsx)("div",{className:"shared-badge",children:(0,sn.jsx)(cn.Od,{})})]}),t.name]})}),n&&(0,sn.jsx)("div",{className:"crumb-sep",children:(0,sn.jsx)(cn.e0,{})})]})}const xs=(0,zt.memo)(ws);var Ss=n(96774),Is=n.n(Ss);function Os(e){var t=e.folder,n=e.shareKey,r=(0,Wt.s0)();return(0,sn.jsxs)("div",{className:"folder-item",children:[(0,sn.jsx)("div",{className:"click-area",onClick:function(){r("/s/workspace/folder/".concat(t.workspaceID,"/").concat(t.channelID,"/").concat(t.folderID,"/").concat(n),{state:{inApp:!/\/s\/workspace\/folder/.test(window.location.pathname)}})}}),(0,sn.jsx)(cn.RO,{}),(0,sn.jsx)("span",{className:"name",children:t.name||t.title})]})}const Es=(0,zt.memo)(Os,(function(e,t){return Is()(e.folder,t.folder)}));var Ns=n(41609),Ds=n.n(Ns),As=n(1216),Cs=n(2264);function Ps(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ks(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ks(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ks(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ts(e){var t=e.item,n=e.handleShowItem,r=Ps((0,zt.useState)(!1),2),i=r[0],o=r[1];(0,zt.useEffect)((function(){var e=setTimeout((function(){return(0,As.be)()}),100);return function(){return clearTimeout(e)}}),[]);var a,c=(0,zt.useRef)(null),s=function(){n(t)},l=an()("shared-grid-item",{notify:t.info.hasNewComments});return(0,sn.jsx)("div",{className:l,ref:c,children:(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"thumbnail-area",onClick:s,children:(a=t.info,"video"!==a.itemType||Ds()(a)||a.s3Available&&(Mr.Z.webmSupport()||a.mp4Available)?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(As.ZP,{scrollContainer:"#item-container",offset:100,once:!0,children:(0,sn.jsx)("img",{src:t.info.thumbnailURI,alt:"",onLoad:function(){return o(!0)},onError:function(e){return e.currentTarget.style.opacity="0"}})}),!i&&(0,sn.jsx)("div",{className:"placeholder",children:"video"===t.itemType?(0,sn.jsx)(cn.dG,{}):(0,sn.jsx)(cn.K,{})}),(0,sn.jsx)("div",{className:"overlay"}),"video"===t.itemType&&(0,sn.jsx)("div",{className:"duration",children:t.info.duration})]}):(0,sn.jsxs)(sn.Fragment,{children:[t.info.thumbnailURI&&(0,sn.jsx)(As.ZP,{scrollContainer:"#item-container",offset:100,once:!0,children:(0,sn.jsx)("img",{src:t.info.thumbnailURI,alt:"",onLoad:function(){return o(!0)},onError:function(e){return e.currentTarget.style.opacity="0"}})}),(0,sn.jsx)(Cs.Z,{isShare:!0,videoInfo:t.info})]}))}),(0,sn.jsxs)("div",{className:"info-area",children:[(0,sn.jsx)("div",{className:"name ".concat(t.itemType),onClick:s,children:(0,sn.jsx)("span",{children:t.info.title})}),(0,sn.jsxs)("div",{className:"extra-info",children:["video"===t.itemType?(0,sn.jsx)(cn.dG,{}):(0,sn.jsx)(cn.K,{}),(0,sn.jsx)("div",{className:"date",children:yi().unix(t.updatedSec).format("ll")}),(0,sn.jsx)("div",{className:"sep",children:"•"}),(0,sn.jsxs)("div",{className:"view",children:[t.info.views," ",t.info.views>1?"views":"view"]})]})]})]})})}const Ls=(0,zt.memo)(Ts,(function(e,t){return e.handleShowItem===t.handleShowItem&&Is()(e.item,t.item)}));function _s(e){return _s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(e)}function Rs(e){return function(e){if(Array.isArray(e))return Gs(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Hs(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ms(Object(n),!0).forEach((function(t){Fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fs(e,t,n){return t=function(e){var t=function(e,t){if("object"!==_s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_s(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Us(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||Hs(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(e,t){if(e){if("string"==typeof e)return Gs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gs(e,t):void 0}}function Gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Bs={loadUserInfo:Yt.Lk,showItem:et.oV};const Vs=(0,o.$j)((function(e){return{isUserLoaded:e.user.isLoaded,userInfo:e.user.info}}),Bs)((function(e){var t=e.isUserLoaded,n=e.userInfo,r=e.loadUserInfo,i=e.showItem,o=(0,Wt.UO)(),a=(0,qt.Z)(),c=(0,Wt.s0)(),s=(0,Wt.TH)(),l=Us((0,zt.useState)(null),2),u=l[0],d=l[1],f=Us((0,zt.useState)([]),2),m=f[0],p=f[1],h=Us((0,zt.useState)([]),2),v=h[0],y=h[1],g=Us((0,zt.useState)(!1),2),b=g[0],j=g[1],w=Us((0,zt.useState)(!1),2),x=w[0],S=w[1],I=Us((0,zt.useState)(!1),2),O=I[0],E=I[1],N=Us((0,zt.useState)(null),2),D=N[0],A=N[1],C=Us((0,zt.useState)(!1),2),P=C[0],k=C[1],T=Us((0,zt.useState)(1),2),L=T[0],_=T[1],R=(0,zt.useRef)(),M=(Us(rs("sharefolder",W),1)[0],a.get("page")?Number(a.get("page")):1),Z=(0,is.Z)(b,P,200,(function(){if(b||O||L===Hi.J6||P||D&&D.total<20||x)return;j(!0),(0,rn.usf)("",M,V,R.current,!1,z,L+1).then((function(e){j(!1),null!==e.items?(A((function(t){return Zs(Zs({},t),{},{items:[].concat(Rs(t.items),Rs(e.items)),total:e.total})})),R.current="create"===e.sort?e.items[e.items.length-1].createdSec:e.items[e.items.length-1].updatedSec,_((function(e){return e+1})),e.items.length<20&&k(!0)):k(!0)}))})),F=Us(Z,2),U=F[0],H=F[1],G=o.workspaceID,B=o.channelID,V=o.folderID,z=o.shareKey;function W(){r()}(0,zt.useEffect)((function(){var e=localStorage.getItem("restore_modal");if(e){var t=JSON.parse(e);i({currentItem:t,itemList:[t]}),localStorage.removeItem("restore_modal")}}),[]),(0,zt.useEffect)((function(){S(!0),(0,js.aq)({workspaceID:G,channelID:B,folderID:V},z).then((function(e){S(!1),d(Zs(Zs({},e.folder),{},{owner:e.owner})),e.parentFolders.length?p(function(e,t){return[].concat(Rs(t.reverse()),[e])}(e.folder,e.parentFolders)):p([]),y(e.subFolders)})).catch((function(e){"Invalid share key."===e&&c("/404")}))}),[V,G,B]),(0,zt.useEffect)((function(){E(!0),(0,js.qz)({workspaceID:G,channelID:B,folderID:V},{page:M},z).then((function(e){if(E(!1),null===e.items)return A(e),void k(!0);A(e),_(1),k(!1),R.current="create"===e.sort?e.items[e.items.length-1].createdSec:e.items[e.items.length-1].updatedSec})).catch((function(e){E(!1),"Invalid share key."===e&&c("/404")})),U.current&&(U.current.scrollTop=0)}),[G,B,V,M]),(0,zt.useEffect)((function(){void 0===n.uid&&t&&(0,Le.Zf)(W)}),[n,t]);var K=(0,zt.useCallback)((function(e){(0,Le.kf)(D),(0,Le.kf)(D.items);var t=D.items.map((function(e){return{id:String(e.itemID),itemType:e.itemType,shareKey:z}}));i({currentItem:e.info,itemList:t})}),[D]);function Y(){var e=m[m.length-2].folderID;c("/s/workspace/folder/".concat(G,"/").concat(B,"/").concat(e,"/").concat(z))}return(0,sn.jsxs)(sn.Fragment,{children:[!t&&(0,sn.jsx)(En.Z,{}),u&&(0,sn.jsx)("div",{className:"share-folder-page",ref:U,id:"item-container",children:(0,sn.jsxs)("div",{className:"inner-container",children:[(0,sn.jsx)("div",{className:"topbar",children:(0,sn.jsxs)("div",{className:"title-area ".concat(u.description?"crumb":""),children:[(0,sn.jsx)("div",{className:"title",children:0===m.length?(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(cn.RO,{className:"title-folder-icon"}),u.name]}):(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)("div",{className:"crumb-back-btn",onClick:Y,children:(0,sn.jsx)(cn.e0,{})}),m.map((function(e,t){var n=m.length-1!==t;return(0,sn.jsx)(xs,{count:m.length,folder:e,clickable:n,shareKey:z,noShareIcon:!0},e.folderID)}))]})}),(0,sn.jsx)("div",{className:"desc",children:u.description})]})}),(0,sn.jsxs)("div",{className:"share-folder-item-container",children:[v.length>0&&(0,sn.jsx)($c.Z,{type:"compact",subTitle:"Folders",children:v.map((function(e){return(0,sn.jsx)(Es,{shareKey:z,folder:e},e.folderID)}))}),D&&D.items&&D.items.length&&(0,sn.jsxs)($c.Z,{subTitle:"Images & Videos",children:[D.items.map((function(e){return(0,sn.jsx)(Ls,{item:e,handleShowItem:K},e.id)})),b&&(0,sn.jsx)(es.Z,{})]}),b&&(0,sn.jsx)(Jt.Z,{}),L<Hi.J6&&!P&&(0,sn.jsx)("div",{style:{height:"10px"},ref:H}),(L===Hi.J6||P)&&D.total>100&&(0,sn.jsx)("div",{className:"pagination",children:(0,sn.jsx)(Jc.Z,{current:M,pageSize:100,total:D.total,showSizeChanger:!1,onChange:function(e){c(s.pathname+"?page="+e)}})})]})]})}),(0,sn.jsx)(bo,{})]})}));var zs=(0,zt.lazy)((function(){return n.e(267).then(n.bind(n,84912))})),Ws=(0,zt.lazy)((function(){return n.e(682).then(n.bind(n,62602))})),Ks=(0,zt.lazy)((function(){return Promise.resolve().then(n.bind(n,37638))})),Ys=(0,zt.lazy)((function(){return Promise.all([n.e(458),n.e(29)]).then(n.bind(n,66563))})),Qs=(0,zt.lazy)((function(){return Promise.resolve().then(n.bind(n,59923))})),qs=(0,zt.lazy)((function(){return n.e(538).then(n.bind(n,28707))})),Js=(0,zt.lazy)((function(){return Promise.all([n.e(330),n.e(611),n.e(314)]).then(n.bind(n,267))})),Xs=(0,zt.lazy)((function(){return Promise.all([n.e(53),n.e(717)]).then(n.bind(n,73844))})),$s=(0,zt.lazy)((function(){return Promise.all([n.e(330),n.e(806),n.e(53),n.e(685)]).then(n.bind(n,47613))})),el=(0,zt.lazy)((function(){return n.e(680).then(n.bind(n,89594))})),tl=(0,zt.lazy)((function(){return n.e(121).then(n.bind(n,7942))})),nl=(0,zt.lazy)((function(){return n.e(517).then(n.bind(n,28724))})),rl=(0,zt.lazy)((function(){return n.e(808).then(n.bind(n,7466))})),il=(0,zt.lazy)((function(){return n.e(415).then(n.bind(n,96288))}));function ol(){return(0,sn.jsxs)(sn.Fragment,{children:[(0,sn.jsx)(zt.Suspense,{fallback:(0,sn.jsx)(En.Z,{}),children:(0,sn.jsxs)(Wt.Z5,{children:[(0,sn.jsx)(Wt.AW,{path:"/loading",element:(0,sn.jsx)(En.Z,{})}),!1,(0,sn.jsxs)(Wt.AW,{path:"/",element:(0,sn.jsx)(bc,{}),children:[(0,sn.jsx)(Wt.AW,{path:"invite",type:"invite",element:(0,sn.jsx)($s,{type:"invite"})}),(0,sn.jsx)(Wt.AW,{path:"all_videos",type:"video",element:(0,sn.jsx)($s,{type:"video"})}),(0,sn.jsx)(Wt.AW,{path:"all_images",type:"image",element:(0,sn.jsx)($s,{type:"image"})}),(0,sn.jsx)(Wt.AW,{type:"item",path:"my_items",element:(0,sn.jsx)($s,{type:"item"})}),(0,sn.jsx)(Wt.AW,{type:"shared",path:"shared",element:(0,sn.jsx)($s,{type:"shared"})}),(0,sn.jsx)(Wt.AW,{type:"workspaceSetting",path:"workspace/setting/:workspaceID",element:(0,sn.jsx)($s,{type:"workspaceSetting"})}),(0,sn.jsx)(Wt.AW,{type:"sharedWithMe",path:"shared_with_me",element:(0,sn.jsx)($s,{type:"sharedWithMe"})}),(0,sn.jsx)(Wt.AW,{path:"search/:query",type:"search",element:(0,sn.jsx)($s,{type:"search"})}),(0,sn.jsx)(Wt.AW,{path:"folder/:folderID",type:"item",element:(0,sn.jsx)($s,{type:"item"})}),(0,sn.jsx)(Wt.AW,{path:"workspace/:workspaceID/:channelID",type:"channel",element:(0,sn.jsx)($s,{type:"channel"})}),(0,sn.jsx)(Wt.AW,{path:"workspace/:workspaceID/:channelID/:folderID",element:(0,sn.jsx)($s,{type:"channel"})}),(0,sn.jsx)(Wt.AW,{path:"trash",type:"trash",element:(0,sn.jsx)($s,{type:"trash"})})]}),(0,sn.jsx)(Wt.AW,{path:"/",element:(0,sn.jsx)(ki,{private:!0}),children:(0,sn.jsxs)(Wt.AW,{path:"settings",children:[(0,sn.jsx)(Wt.AW,{index:!0,element:(0,sn.jsx)(Wt.Fg,{replace:!0,to:"profile"})}),(0,sn.jsx)(Wt.AW,{path:":name/:id",element:(0,sn.jsx)(Js,{})}),(0,sn.jsx)(Wt.AW,{path:":name",element:(0,sn.jsx)(Js,{})})]})}),(0,sn.jsxs)(Wt.AW,{path:"/",element:(0,sn.jsx)(ki,{}),children:[(0,sn.jsx)(Wt.AW,{path:"contact_us",type:"contact",element:(0,sn.jsx)(nl,{})}),(0,sn.jsx)(Wt.AW,{path:"team/join/:teamID/:code",type:"teamjoin",element:(0,sn.jsx)(Ws,{})}),(0,sn.jsx)(Wt.AW,{path:"pricing",type:"pricing",element:(0,sn.jsx)(Xs,{})}),(0,sn.jsx)(Wt.AW,{path:"recorder",type:"recorder",element:(0,sn.jsx)(qs,{})}),(0,sn.jsx)(Wt.AW,{path:"video/:videoID",type:"video",element:(0,sn.jsx)(Ks,{})}),(0,sn.jsx)(Wt.AW,{path:"image/:imageID",type:"image",element:(0,sn.jsx)(Qs,{})}),(0,sn.jsx)(Wt.AW,{path:"/s/folder/:folderID/:shareKey",element:(0,sn.jsx)(ps,{})}),(0,sn.jsx)(Wt.AW,{path:"/s/workspace/folder/:workspaceID/:channelID/:folderID/:shareKey",element:(0,sn.jsx)(Vs,{})}),(0,sn.jsx)(Wt.AW,{path:"*",element:(0,sn.jsx)(el,{})})]}),(0,sn.jsx)(Wt.AW,{path:"/workspace/create",element:(0,sn.jsx)(On,{})}),(0,sn.jsx)(Wt.AW,{path:"/workspace/transfer",element:(0,sn.jsx)(bs,{})}),(0,sn.jsx)(Wt.AW,{path:"/workspace/invite/:key",element:(0,sn.jsx)(rl,{})}),(0,sn.jsx)(Wt.AW,{path:"/workspace/do_invite/:key",element:(0,sn.jsx)(il,{})}),(0,sn.jsx)(Wt.AW,{path:"/image/annotate/:imageID",element:(0,sn.jsx)(tl,{})}),(0,sn.jsx)(Wt.AW,{path:"/veditor/:videoID",element:(0,sn.jsx)(Ys,{})}),(0,sn.jsx)(Wt.AW,{path:"/uninstall",type:"uninstall",element:(0,sn.jsx)(zs,{})}),(0,sn.jsx)(Wt.AW,{path:"/pricing2",element:(0,sn.jsx)(qc,{})})]})}),(0,sn.jsx)(Nr,{})]})}(0,Vt.S)({dsn:"https://a5f0a913050f4360a69e1709083de3eb@o417487.ingest.sentry.io/5317756",release:"awesomescreenshot-web@2023-02-06, 04:56:52",ignoreErrors:["ResizeObserver loop limit exceeded","Extension context invalidated","Non-Error promise rejection captured with value: Invalid share key"],denyUrls:[/chrome-extension:\/\//,/gtag\/js/]}),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/service-worker.js")}));var al=(0,r.xC)({reducer:Bt});i.render((0,sn.jsx)(o.zt,{store:al,children:(0,sn.jsx)(a.VK,{children:(0,sn.jsx)(ol,{})})}),document.getElementById("app"))},79285:(e,t,n)=>{n.d(t,{f:()=>u});n(32399);var r=n(11382),i=n(7085),o=n(85893),a=n(67294);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,o.jsx)(i.Z,{style:{fontSize:"2em"}});function u(e){var t=e.src,n=e.width,i=void 0===n?"100%":n,s=e.height,u=void 0===s?"100%":s,d=e.title,f=void 0===d?"Video Player":d,m=e.background,p=void 0===m?"black":m,h=e.id,v=c((0,a.useState)(!0),2),y=v[0],g=v[1];return(0,o.jsx)("div",{className:"iframe-video-player",style:{background:p,height:"number"==typeof u?u+"px":u,width:"number"==typeof i?i+"px":i},children:(0,o.jsxs)(r.Z,{indicator:l,spinning:y,children:[(0,o.jsx)("iframe",{className:"iframe-video-player-content",src:t,frameBorder:"0",onLoad:function(){return g(!1)},onError:function(){return g(!1)},title:f,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,id:h}),(0,o.jsx)("div",{className:"spinner"})]})})}},73458:(e,t,n)=>{n.d(t,{So:()=>L,VM:()=>C,jw:()=>P,hO:()=>T,wD:()=>k,Xf:()=>D});var r=n(61312),i=(n(67294),n(85893));function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=function(e){return(0,i.jsxs)("svg",c(c({width:"1em",height:"1em",viewBox:"0 0 40 41",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",role:"img"},e),{},{children:[(0,i.jsx)("path",{d:"M0 40.8h40V.8H0v40Z",fill:"url(#Like_Emoji_svg__a)"}),(0,i.jsxs)("defs",{children:[(0,i.jsx)("pattern",{id:"Like_Emoji_svg__a",patternContentUnits:"objectBoundingBox",width:1,height:1,children:(0,i.jsx)("use",{xlinkHref:"#Like_Emoji_svg__b",transform:"scale(.00625)"})}),(0,i.jsx)("image",{id:"Like_Emoji_svg__b",width:160,height:160,xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgCAYAAACLz2ctAABJEklEQVR4nO29ebQt2Vkf9ttDVZ3hTu/eN/Y8qJse1GKQQAjJCEk4cTASg8hiCjYssMPCib0IWYmBFbxIbOwYTHACCTFDgDgMQgQhRBgMSAINSHJLrZ4kdUvd6n7dr1+/+d3pnKrae3/549t7166655x77xv63u73vrfuO+fUqaqzd9Wvvvn7tsB12jXR499/D8yZe0H1bTS6uOickUKqSkp9CsPbHoQcPAZgvNfjfDmQoM/84F6P4eVB5uTX1+ef+RZTjr5WQNxHICkgACEghISQAtbUsHUFqfTTxXDxz9Xy/e8C8Od7PfT9TIIe/969HsP+ptHxt26efuYnAfEm3RtC5QWk1Aw8KQEheT9yIGvhnIGrS5hyBFuVkDr7yODGB34WwO/t6Tz2KQl65Fv3egz7lupzT/3I5rlTP9NbOICsPw+pc0BpQOUABO8kJEDOH0GAKQFn4UwFW5cw5SaqzXXkg7nf7t/8lv8KwNk9ms6+pOsieArVpz/2oxdPHP+puYOHkQ8WGHxZnwEnC0AoQIjmAHIAWf9nADMGmRrO1rDVCOX6Kurx6MXlV3359wL4k72a134jQZ/6T/d6DPuPzPh1Jz/z0CfmD64gHy5CFwOIAEDZA0QGCO13lgAcAPIgrAFXehCWIFt7bjhGPdrAeG0VC0du/GEAP7dn89tHpOvVF/d6DPuOLp44/iu9edb3hPQ6npSe6ylA5F73CxxQASD+EwKAAxwBKoMAQ5RJgIhw4fln/pelm24/DODHXsp57UfSUYm+TgAAXQxeW1f1a3oLCxBSAd7SBSRzPaEZhJBIocXgcwARA1QKPhYCgiykygAAWc/B9kuceerJH12+5bYegP/mJZ7iviLtTL3XY9hXNB6d+lalFaTy4AskU9CFP9E52nNJePEsPVdUOQRVECCoLEcxtwBnLc48/dQPH37V3WcA/NTVntd+JS2V3n6va4jGF8/dKwSLyihWAdbvhACL20ngazgef0UANO9KFpAWghykzqCKPnrzFgDhxSef+Bc3ve5rP45r1F+os8Wjez2GfUX1C88OAcBZC3IWAEDkIII2t0VlSYFI/rNiQyWAV+aAchBkAShIpaF7AxREcNbi+Cc++Ic3v+nv3QLg9FWd3D4kjeLWvR7DviKij5+2xoKsBTnnOWGXxMS3gPCYCyJaAbAMRum5IAChCJIIKi+QD4aoRmXv9Kfe9R4Ab7xK09q3pE9/6l17PYZ9RcXc3GNrZ87BmhqaiI0KAJGbYRIgExIAKHDBsD+xbqhygByEJEA5SJ1D5wXyQQ8XT61/ze1f+bq3A/jDqzOz/Un64J337/UY9hWRrT9y8cUzcNbC1RUo7zEIKdEHI4kJ7ykBoQQbJJZFt1DsmiELCAUpFWSWI+/30Z8b47mHH/xFXGsAfO7hB/d6DPuKbv6ab/ob0MMXnbGLzloQuQZ85LwxEnS9SSSaFwo6owKQASIBonAQSkGqDCrvIe/3MNpYv+GW19z3XQB+8yWY6r4gfeyee/d6DPuKzLknyryffdDW5h3kHOuBzvp4byqGJ3G/LqVc0CAaMVJBOAsCJzQonSEf9FH0NnHq80/8OK4lAJ76/BN7PYZ9R0vHjn7wwgsvvMNZA3KWDRHnY7yYBcSUBHPKlAsK6Q9RgJQQJCGkglAaKsuR9wusnhndd+fXff1XAvjE1Z/p3pO+4bVft9dj2H9Urn3o7PETIEdw1njRG8SwnYC57URyMEo0gMqLYf4TUkFIFsVZUUDqEdaffeR7cK0AcP3ZR/Z6DPuO5u54y8NCfGLdOTcXXDFE7EhuOaeB2diLXFCx/kde//PpW8KDUCoFpxRUkSMvFM6/cOqbAPzjqzrJfUL6/Aun9noM+47Ov/A747yXP+isfXPQAYkIwtWASiMkU5E3gWRigBgvlm2MM0upoXSOvJ9j9ezolju/9q1fBuChKz65fUb65q96y16PYV/Shac+9eB4bePN5HxEJLpigiW82zOmeTHtg4WUgGROqPIMUo6w8fxn/i6uBQBuPP+ZvR7DvqTB0sFPbl5Y45BcAB/ZxA0TKHDCHbhmtrxnMUywURwrnUFnAutnz371FZ3QPiW9fvZ6hvgkOnzXsYeICKkIjhww/ineeTs9MOqMaQhPeKvY+qIm/pNKQWUS5WZ17y1/67vSg1+RpI+89tv2egz7k6rnnwRwjhwtEzkQWe+KcdseOptmyW4BITiebGrcgfqFIwBOXuYP7mvSqF/Y6zHsTxKyUlo+4px7M7nghgGYIe0GhB0GFgyRST8ZakyEgLMQyI4cwysegNmRvR7DvqW813u4LssIQAJ5V8w0miSLdylFhYBUAuSA+vRDr/ibo+vTD+31GPYtzR+58eOnv/Bkk5YVuOAWQ2SXRLbJcyXieLN/z1xQwFkgm1saXN4M9j/pbG5pr8ewfymb/wzREzExlS3hNBQXaJYVsh1QIxL5xTEY+Sdlsesxv8xItwtrrlOL1PxTQsrSWVe0UvMnitlZlOiPZCdsbz6T3+YsAFu/4m+Ohr1elDSVNo6fzwr9BWfNfeQc64DT9t3WFTPtOM/5gsvHOjjrAAJsXZaXPviXB2lbv+LneFmksvxpZ+19W1PzO85oMYsLpvsGoySxrIMeSATnLMgRpAZGF06PrsQc9jPp0YVrrg5mV9RfXHp67dQpzNbldhKXS5zYRIBzifHhIgjJOVjrYGtg7sa7L1z2BPY56bkb797rMexrKs899zxNBN+karguUYLb1NgI2dUN5yNn4ayBrQ2cJagMQHHrKz5T5HpV3DYk1YttETFR1G4HxhBL9hwwTW7w4CPnEBNgHaAybMCtXgMAdKt7PYZ9Tc5Uq1JOMkZ34wdMoyhsCXN4z7HOR85zQAtTGRABOsczT73/PRcvfwb7m/RT73/PXo9hX9MN99wOqRUnDEAkTYm2y3zpAjTofzbhfA3wnDVwxsBZB1MC/XlxTdRK6CzfdWLbNUXO1AOpOG0eIrTe2I17LgDRNWLXNRwQ5EDOwJkapqrhLMHWQG+u9+hVmM6+I92b6+31GPY1WVPdoHTG6VKtlmxJcum2QZAQPXGAM9HaDcmu5BysYQPEWgI5oL+w8IGrNql9RLq/sLDXY9jXZKrq1SrPGw4oQtesS5AcoYtqfO9Y/JoatqpgjYU1gLMoB8tH/+ZKzmO/kh4sX29ONIvOPfv5txXDuZixzOJ3mgiewQop8QESO3ZCIoKzBtZaOOtQjwFIPPj4+z+9cTXms99IP/7+T+/1GPYt3ffWL/06KeURlfe4Q6r0pZWi0ztwRxQMEBet3tBZ39Y1bG1gaoIZA/OH8cdXYz77kfT8wb0ewv6ltReP/1DW70MoDSEUIDNs6Q0otryZQGkZZ9Nnhhy7YZxh7ucMYA2wcHDxP1zpuexX0gsHF/d6DPuSDtz1VcunH/vQt80fPAKpNIQUiQgOYNspF2zv19SahLVFfAiuBsjh9MKxW6+JonQA0AvHrkdCJtHG84//w7zfF9yoXAFST+aAwITPU4go6byKKIrZIc3ul6yPv/jsBx6+3MKTlw3pz37g4b0ew76kw7cP/uHwwAEIqRsAxuUZkg5Y2/aGmfEjRD5CF5JRgf4CPnrlZrH/Sfeve2G20O2v+4qvP/fsE7ervM+9W4T03E90/nZPsfCItqZwEYBioB669JG//EgXg8kVWtcynf3i536yNz8PpTMIpQDlez6LDLEWeCb3m04xr1AIgIhdi74UE4QKwDXVKeB6i/wO3XD/l37Z2ac/+zW66Hnr15dRSt0Wv1uomxEzZS8pGs4nhF+LJJ7ixQsn7TWVoKkvnLTb73UNkc4f+/nhgQNQWRE7FvDihBqNAXKJRkjriOYYBiUgBF7x6Vdd0jMzya8xuvVLb/iWanPjjVlv2BgfKgMvzaVxueI3JDMI4QEX0ryEABGgNK653Dh9fZ0api/5z96uTn7yT39j4dAhSK0hQgaMKnidD5EaISntAIixp0xyjM+oEUJACgkhWMpfa6SvxUlPotOP/MX/1Z8fzqmiB6EyXpRa5wn4LoH7UfjPoRs/FoDXLwM3FJCKrrmogJbXjWDccO+t37Z57uz35IM5SJVBKu7bDFUAomARjMR42BWFFP0JHNDrmFIqSCkhhLvx2JfcIrG75jMva9I33HPLXo9hT6l/9J5Dz//Hv/jdhUMrkFkBqTMIqVn3U30PvtT63UURejcZFeAO+dK02rFJraAyBSHNEVONbwfwhSs7y/1L2lTjvR7DntILn/zLPx4sDJH1Bh58CkJngPbgEznvOFH07oQj+mTUsORrOE4Ib2X7tePyDEqXGF1cfSOuJQCOLl5zhldKv50V+WuL+UWovOCkA6WZ88k+i1/IHVTC7ZYEmqaUCkIpKK2RFRrj9fE/APAbl3HylxXp8fq1yQGXbzzy326cv/DtvaUF9vlJDakyCN0D9MCDb5ro3S34kuiHkBBCsGboAah0Dpdb5AMDU228af7g4tcB+MBlTfBlQnrh0NJej+Elp8Hy4W89/dQXfnp+ZQm66EPpjMWv2qnonUad5RumFbQnERCpOBVL5znIWvTmDFbPXHz30bvufAOAJy91ji8X0oMD11ZGajZY/OrnH/nU7w0PzEP3BlA6Z7eLyoB8MEH0Xn7Uo6X7SQU4CQi/VoiU4EXDCbqIyz+snPrCUw8tHjn4AwB+69Jm+vIgXa5fOzpgf+ngfc89/MkPDBaGyAdDKG/1Sp0BWQEoD0DoywQfod0YlcArJfnluqSEcILT/KEhpINEBuSIRolU64ONc+d/U2r1jkN33vcTeIVyQ+H+5tpYI1n05u44/om/fmiwMJgv5uaR9QZQeQ9SF5B5H8gXADmXcD9gdwDsiNuYeGoBqgGqADL8av2fs3C29tnRvlzT8jZb1zDlCPV4DFPVlPd7vzx/+MafB/CKSuAU1Qe/fK/HcNUpW7nz6HMf/eOHi2FxqLcQwNf3HDAH8nlAzwOih0vjfhNat0Ud0KIBoQVcyX+25AL1LX++aMkarparSpiqhPFlm1mRv/vAzXf9CoA/uVLXZy/pFc8BxcJdB5//6O9+Iuvlt/UX5pH1WfSqrAeZ5UA2BPSCF73ZFPDFs03Zvh0AyXM/zwldCbgasPVkEIbCdV+yyWC0sKZGPRqDnIPK9EPD5UO/Uhy6413AyzeLRtDDb9/rMVw90ss3PfeRd/91VmS39RfmGHx5zwOwALIBkC0AcgAghNuAnQNwWt5fF4BgAMI2Ytglojhpz0bOIHblJy5Y4lJOikB01sJWJSz3klnPB/33Lhy99T1y8b73AnhZdRwV9Pj37/UYrg65tTue+9gffTTLs8O9uQGywRC6GESxK/IBoIeAHHrRK7bhfkDHsphBnV6AcAkAvUh2Xid0rAvC+dZsXgekpG0b4PsIhko6otjMyNYV6rKCrQ2ElCd0nv1Bb37uvb2FlT8D4PTKl+WguoeNL86ZcjMTShVS54twLiOymTOmR85KU40Kck5J9k06IVUtlK6z/vzIVqNVW43O5yu3XQRw4ZLvyaQr+orkgPrgDSf+5nc/rXJ9sDc3RNYfQnvOJ7McIusD2bwH3yyXy25pkiECRM4HhwhCSsBI3DMGtgSZGs73D4wVc6aGrUv/WnuxzD2rufUg+f4y1nNKBwg8rbRal1otqyzrK60H5FwGgoLkeXIxFI9RCM5TdNbGIikhhS8ZJQgpLAhrEDiusuyzOi8ezYcLH8pX7vhrAJfcaFzQI99yqcfuT1LLN5z42O98XGf6xmI4QDaYY/DlPXY26x4bHRF8oesVcEUB2HJETwBgTFAI+qEFzBhkK7i6Qj1aQz3aQD0ewVR8fzlli900Sisfuw6LXvv8Qj8H5yzIGkAI7+vk2mYhZKxLCdw1zJsLpqh5brpzAkDWsIVel3B1DVNVzwHiPSu3f8nPAHhmt1dM2I++YbfH7FuSSw8cPvGx3/pkAF8+GLK1q3PIrIDIekA2xzqf6KEB35VMC58EQmIDBB6EXdFMDrBjmPWz2Dx3EqPVdRA5SKWQFTlUlvk4teJCKaliKpfwoT343MLYndD/hhASQme+s1d3qB2O7QuleNTU+Z6i+GfVwMDVzJmr0SbKjdE46+U/AuB/383VEmfedWg3++9bWnngncOTn/itTyst78z7DD5dDCCznHW+Fvh8nPdqcL7WxyQ1i2qwpAr6oYucjzZPY+3FZ7Fx/gKUVsj6Peg8bycsCOGztLV3VGteY1jqCEbICT1rlM/kThMqhEJ7vZL0GgSOmI7T97WxwUBi69zZGs4wxzZ1iWpjE9Vo/MsA/sFOr5yuNl/+yQjHXv/d4vSn3vURpdWdxXDIBod3s0hdQGSFB9+wye/bkcGR0gyLd9vt1P5MjVumPPMUzj37LLJehrmVAxFsgIg5g/ynIbX2CbOZz9rJuGBKFgwqhIUQu4kT1Pk8bZ4T3Emxsxc/RMKxBa9MBWk1nFJwqilhkEr+QLk5XgbwzikXpkVaTOx//PKis4/83p9D4DXFYIh8OB+Njcj59NBzvhR802jSd7vpBz2JCC0QUgW4MTZfeALnnn8Bi4dXoAtuFMr16sIXwwtIyVxPKAUpOV2MwZf7epUeYsGUCPUVIfcwLQXolgUEYG73oCWrw5MFpHcjqRLCjCFrfjhCjQt3+zLfaq39FwB+fLsro4W88mVxR77s6w9BzpcQxRhAdcV/IKGLn/vDX67H5VuL4RD5YB666EPqnOO7us+pVSn4dt1Y6FKoy/2S9eVcCbgKoxefwrnjL2DphsPQRa9dHxy5n4r6HbcHCTUkPqYcuB584XwEXphbCrhJjGYneY7JcfH3NFdQaQEBB2Gbfcg5mHKMcnP8Y4fuuOO3ATwy+Rox6QM33jzr+x1TfvSNQ3P2wf9pdP7UOy488eGjAMZENFJab0qdrUmdnc16wwsyK865ujydDZfOIZ87g/HFU5i74wJE7wKA8wDWAexohaDR8ff/o3pcfn8xGDDny3sMvqxg7qCHPrslQwTfpZZUTqVUX+p+l1bD+TAc1TCrL+D008/gwA2HkQ8XfPNzRLUgiOAwVuaIbOHGkUeRGxpmhr9U10uGMY3hTaOJlrAASxDDrzIHlANQQiYrieYDdpiffvrpXwfwFbN+Rjz3q3M7HNF0OnrP/V+yeuKLfwKI24SSjcUlwD4pEMiFlYDI68ThYoMVaLbA1lWer+uiv6bz/lkAZ3QxOO1MdbYeb5wG0VmZ5Welyp4t188f2zx//n29hXnkg/kYWpM69/pennA+rxdtC75LEb/TXC8J54tJCBtAtYrTTz4KoSQWjtzIERmgsTinZF9HXVAortZTBet+sgCn0fjC+W3Vi1lonDHX1tyCAbWZhBVLkClh6wq23ES1uY6N8+excusdbwPwl9NOqw/f+aoZA96edG/ulo3Tz30sH84vyqTQGmB2HLJ/OZzUnZSL8/JLos6RtXPl2urRMV24C2B3ggD7vwgEZ3xHUWMwXFpCMVyAylnsCp2zyFVpUmkKvu3ocnW99DxB7BIAA1AJ2BHGq2cxWhvh4G03cya20m13BzUrZm6lhKVRAqCoVexEvZi1zyyDZBJ5VSCORzbMBIDOM1w48ewPYRYAL5x4dgc/NJkOfek7i83jH/yo7vUXgw4jhIhr3kI3ExJCtBd9TnxOXWr7oJKLTIR6tAlTVugvzHuxy64WoXJA9zz4iingu9J63xSfX+R8weFsATOCq0bYOHMKvbkesmLAOp53kaSgExAJENtjJhCEc4D0PacBb7lgdyJ2J3PaMrd0jiGKg+ReNfeMmY9ENRq/7Yav/IYcU2wBfeiBv33JQzVnP/lHOi9uEFI3Py6EbyK69UqIOMiucjKZGtywVeicRbl2ETrPUAwXoPtzUFmPkwpkcEcUjVV4VcGX0EzwGcCNgXoEM1rHxsUNLB1ZhtDaH0qpZtc+pUdVUGmIHARk45dzNeu3oqsDTrrG6QPd/X4nc0s3hIbriSOdknVQKMSrLcjRkl394n0AHpp0em1Xvzh7AFNI6vwHnTVvk16HCU/yVmrCPJQs9hz75LWuzfTHWEgNN1pDNRpjeGAZmdf7kA+9K8IDMG0idFXBN8nPl4TW4k2qgHoDzlSoNlZBjmLjIz40Fbk+CkHUZq7k/HQ4UZacg7A1A48qRPAJCZBKruO0sXa2dTG65Zh0jiG30SR/Pnbt8xhD51drLKx1MKP1WzENgGa0Pmn7TCqOfvlKfeax/0NlvdhoJ73Jabwx/b4Ng+5TiWb/dBd4i1AqlOsXUAyHyIbzUHmfwad8ZCO2z+gq4lfT3ZJMId6clEPUgCtBtoI1JcrNDe4FoxRzM5ITQl6YopqEBxjsknGcHQNR++79EqBgzCU1KDvldlO/Sh+uLvhqn8ljQdQk1HKmTmi+TqhHG/PTzq7r0e6Xo8gufv73Y+9kANFXlFq3cW/B/ivnfA1EQjEaMcF1IJJohcxAG6dhTY3+4gqy3hwnFChv5UbwpVz4JfDzxZuWrAPXAl/FCQamhq1KhKhTNLzCUq0BhPF6JOdPsMNqM/FNl4Bwhq8pGYAyQNjkeImZgJs2p/g+dSGlKkXt52Y4odZWPofRr3fnOEXMGgNrHZwF8uH8VF+wzodTwTmR8kNf8ha3+tzfktoncAaAxVWEkLwGx2hHrLa+D5Q+tck+ACA0TLmJ3vwBZIMFoLfkw2pZB3xon+Oq0AzRG25aSL8nC9ga1pQw5QimtiBwYik5m4CLvLWfnJc6IBcCRF6/hvT5gQbCSQYeJRlRItHJI02LeKVjT34wcvIwJw/AmMdoG/D5HEbnH7Sw6pNzxAA8+Krj066mzg/uzg1DGyf/rSwGaLzxydIFYVsEUdp6q8vpVOe78NrlkgpwqxBSIp8/ANFf8cVDe8T1tnxMuV/I82uMBOd84mhVggiox4Cta5Az3rgK3gEHCtcoFcEt6UmAI+Z+5PdzlsVweu2jiyZRR7weuZUppkATaNQINNtj7qJjw8dzvzSB1pkKzvj6FZ8g6wyQ9bAJfeShaVdVQx/Z2fUHAHv+TULnD3DngKDsSsTWtdEa6wIigBTN5xZ1wJkeKwC4GnqwCORLgJxHdLq+JFxvllsiGB1BPAWr0MSaDzI1yLLfkhzBlICtKzhroaQCEaMiuq7SJuZxaumDK5PvGTAClX+gCZBB/IZrHF69YZM2R2/1LexyQMPfR7UCvobFxDqWVkaMqWDKEvV4hLqsUFcOo1Xg2F0L7zn/2O9PjWzp84/9/rTvttCBu1//T5H58FZ8upLJRo7XDXonr1ss5e2AQ2zd9gaA6He46k6Ov1SaBrzwJijlibslgo9rPcgaOMfFRM5w+pOpgHJzjHww5hCb16PJ2S32PxF1jDIBLmhXIEGexxE/h2aT/aBkPXPwEoa6D7vdOrXgnYgpWt6l4oz/3sZV3pvFtQ3rtoZFrqnGHoAV6sqiGvHhB+558z+fdZX1gXvePOv7htTyMdQv/F2oIRprs7tyZPL+Sjb0kcPO711NmqK4bwFfoh/FTOfal1vWnDtHnJVMll0SADORzYsVenMjzuvzz1PITu42BmwzQsFeQ+cYuERNjgsRBI04RUsGiSTaJ0rFMftzku9N82POxmPIc0k2fvwK70HfqyvYqkRdlr42pUZdWZTrwOZF4Kb7hr9+5tG/nNn1X595dGqUpEUHH/g73w7lq8dawJvm/wOuHFiyGb/xEhBteeM/pnqfF7sBfM7G+o6wFJdnIlg/B/Tm1iCkQtbrefO2c/7UEBbJJp8BLYggiDjpihynaZGDcLbTeT+I7C3Qbn9K6kMCp+PtoVTUA9CDz/h6ZVvxQtumtqgrh3rE4CuGOH3wNd+8bWKqPviab95uHya39h3MiTrKLc9yZ+e4JBJX4fTpxRdTtnc/pjpS4HreWo06X9WAz1nPLfyqmOCFCIUANi4o5AML4AKGS4tQWbZ1iCnzao3RcrzVWkgpQc5yuj4RhGTwicDBdnAd4rolYRnZJJIRVnR3lp8cZ9nFEgvlawNbO5jawlRAXQKjVQCEzXv/zlvfjPqFbYuVNOoXth9nfvNNENnrr2wBT5dmAOGK0iQP/xSKVuOEYyL3S/xiobSSXCwKYjC2XSqmFjh/QnG0oD6P3lwBpTOfgNoYcSI48KWIiaphXEJKkJMQ1oKU8UVHqlnZfUs0xH+Oz1ESgUnWsItloKEE1D9IzpgIOlMZOOtgagdTAsY/e+UmoDJ8/t6vu/sbq/PPfW4nd0NX55/bdqf88OG3c7RhkrV6JWgPxes0mojL1CdmOuCr402llAtaA0JjTIT6oXPnNKwRMKVBb36MYlBCZZKr3ZTkCjav3jTRJCDkDkqlYn9pIuf1Ql+kJCfdJ2/iBKDFVzQilxBLQkMBfIhqWGM8p3Ooy+iDRjUC6rGEcwILh+yv3v2m+34IuyiO13Jn6zR87dU1AK4mx7tS1DU4mgWog5VIznLxeCLGEHx3YOCpDMhyh0xLnHhRYX1dYuVwjf4CIcstdM9CZ4BUIgFhw/24tJK/k1JCahXByAAUkyvgknlEjgxE/Y4r3uB1VTaanHVw1nE8twxgA8oNCVMLbG4oWIu1IzdV77/ty5d/CcD7Ns6e3NVV1Ts5YHHlS79yX3KpXdOlAL0T+Wi5XYLxYRqlPYDPhVXREb/TWQAgoSgI+Vjg9AWBMxdzHFwkLB806M876AJQmiAVhWpLDvUS4mcpQzIvg1EpCU4G3nqfQtF5I2abOTlHPnOFk4WddXDOczj/ZyqgGgnUpcRoQ+L8qsT6GFgdEVbmxBde/40HfhhET13CxYWelpMXaPGed9wIsndeysn3F10ul03DUmk6UuCCXvxGBZ5aehZHKgWE4kaUvYHFXC0wKgVqC5w8J3DqQoZ+DhxecSj6DlnhoDRB+Zof31qQz6f8QoeSOBdB2Oj6CxKYnK/URKNPEqXcjw2j4PJzlsHmOIKIupSoxhKbmxIX1wU2S2BcEywRlAQODAWW5ujLPva+jc8Igffe8Zrqf8Q2NSBd0meOn5+5w+I9eGBPXSB7QRPDVd7a7bbX8GIXvmC76XbQuD1Cfa+UAkoTdAbkfYeBsThIChfWBEpWIVEZ4MQpiX4hkSlA6wbAgF+4UxCUCp/Jc8TALSmCLmzj4wlC8rmc5ZMxpxNwTqCuJOpaoK6BUSkwqgDrE24IDOpMAUcOAIuLFv15i968X0YPyOsxvu3iSfFtUtFPYQfVcIH02vZrM96/05O9YmiL9RsMD9qq+wHwvC8eEzggJecLYlCFgrIMKAYO1ghgTWFpDlhasugPLPIBIeuB/woBqQSLR0cw3tXonO9xGfJAvdh0TsAZtprryieyOsBYEYFnLWAMv0+9MFICWQYMBg554ZD3HLIeoRhy92KdSahMQWcZhOxBhqcAxNZxbVCP6x8breEtR+488A4AZ7a71Pq2rzgwew+yd7wyOODESPxk2uL/60Q/IpcLgGzep2UHTZhaxFC5VMw1yAHOEspS4vCKw+JKjf4i0F8QyHINqSRUlkFl3AWhuQWNZRy6JUip4tKyLQs41uakumjiYumMtxluYtBI5ceu2m4ePxbOA+REVFOOYcoRiuHmG1ZPXfiPR+9+1d3YpixXD5a2a1Iu7thmh5cBXY7+lwIQaCceuIQFJXl9CYno05OQUnoR7OAMW5P9vsPiYYPBEtAbaqiM1wwJzYekanfuYlVOxObmQmle6kvn8bMIyuK2/WDCew/Y4IMMWTWT1nEj8PxjRoxvL2wNpM6gMm6EpLPNW88+8/T7APwns66uPvvM07O+x7Ejr79p7yzgaRGLSz3HJR4fW1Mk7dT8dkr+pSEswFvEnlNJJfnPEXRGGF0k1JXEwkGD+YNA3sugcw2d59BFaJ6uIZAULFGwiDkgEDolMFD94op6AM6TDBlD6XVIQ31JtCRNodtyTOf4oPtKjjmLegTODSDAWW6glGUg6gFC/G1b1T+EGQ2LtNLTVys8/NrvyEHmyGTxNQsQtM3329Ek0HSe1ks6x27HkHQ0iD5A/531jYaoEWnxyE6Nb4hMCA9AayzKTWCwYDB/COgNc2RFAd0rfCevLC6ayGIuMWiCX1AqFpWK+8Ug6wOq52uhw+ruQDszugvC7vxEsl/ymtTyND4hAwgHqIwfEedXfxLsHE/O9G8Xjx77FUxxTuuFo8em3QEAuAFwh2JKT+veb3eDJ32/E/Ds5LyTzrNbgO6EOlwv6nwhOZO3hccz1ae4go1DZkIpSCtBSnGBvmNLdO4goTfMUQwHUHkOlXkxKhKHshAQ1HafiCBeY1es8DmUMQSOlv655L2fWxTRjQG1dX80+0Ugpil4/FtCJEAXwbVjUZe1NuX4ewH8n5OusDblzO5YB9pPw+Xe3O45UtDshmNNAluEAS5rnPFGdI0P2/yuD1sF0UhbOAuXUobkKhbBmi1ZYVGX7IoZLAj05gbIev3Y/y8dO4fHtmYbcZ6gdyqTrxNucTPqvN8ywWYeW/abcGwrk6YjGVIHvPczUriGgq330erqd2EaAEerq5O2AwDmgJX2QBLR0hEzO6dZ4nW3NI3rXcL5KH1DaACXnqsJu/GuLhYWxb/IYLz+B+4MESrhUAvYmnNHWe8ruLVZDImG+KzzTEhsmY7woCQ4CK+Hitj2twZE4MQCWwyRiUDtgjKZb/vioHFHBang598y1JijBrVkvD66b+I1B6DH6zP7AB1sBpDmB9HW93vqqrkMfY+mfkBqbETxG/bb0uBxylC8KI2ppsS+PJU1CQUixtna15jgpmgyEnCsB3IHAu8ElFViMXsRS8BW3S7MocvZwqsXwRGsws83bPcOdw/GGPVJwpAuxMQBWEP55IsFaGtm3Dw3Wubin/Qp2SYj5kpI6peKJk49FTGu8x7NjYgPfXKS9NJM4FwAuFuA9YZq0kcl+uwSnXJKPgsocCH/gyQtQBLCloBQPhYnwdZpOrh00n4CW0CYSrtkn7RQKeV8zoMQSVP1kJjhD7H11JI8aDsrZVAUB7it7DTTPJkYvZyQ16X0poQ4byNmm6e+4YCN/gc0SZ1oXR5OoxKgAMYQ9O8wIn5NUqSQaMVp3h6fNXlv+fzWskEiJNejAIhteGNeYGpwTMqO7nL4MKeE01PCFZO1TNgRzdfH+RIEciEitGXQLdomF4uWJrOJFGzT3u9DmsrxwmsicuO25GZEbjBFNCbnFL6Ol0VwwyzjmSwix6CEwxAS5uma3w8FSixRWbmX4b0QnA4mJIQpAUUc74sieMaFSOcWBiYUO5pTtaNVP5LUigRHtLOeu9voluJ0Lp7JtCs1G4BCLPjHMGyYMAmx9T2JrbvvS5oAvvQvrRKbyDm6go38hsR3J8Lq6A17lDKkOXHNsBCSswy8myOCLQEHq1ku/qqQMgGeiPogewp9YbxIRbzniOTB6VKrPrw6bBHJcZeu/phWyFkPQuNrYCys54LOAlJjasaBlrMhuAByWy2pFnU5YKB9hj7a8ib5nNyACMQUfOnubSAGoUlRBQnOZ9G5aQ3JDBivAXVlUZdjDquBEnHZZUxhm5dngmtBgnQj4XMPI6sFhEvmICR4iQg/R2ex5WHqjLUZu3c5TQBmAGCsEQ79YHwNdBDBvb7+64kXAoAu+jMROETqYGyBrcsNRec1OexyLORJ+L4kf/Yk4AENwLoc0O9DyecOh0j9fyweKWY/t8ffDFgIAZ0xBkarBJ2NoZQGssz7ATsHU/idZFiCweoASCHgBHyfZp94auH7B0r/m10Ah8+NZd761alcMFUVQgQodEYwcZlZLlayMLWDrYH+wvBXMYV0f2E47TvAjeaYdadcsAs2dLZPoOiTmv5Tk4/rvHa3T1M9Z4KvAzAAbZeDF8cp8IJrPwWC8P44cK1ueqNavyfgQdmkyquMxfBoFSgGBlJtohj0oLLMu2ya30kTW9O2xhASkgi+YyCcMAxG463r2CWf96UO195K1HqbgjOOxyVOZyK2dsnGGmFTVdyGxHBKf7kOFEN86uKLF/9q4k8C0BdfvDjtOxy4Vw1i+GUiCCdNYoZBMgOjW/bbCXVxte2Jgq6Xfg4itQu+ZB8yyblScc3E4jZ8gFf+J+jdAj67hXP9Ns5LbJx3EJIt17xPMQ2K6zTShwAN8H0aFkh6N3ejy3F9sOSmRQBCHXFsfjRJGiUGUOT6IZ8xrW2JX/tULp+GxRVzJXO+WLzEp5lbHnz31h9sSM8tD6Z/S3UGkaFxSYQJTAqdTZKTE94Tpnw/i3aKyO2O7Xr2A/i67ofw0KX+tmScUjJX64owAYBEG3xR7LHjWWkFpWImMdbOKUhtYaoKpjbIigyx1zYasZkSh/YsrBBQWoOUAykL0g7SeZeMTOpDOoyj26kxLc/kl2Dlt0sLwjKyYR8Wux6ANbcfMZXvCVgBKsN/ff6FzdmdEc6/sDn1y4MPgJqb4CeQ+vuSxMTpcrAL1ile+ak0SQlMaVocedr5U7dCwvViAD7cDM/1tgBARFHE3C4FpzdApGgw2G5r4HP9JJR26M07XDilcfGUwnDRwpQOWb+EzsVMtVn6pFOpJZQ2kFpBKQUhy1hfnCY0MN9IPBMx6iLi9laBugdeXLfY67YExLKD0IKXXS1sCZvawtYO5SZQb+JfAPj56bNg0uWsBqlk04Up0E7ZScXyJIDFk3S275abdcTQzHNPOk50PiMBX8qpwoOW5PsBaKzh8FMhQyXcK/LXgD3/TXdYf5Njmlao7xVQWkEXXP3WGzhcPK9RjiQWlmtkJaAyahUgpT8NwNd3AEJa6KyO+YZK+zJNGTKjw3HBQAFCfmLnzHG+IQ7dPHfdUBsiOBmEBGv54alLoNoEhMJ/LzP86wk3ZQtpOaErREMhD6uxqHigAXSJuIlAnCCy4nGXQlN9mFPOHR6Uzndbct/QqBZbODySYxC5QtxHqqbPRuj+Smnpox+Jz50jcrFuVyoFlWfIagvbc+jNOVRjhwsXFC6sFliYc+j1HXRGTaGRCvpbw1B9TipH3hRBKgulLYSsmyq6KKgazhwXxUHDSZt7loAwuS7sUkELgCEfwxoGnWE19v+76f7FnwTw8Ym3aQLpY3ctzvjabTThnHBTE+sKAhGM3VCcSEDaop3oe10jYJo4nSZ+J+3bEcPdCAAo4YLdcwZ9z3O1yHiFt4TBQAtfBNFMbFTwzzmvmynoTMNoCV04FHNAf2xhjMC5CxLHX5SwTkIKDukq76POFb8qn+qXaYJSBN9sH0JwhZzSFDmkVOSb1/rqOF8xF8AcSzYneX86joAY+nWAMwJ1KVCWEnlOp/Ke+/ih28UvAvij9XNrM+7HVtKzDjgAutBcfP+0iBSIHTEWAdfljJ3ZRZqhD7YAkv6lx02i9tPcptSP1/k+rfVI929ROi/RjDHqecyiuJu9Q2g+2ehbPi3LrwNsjYPNufLMWgbX8jyDy/cfgpS8vTaAdQLGAGUNGCdgrYB1gPUOX+NE61mVnmM2rwLeCGdg+qFHrirabsygPQRNI4QSHXFB+6gG3vi66mcA/PTZZy9Nwumzz04XcTe/AavxpsSGh+FepEAMX3SNkXDDJnHCLnVB2OVE/hGcpp1vAQO1QRLOAaCdSpVywAngo844AgcMmcoBcDH05VvtChGNERGsY9/dXmoNlVlkhUY5qrBxQUEr4KZbKvTmCVnRNL5XGaBUM+fQd9n6QnLfqjkWldelRF1KWMtgtVagrERTO5VcrgBOKfxvSQa+1lx3rH13Bp1xIZVUHMWJmocFRmvynx69i54G8O7JN2Y26ZVbZplb86dgL6ARu4nBQYBv1T7pQLSNllmisisKU8MgPbdt7xZ/p3u65MEgIKoQ0b2S7tsFfcd9kqoeoQ6i2/oshM/CHRECTSw8dLZiHZAsrx4EqWLUY/00d8tavqFGfwHIeyL2hVGKjYqouwGNmIdgHU7wsg9SchpWe72WxngIS575QxOe0Di2eZpeX4wrsCfHxFMymp21sHW1PF7f/F0AXw/gL7bekNmkdTa9KAkiP9ncwOAvCxP0oKR0dKJ90y6FIlC6DmHXcJlofXc5bkqJgREAQYQtVm383VSv9VyPut+L5vcBRGs43qZgFYRDLG9CSDCQENLF8ZSjGmvnNRZWDIZLQDGQyIocOs8gMy63jHMAOj5B37xIKt+kKLRn838d4KRFUyFBIrxvNjfv00SI5joE90zIeDFQWQ5d9FCPR+9VWX4IwHS/3gTSg6VZRoh4OqbnhMHw6Jr3LZE4Lf0ncKpJhgza38Vzu0RUelBwnAlbdLHd0qQoBX+B1gTSubd0v85hgcNKCeFY9xNeToUMlfBwCiHhwAsurp1m8TZcBoqhQm/YR9brcW2t98E0LpCtY461wVL5Y/zi1rG+tzu9rfds0jJhzdXo6sk8FucMp1uZCkANCIGsh0E9Hv8SgJmRjy5pW89sYvlkoxs5cIPKZnjpS/NhkqGQ1qCKGTpYyrUCCJML72rP8LyPQfiIxBZfZIdm6Y7tHRHBLpSfjmmPM97EIAEayzfqhN4iFpD8TDrXiDOffm+rGuMNgeGSRW9OojfXRz4YQmkusxTS+xN9KIySFHcRRGfaFUFlkDqDEF68Rw43JSyYSo/UUEyMNJFuCxEQ57gzq+9qRM5xJg9pSCW/Sxe9n8aUZbkmkc4HM0JxwJMgN4YAryff6rCu+HPsmpoAKI58gu4X8ZZao6mxkvgA0gIgIbj9LSj61xqRn/xOS0Sj4U7OtS/0JEoMjJZLJhFBk3RAQQDF3/Xcj0JB+WTgW2OhFGFuBQy+/gDKdzYIC/+wmFRJEVQAYDByZOSCUioPPu2zHbL29eiCsBXFCvchvO2GJimeQwD80EsFIZ3PQ2RVQyqNamPjfwDwztkXuiFdbUxfquvcI//v2vJdX/5pkH39Vg5im9cu82npTrPM88BVQlephKOEhEnfwyREFSguQ0BRv2pR8CsEgyBun3QjRCI+vXNZes63xTjyJBNARG7pzxGZSnhAkgQA4TOkwWLVGoesD/SGGfJez+twvjjJWaDTOLQbMhNIOKr/DRH9K8kyDfFBTR++baRBqnYIzwiEjPdJBEvfj0tEA0YCAm/vLy4vAFid/SNMur+0vN0+nwbc66Min4rYMKgt3vTAEROu0ypsCRQ4XUf/c1xqGHWf4IQCWO+Q3uoLNzrluJGDdcWunazvRMB6UdvlcGl/lEnNv4PDGYJT4sl5d6AAoEBkkN7w0MLXOYIuAF2E5kON9Ro60osZSQkUINCK4QbDIwVf0LengG6i+E2+Cy44ShhNCD0KNNc4qpcyqzbX3wDgTyf/YJt0tTl7tcx+tvgg6vPM0tNwVhzUBP0iXiyXcLcJEwzbQp5ZYPkxAO57r8S+ewK2LgEhQTpLLD40QEouBqjNIVu3MAKPmvvW4oghCjnFak79jZ3tIkjtaDknN5+4NYcz7HNrrTJPidAmh25zc4rXyT/i5CCg4vUiInC9etdzgUQ9Ct6D5Pq3LPvk/aQiJf+7UTVJrOVQ42Kr6l7sFIC2mtk9C1BLH8D4FJoCFz8YES5D4iBOb4ZLDIpm5PG1neWbbI9FOmBxG7ZZtoDJWZhqE1lvEDtDkZSNOPL6aFzkOf39DhAiQMPPB32SePyx3USLk4rk5or2AxNn7AHs9VgBsEUcfHLObhUGRP73ES3fqPjH9+n183qmsyCpIIIkIf/QO3DtBxEaQwptqQQkUix8nzCMqAOnRegO6Iw95gb6a2qtuRE7JG2tmbnD6Yfe/cShV736KRDdESbfgI1YdAX9KQ46jmwm2PhTG3zx1TVrVYS6g4D9anMTRISs6ANaQ5D21mcIO3DXAACNvytQqjcKbygk3CzGdpNztDhp8IFG5bzRybpuCyFEAmqfrBBajnoMhxWU2E8IxEwUF1Qbf5X8zSVy3p+YXEOyICdBUgPOeBcQNXG1ru4b/bho5t7q/4LW3BDqSKKEShuxu+gi4ubmBs66Gc7lNmlnduA0Fur9sPUd8BME0FbG45piUwC3BWxALHYJ21K9LxgeFBZJcb7yysYLNV5dBeYdVF7EFchDdRiAKJape+Ep5WaIOmSMNATRnIJRiFTzbXOMLeE+NHMUQJOPl3I4xwzSIebTqegz9NfKoXnfUV34AWVgO+GPJa7RFU6Al5Agfo3ZOq4BWyqC47okifqRPiFR3HYZRHBG+0WqnQVZx9a9Vjt2RmuptnFNAEDv0O9jdPL7G98x+fZk8Yp48DQXbQsQaauel35u+7xsvBlk/YpDfvkAAJBaYf08J1EUQz4++M6CaCQgXvBQS8Ef0LEIiUUZPLf01iwDuplf0A9j9VvyXZxjSl47Yf8gPIduwCqV4MzhktPZpWLLXnTqNyZdy1gf7FzkqkJ6MSh8pMURP4yWE2vZsGFuH8chBDeCnuQjTXW79H7FVaBMXAmK/xwvUm0s8kFvx2s1aJXPTAgEAJz77Af/6MDNd50TSi7HwbUA5K9MC4iNrrAFdP4pS3Ubxp/1el94z2DkgmfD/Uasjenma+dGUeeT2jbhqBh1aLiaCNYy+aY+qfvCv7b6+gWm4HVLEpTcFPgGQR0gh2uzQ7IGqMcO9bjiBAWtWXQGbhweQmo/3OSzndnJLeJ1En7RGriG87akUjh1FLfJWLsgTL+Lx1MEYKwH8dnQ1tRxbZHe3PzDO70Gujc3v6MdhdJ/QM5+X9R10guSulHSyZKbANAwuXambepuCRwP1LD2wAHJOcBa5D2NCycrSLUJkOMQlst8i9oGcCE1Pd60wA3DjSY0ojnhDm0wNlwxgiP4x5CI747qEW9hJ3wXTq0yYLQGZEUFIQXyPjf+bhlQBF69KL0XgqLqQCRAzoAEGyQ8N/D8bHC/BLEabkMiZgM3T3bxJnYcLMV0PN96w1m4uoY1FVfEGV6w0BoLIcS4v3xs5wmp/eWZDSob6t/8a7T2he+DXya0LRY6QAIQ/H7k33e5XdwWLrUv8onNs/1r4HrOeBPfl/wJAfTmgHPPCQBj9IxFVhRNU++wclBcvop86pTvKmAT90jgeJQAFEjCYb5TQcoVmzsFQuKLbHH/RL1A4GhAWO1IasJoVWAjIxBKOOuQ9XJ+gIJ7hpIH3H/mBWkcBCkILeCMhRAKzlrIMCYKRUkNuuIzld5X0Z5LfE25HjX3xoVVQC2vHWcqXiM4cL9iUPzfp598dGbTyZT06Scf3eGuj/7VwTvueZacvaXl0J2wNFXrczoBAC0rCkgm549NrV+bANAv+hcA6Cwh7wOmFDj/HGHxWI28b5H3cl5GQPkQleIsZEG+eY+UIOczUzwHCNnKINdkagJRZ4qcIuWKQGLApAZVuJFIMjqDE578rebjpd919UX+bTvkyjidaV4JKfoIETm18OeVUjYL02hA+BZUrLcqAK7RO9GAH4BvlkTxfC2loaMmNWLXMwRr/XKtXAdsygrW8D2zhrBy+90/tkNAAQD0yu1373hnOVj+BbN26n8OaUKpsziw6sZ4SC0613qK4rERnGmwPfjKvMiN713S+sHFFRqLocOp53MAFYbLDm6+5DXXCg2lHcgpv+QVt8oVRJyVDJdwPA+i9EYJAQgXzOk26KLYJrS4qJ9ZuJHdhuWt+lqPaZUT1lcV3EmBuWWLfOCg8wo6Q8wDFErEn2COzpnV0logC76+xkhgzq+Sh2cbvTSqU6KxdJHcF5cuXOgLz2vjxS7v6wygc/F9Jx57ZNu1QVLSJx7b+cpKN7/p7/082RM/SUAvujhabpPgZG0DkhLgxe1R33NtAHqR47xIdpa/sza8J1jj1y/bbEK+zz1b4KipYGpCf75Gbh104XwZpONO8iBAKjj4Wo0ETGz8poAM6e3e+oW3pgU178P+UcdLhVvK4RPuHsSwELxmiAZ6fYe1CxpVKTG/VKMYAkLxenEi1HWEP1goLcBrAwuo2sTFY5w1jQ4ZVI/EuOJnJjQ+ap6ZkK3TAC5EoBrdO5ZgGi6/DBzPVHFNuf8OoF/bDfgAQK+d2ebpSOjx9/z65r1vfd2/NuO1n2CLK4TJXDPwzvsAMvKKdOieyZYuc0nnORzvyyALYAz7OkfRnWVK/qvHwHhDQWvC+kjg9Is5BCrAEWxt0SMCioY7ANrbHsJnx/DWmHsXLUUBJD7A6PogNBZkS39M9KgtIbpErUiMCQF2pUoF6Nwhyx1GI4mLqwWGA4elgzUyn4OUrhXHwR5OlVcaXAlXSuis9muLeCPMV7ylS71OpGAwJaKX4jUPpZesDtm4oKFfOZPvwwlTix8A8Mc7BlJCerQ2a3RbSSzc/8/t2gf/kVR6pRmw3QpAm7hRwg2wYUK2AzbHTtkATKKmhsFHhkL9Q6iBqEtep7auJMpSoMiA82tApjMAtV8F0oGohs6Th0wD0grWBYPfzdoET+wLpAgktKxkkG3AGGjSgi6Jz695UNvWtdKCC5JqIC8IVQWYEXD8RYmTZwoszgFzQ4f+0KIYcE0GeOiQCjAekCpzMNpBZRZS1hF0AYgi1SHTcF+coH9H/J+zwaDk75xlqeOMB90YMDWeUhq/vHgU/ytA01OqtiG9cvPOOSAAfPEDv17f9oa3vH39ucc/ovICQghvmgfDIXEcJ0B00ZXiPKBccnPYQgscjkNUje5uK7/Nr5FmKom64rXPnONqsdJ/9+I5ASDDos/aJSL0hnXkxMHrGY2SEL4Lrg/hmhuWso6E0xGaG8nctOFs0dDqUuAs/rRSSQhheW2ZAij6FhvrEqNaINdsoFxYB86vSUgh0S+AYZ/Q6xG05rphlZGvCYZfg65Z4jVw1zDEMKwYLu+ohmmI15novwbQLNtKhLP9Rfz5oVuHv7d0wy3vbp/h0kjUf/UVl3ik/MmNsyd/QmV8S2PIzDQAtCYAkeBMsG6DGAZCIgzZNvgip6sDGEXzZ/k1cEUCV39tjgQ2SqA0BCUEjq3w+rvFgGtviyGQFcqvRpS1VhwP7hqeV3O3UlcIcw8gumhaojdsp842T0Gn4iIemLJCXZYwlYUxFvUY2DgLPPt0gTxjkAlBIBIwhh8y5xCr28ZVc+eju84PvdCAVswli5yQZRxjVop3ZO7ZLPUanTROwNT8e+OxwOaYl5EFgF6GX7vr1eUv3nTfymMAZqdP7ZL05vlTl3rsP5NKva4ej75Bad1WVG3jMmHRHHQ4agEs9Em0fu3nZruAteAC6Io9+tYI1LVoOl3Ax9qJ94Xg+tlcCVSG8MJZASU1FmEQus3z+AjOWOgi58iDothNqgVEJBYxgEY9DJySN4stIIQXv20LOOi8ATBSKUhNEN5bMN6QmBs6LBwwkLLNWFTGpyaL9oNY8zUpS4FxKbAxBjZK9j9bR3DE0oGv1dYHI3TviDkLiZdJ+h6CWgKrwLFTH84/hg/vruh8JyT+3TcuXtYJ3vn3ex+ydf1GroH1pXrGRc5nTVPHSq5h71HU1gw4Iq5pJUJzgS1QVQImFGBbvrjGF3Fb1+YARHwxifi7XobqyIrL5xYsekOHrMfijpdBlchyzY5rrX0/Fe++ALUsYqADtElcLn41IZYLeBWg6SDKbcwMTGUxWnM484zCYMGimOMxCtH0EfSHA9gSgm/yRBMVhq8pf2cMA9X4P+fYqArADCQlRS0jcMswVSJASvp/APwX2wJil6Tvv3NKwuUOafnV3/y1Jz/x239Vl/UblWYAOeNgLTUrcJtGf4titRYwdQO4qhJe5ACV53SV4Y4A4QlNn9Q0CSVTwKElenbpgHki67nP9Bfx+NLh7MmFI4cf3zh39sbPfBh/Rk4cIGdhq9Cf2cEUlfcZWm6bpjMum/TKehMvbqt1k8oAhHdLEXzGjhe7YaGa1CXVHMbnMSWgM8JgyS/XWmjoLIPUzcpJjZuqbcg0zwIL06hTOxe9Cc421mwQ3sHzEq4nv2mMfOfaSU7jNXz3wZuzfwVgp5GLHZF44dcXrsyJpPyNCy+W35P1eMCm8k+gr9pnzie4at/rNbUXIcYwh6sNg875pzlwM0fse9NSINNYW5rDk8OBe2T5WP348o3qMwuHlj+bDxY+jylKsalGtz74vlPvkxKv7g0sdEHQOXOYrAfkPUDnCirzy6TGFPm2rtcC3hYMtjc0YIlbGleT9Z4B51CXBudPsGg+cEygN9+DznKoPONWa62cwMRSiOv5Sl+ULiF844A0th48Dk00Iw0N2tZ4oyGZOP+51S4vL2Zr/HsA37NLaMwk8bmf7V+xk63cOPdDz392/WedQZGEFGEqCWd5Be+qYsBVtUBVIy5V7xLxCfCrVrh4+AA9tnyofnThED2U9fDI3IH+4wDO7XZsi8dukp/4/af/vTHiO7PcIcsJmW+RpgsgK4C8LyClhM69gaJ8VwIpJ7rSujUbTfIrJfpe4uZIuZJ/byoGoC6ApaMZesO+X3c3ax6EeJZUNPpFEEM5pvSF7DHrJ/VDBkd4mvmcRGYocM6m4NzWFadX1RXqMcd7R+uuXDzUP4graIiIU7+5bVHSrujgnfff9vwjn/ypE5/Dd9Yl3xBOYGFluaoFxpXndK4Rq1oB83081ivo44sHzEPH7nKfOnDD4YcBXLyS43viI6f/ybnT2c8VBSeFFn2HrNfoh0oxV1Tar++rROy316r+AhKbYys8402Pjt6OGPUTr0uDi6cIvXlgYaVA1it8apZfA1huPXdYFlWosFB1AKFith5dRL5uB/AKo+vUuHjjKLx6d4Szxjcer2CrErauUY/HGK1toi7dNwF472XfiDCXp37hynHAlG564J43fvGTn/3HJz+v37m2ppSxwKa30KQADh2gZxcWzUPzh9yn55bFg3k//zSAL16VwXTo/InyjV94rPglrejePCMUPYesYI6Y9Ti4r3MGIofBRJMcILivXgSjQCOik8B/yvy6Tl8KDngAprJYPQX0F4G5pQxZv4BUnBvIUY12wjDnAYpYkB5WSpc69wD0C1VLGfwrydGpiOlmLVEsgSVnGXx1yQD0yQfj9U3Y2v4ogH91pe6F1vnuIiE7pZOf+9yHe0Px4de8bf7WM8fPv239LL4662F8+Pbhx/oLCw/1FlY+A2zpz/GS0MHb8OGlo0/c/8TH3T+7cEH96OZY5oO+Q55LZGMOi6mcQ30qhw97EaRyvma8iTA0nUgbg6DrjJ7klw6hLhtUEAtY46B8jYgI+qfs+hYF4EIJqBebPkWOyEGE2ubUhZTqQ0DjgogeBGpAmMaDk1hwEFVCiMOXd/XbJI7/8oxlGq4BIsJtX/ik+pdr6/I78owdt1oDmY/P6pwNFiGZM3p933cm9T6zJOIQ0+U9Jb7r5Efjb6PcJKyfAYo5YH5FIO+zk5zzGhsneSvLW/iOWCqLq6sLyesNtxoTtX6S2ibahBKJ4CyPOqDngJx6xUmnztLPAfjhK3Lxse1aca98EgJffNVr7XdWo/oXnnk0+5H1TfnNmSboSiHLJKQkZDlzwNAjT6gmHgvpkwVicgy1chJinyDZRPOCC8lUvs+fE7A1wdQElXE6lTPs4BOKIBw1Oqi3fMk5kPShTunXcnHwQAo6IBLQpRw5cMPmSQhFTRR0QFP5RWdqDz4DaxyEEBeu5PW/5gEYKO/LD931lfZD5ah+4KlP5z84Gou/PxqLYZ4RdAlkOXEbNBlirxwu45SpJpwcASeabQGwIUYL0TiLubmkgKnIb+NIDTTvx0mmzseuuReLDKlTwWVig2HBiait7JwmaNeO7ADJ58YKDqtd8sIzJcy4RF2aGEYVwONX8rqL4790bYvgafTMo/LImbPq+53F90DgHq2APMZVOXIQXgMoY/d6AUAwHwoADSlVQVxbww5oBh8DZuGwQ28eyAsFlTVuIG48JHwSg/KZ3ixuZeimFfIAk4yXQCEZOHVWBwBHnS+4jnzSaV2VHLMec8YzIGAtQWlxI4ATV+o6i2f+3czuWNcJwKMfzt9RVvj2cY1vVBIL0ocBM8UJyVpRS7zKEM4Svsezz1BRisEagv9VKXxqIr8urtToLwG9IbxDXETRK6Tw5QXSu2iUjydnEYyNe0hGsRoiNDHvL8lgB4Jvskmns8YkOp/xicDszalLfAzAV1/Ja6tHqxODB9cpoTsfKN8L4L3r58SBMyezbzy3Kr7ZOrxtXGER4ObfaXIMe2Z4m5IMSOagHoxpepTgXszOCWyuKeiCcxM5PBjcPy72kOEcgRpdB7dQvplRYjQHa7wV+Qgcj0KYzqfSuSaZxPoYtTUEE0OngDP4N1f62orHfurq+AFf6VSOsDReV28+fVp/w8UNfE1tcX8IzTpq/MeRM8IbLgIYFIEzctZJ2A4BHDhYc6PyXltsMxilXx1JeSe5jpww+Cij3zBNhm2VToTYsGtnPofQm+HXagRU46YBujV4DMCrr/R1FA/++HUAXgmaW8atLz6t7zl1Rt17cYR7QLhdCtwiBG4UAvPWVwBob7AoyeLbOZ9G5jNlewXhwMEa+cB3y09AKIMrSIoEhNJXyHkOmZjgTZOnVNyGDHTydTdNZrq1xOUOFa9nPN5QqEoJpejUsbvM6wAcv9LXTXzhf7sOwKtJzmG5HuPw/Io8WJfuyLnnxKI14rCpxXJdycWqEgtEGFSVWNGaer0e9ecWjM16NC81bovWtWpAqLKQqsUVc2GpLiD4HZsEhgDAkIXegJGa7CRq6myqEasCo5GElMDKkeoPjtyp/0sAL16N6yNO/NrOOiNcp5eWTG1FNaL/fP0s/ompxNcISdAZR2Y4/d5H3UTj4kn10G70JeRgAmilydUlp8ZVvr6mrgWyzOHYq8yfzq/k/wbAf7ia8xQv/Mbi1Tz/dboCZI19zdpZ+5bRRbzVWfEVQuCm4PCWmrmeCzX1SX1USIpJSx9CSYMLr/64rHBYvsF9eulo/8+Wb7v7dwA8+FLMTZiPXFGr+jpdZdo8c0KP19dfM94Y3zNao1fXY7wqK3CTczhcj3HQ1pgnC2lqGWtnQpazkERZQSPdw8XeHE4Ml7Ljeb/32bmDRx/Pj3zVJwB89qWej6DHf+Cl/s3rdJ0i/f+E73SXBIyGzAAAAABJRU5ErkJggg=="})]})]}))},u=n.p+"images/6b1501eed1d7263298be.gif",d=n.p+"images/2c09054a0b5b8aafab59.mp4";var f=n(73935),m=n(94184),p=n.n(m),h=n(38640);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){var t=e.highlight,n=e.popupOffset,r=e.popupPosition,o=e.inset,a=e.children;if(!t)return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h.E.div,{className:"user-guide-popup-global-mask",layout:!0,layoutId:"user-guide-popup-highlight-mask",initial:{opacity:0},animate:{opacity:1},style:{backgroundColor:"var(--user-guide-popup-highlight-mask-shadow)"}}),(0,i.jsx)("div",{style:g({position:"fixed",zIndex:9999},o),children:a})]});var c=t.x,s=t.y,l=t.width,u=t.height,d=r||"left",f=n||{},m=f.x,v=void 0===m?0:m,y=f.y,j=void 0===y?0:y;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"user-guide-popup-global-mask"}),(0,i.jsx)(h.E.div,{layout:"position",layoutId:"user-guide-popup-highlight-mask",className:"user-guide-popup-highlight-mask",initial:{opacity:0},animate:{opacity:1},style:{left:"".concat(c,"px"),top:"".concat(s,"px"),width:"".concat(l,"px"),height:"".concat(u,"px")},children:(0,i.jsx)(h.E.div,{layout:!0,layoutId:"user-guide-popup-highlight-target-element",className:p()("position-anchor",b({},d,!0)),style:{transform:"translateX(".concat(v,"px) translateY(").concat(j,"px)")},children:a})})]})}var w=n(47481);function x(e){var t=e.buttonText,n=e.showClose,r=void 0===n||n,o=e.title,a=e.children,c=e.onOk,s=e.width,l=void 0===s?"300px":s,u=e.onCancel,d=e.arrow,f=void 0===d?"bottom":d,m=e.arrowLeft,p=void 0===m?"142px":m,h="number"==typeof p?p+"px":p,v="number"==typeof l?l+"px":l;return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:["top"===f&&(0,i.jsx)("svg",{className:"user-guide-popup-arrow top",width:"16",style:{marginLeft:h},height:"11",viewBox:"0 0 16 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M9.6641 9.50385C8.87246 10.6913 7.12754 10.6913 6.3359 9.50385L-1.04907e-06 1.39876e-06L16 0L9.6641 9.50385Z",fill:"#478AFF"})}),(0,i.jsxs)("div",{className:"user-guide-popup",style:{width:v},children:[(0,i.jsx)("div",{className:"user-guide-popup-title",children:o}),(0,i.jsx)("div",{className:"user-guide-popup-content",children:a}),(0,i.jsx)("div",{className:"user-guide-popup-button",onClick:c,children:t}),r&&(0,i.jsx)(w.Tw,{onClick:null!=u?u:c,className:"user-guide-popup-close",style:{color:"#fff"}})]}),"bottom"===f&&(0,i.jsx)("svg",{className:"user-guide-popup-arrow bottom",width:"16",style:{marginLeft:h},height:"11",viewBox:"0 0 16 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,i.jsx)("path",{d:"M9.6641 9.50385C8.87246 10.6913 7.12754 10.6913 6.3359 9.50385L-1.04907e-06 1.39876e-06L16 0L9.6641 9.50385Z",fill:"#478AFF"})})]})}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function I(){I=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:w(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(D([])));y&&y!==t&&n.call(y,o)&&(h=y);var g=p.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==S(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function w(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=x(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,r(g,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(j.prototype),s(j.prototype,a,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new j(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function O(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function E(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){O(o,r,i,a,c,"next",e)}function c(e){O(o,r,i,a,c,"throw",e)}a(void 0)}))}}function N(e,t){var n=document.createDocumentFragment();return(0,f.render)((0,f.createPortal)(e,t),n),function(){return(0,f.unmountComponentAtNode)(n)}}function D(){return A.apply(this,arguments)}function A(){return(A=E(I().mark((function e(){return I().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=N((0,i.jsxs)("div",{style:{position:"fixed",left:"10px",bottom:"10px",backgroundColor:"#5794FF",display:"flex",flexDirection:"column",borderRadius:"16px",gap:"10px",padding:"20px",width:"300px",alignItems:"center"},children:[(0,i.jsx)("span",{style:{fontWeight:"700",fontSize:"40px",lineHeight:"47px"},children:(0,i.jsx)(l,{})}),(0,i.jsx)("span",{style:{fontWeight:"700",fontSize:"20px",lineHeight:"23px",color:"#FFFFFF"},children:"Congrats!"}),(0,i.jsxs)("span",{style:{fontWeight:"400",fontSize:"14px",lineHeight:"16px",color:"#FFFFFF",whiteSpace:"nowrap"},children:["You have completed the onboarding guide.",(0,i.jsx)("br",{}),"Have fun recording or capturing!"]}),(0,i.jsx)("span",{style:{backgroundColor:"white",color:"#5794FF",fontSize:"16px",lineHeight:"19px",fontWeight:"700",padding:"10px 20px",display:"flex",borderRadius:"8px",alignItems:"center",justifyContent:"center",alignSelf:"stretch",cursor:"pointer"},onClick:function(){t(),e(void 0)},children:"Ok"}),(0,i.jsxs)("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"14px",color:"rgba(255, 255, 255, 0.6)"},children:["You can also access more helpful articles and tutorials on our ",(0,i.jsx)("a",{target:"_blank",href:"https://support.awesomescreenshot.com/hc/en-us",rel:"noreferrer",style:{fontWeight:"400",fontSize:"12px",lineHeight:"14px",color:"rgba(255, 255, 255, 0.6)",textDecoration:"underline"},children:"help center."})]})]}),document.body)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){var t=e.onOk;return(0,f.createPortal)((0,i.jsx)(j,{inset:{top:0,right:40},children:(0,i.jsx)(x,{title:(0,i.jsxs)(i.Fragment,{children:["Pin Awesome Screenshot ",(0,i.jsx)("br",{}),"for easy access"]}),showClose:!1,buttonText:"I have pinned",arrow:"top",width:360,arrowLeft:244,onOk:t,onCancel:t,children:(0,i.jsx)("div",{style:{width:"320px",height:"200px",borderRadius:"10px",backgroundColor:"#dddddd",overflow:"hidden"},children:(0,i.jsx)("img",{src:u,alt:"Pin extension gif image",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top right"}})})})}),document.body)}function P(e){var t=e.onOk;return(0,f.createPortal)((0,i.jsx)(j,{inset:{top:0,right:40},children:(0,i.jsx)(x,{title:(0,i.jsxs)(i.Fragment,{children:["Click"," ",(0,i.jsx)("img",{src:r,style:{width:"1em",verticalAlign:"top"},alt:"Logo"})," ","to capture"]}),showClose:!1,buttonText:"Got it",arrow:"top",width:360,arrowLeft:244,onOk:t,onCancel:t,children:(0,i.jsx)("div",{style:{width:"320px",height:"220px",borderRadius:"10px",backgroundColor:"#dddddd",isolation:"isolate",overflow:"hidden"},children:(0,i.jsx)("video",{src:d,muted:!0,autoPlay:!0,loop:!0,style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top right"}})})})}),document.body)}function k(e){var t=e.onCancel,n=e.onOk,r=e.highlightRect;return(0,f.createPortal)((0,i.jsx)(j,{highlight:r,popupPosition:"bottom",popupOffset:{y:10},children:(0,i.jsx)(x,{title:"Share your video",buttonText:"Got it",arrow:"top",onOk:n,onCancel:t,children:"Let’s generate and copy your shareable link to your friends or colleagues."})}),document.body)}function T(e){e.onCancel;var t=e.onOk,n=e.highlightRect,r={x:n.x-5,y:n.y,height:n.height,width:n.width+15};return(0,f.createPortal)((0,i.jsx)(j,{highlight:r,popupPosition:"bottom",popupOffset:{y:10},children:(0,i.jsx)(x,{title:"Leave a comment",showClose:!0,buttonText:"Got it",arrow:"top",onOk:t,onCancel:t,children:"Let’s have a discussion with friends or colleagues about your idea!"})}),document.body)}function L(e){e.onCancel;var t=e.onOk,n=e.highlightRect;return(0,f.createPortal)((0,i.jsx)(j,{highlight:n,popupPosition:"top",popupOffset:{y:-10},children:(0,i.jsx)(x,{title:"Source URL",showClose:!0,buttonText:"Got it",arrow:"bottom",onOk:t,onCancel:t,children:"The source URL was saved for your future reference."})}),document.body)}},87452:(e,t,n)=>{n.d(t,{L:()=>l});n(91324);var r=n(45777),i=n(73935),o=n(97579),a=n(47481),c=n(79285),s=n(85893);function l(e){var t=e.children,n=e.src,l=e.iframeSrc,u=e.closeOnModalClick,d=void 0===u||u,f=e.onClose;return(0,i.createPortal)((0,s.jsxs)("div",{className:"fullscreen-video-view",onClickCapture:function(e){e.target===e.currentTarget&&d&&f()},children:[(0,s.jsx)("div",{className:"fullscreen-video-view-content",children:t||(l?(0,s.jsx)(c.f,{src:l}):(0,s.jsx)(o.Z,{src:n}))}),(0,s.jsx)("div",{className:"fullscreen-video-view-control",children:(0,s.jsx)(r.Z,{title:"Close",children:(0,s.jsx)("div",{className:"close-btn",onClick:f,children:(0,s.jsx)(a.Tw,{style:{color:"white"}})})})})]}),document.body)}},37638:(e,t,n)=>{n.r(t),n.d(t,{default:()=>tt});n(67004);var r=n(19181),i=(n(79133),n(32787)),o=(n(90),n(16114)),a=(n(48315),n(28682)),c=(n(91324),n(45777)),s=(n(85624),n(71577)),l=(n(50626),n(48086)),u=(n(68521),n(51752)),d=(n(47386),n(48889)),f=n(41609),m=n.n(f),p=n(1870),h=n(44545),v=n(79508),y=n(57119),g=n(67294),b=n(56262),j=n(96974),w=n(39711),x=n(62983),S=n(47481),I=n(94184),O=n.n(I),E=n(45697),N=n.n(E),D=n(96774),A=n.n(D),C=n(97579),P=n(20828),k=n(2264),T=n(27484),L=n.n(T),_=n(85893);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V(r.key),r)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var i=G(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return H(e)}function H(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function B(e,t,n){return(t=V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(o,e);var t,n,r,i=F(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),B(H(t=i.call(this,e)),"handlePlayerPause",(function(){t.playerRef.current.pause()})),B(H(t),"getCurrentTime",(function(){return t.playerRef.current.getCurrentTime()})),B(H(t),"handleSeekTo",(function(e){t.state.isPlaying||t.setState({isPlaying:!0}),t.playerRef.current.playVideo(),t.playerRef.current.seekTo(e)})),B(H(t),"handlerPlayVideo",(function(){t.props.increaseView(),t.setState({isPlaying:!0}),t.playerRef.current.playVideo()})),B(H(t),"handleVideoInit",(function(e){t.player=e})),t.state={isPlaying:!1},t.playerRef=(0,g.createRef)(),t}return t=o,(n=[{key:"shouldComponentUpdate",value:function(e,t){if(this.state.isPlaying!==t.isPlaying||this.props.dataManager!==e.dataManager||this.props.annsHash!==e.annsHash)return!0;if(!A()(this.props.comments,e.comments))return!0;var n=this.props.videoInfo,r=e.videoInfo;if((null==n?void 0:n.isRecording)!==(null==r?void 0:r.isRecording)||(null==n?void 0:n.failed)!==(null==r?void 0:r.failed)||(null==n?void 0:n.uploadProcess)!==(null==r?void 0:r.uploadProcess)||(null==n?void 0:n.s3Available)!==(null==r?void 0:r.s3Available)||(null==n?void 0:n.mp4Available)!==(null==r?void 0:r.mp4Available)||(null==n?void 0:n.fileWebMURI)!==(null==r?void 0:r.fileWebMURI)||(null==n?void 0:n.fileMP4URI)!==(null==r?void 0:r.fileMP4URI)||null!=n&&n.recordingLastUpdatedMsec&&L()(n.recordingLastUpdatedMsec).add(10,"minute")<L()())return!0;var i=this.props.fileURI||"",o=e.fileURI||"";if(this.props.showPrepareTip!==e.showPrepareTip)return!0;if(""===i&&""!==o)return!0;var a=this.props.thumbnailURI||"",c=e.thumbnailURI||"";return""===a&&""!==c}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this,t=O()("video-player-wrapper",{playing:this.state.isPlaying}),n=this.props.videoInfo;return(0,_.jsxs)("div",{className:t,children:[(!this.props.fileURI||this.props.showPrepareTip)&&(0,_.jsxs)("div",{id:"video-thumbnail-div",className:"video-thumbnail-div",children:[(0,_.jsx)("img",{src:this.props.thumbnailURI,className:"video-thumbnail"}),(0,_.jsx)("div",{className:"thumbnail-default-image"}),this.props.fileURI&&!this.props.showPrepareTip?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("div",{className:"dark-bg"}),(0,_.jsx)("div",{className:"play",onClick:this.handlerPlayVideo,children:(0,_.jsx)(S.o1,{})})]}):this.props.showPrepareTip&&n?(0,_.jsx)(k.Z,{isShare:this.props.isShare,isVideoDetail:!0,videoInfo:n,setVideoComplete:this.props.setVideoComplete,deleteVideoAction:this.props.deleteVideoAction}):""]}),this.props.fileURI?(0,_.jsx)(C.Z,{src:this.props.fileURI,thumbnailURI:this.props.thumbnailURI,duration:this.props.duration,ref:this.playerRef,comments:this.props.comments,handleReactionIconAnimationEnd:this.props.handleReactionIconAnimationEnd,handleAddReaction:this.props.handleAddReaction,handleScrollToComment:this.props.handleScrollToComment,handleVideoTimeChange:this.props.handleVideoTimeChange,handleToggleTheaterMode:this.props.toggleTheaterMode,increaseView:this.props.increaseView,replayLayer:this.props.replayLayer,annotationLayer:function(t,n){return(0,_.jsx)(P.Z,{videoID:e.props.videoId,videoDimension:n,baseVersion:e.props.baseVersion,shareKey:e.props.shareKey,isOnlyBlurProcessing:e.props.isOnlyBlurProcessing,currentSec:t})}},this.props.videoId):""]})}}])&&M(t.prototype,n),r&&M(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(g.Component);B(z,"propTypes",{fileURI:N().string,thumbnailURI:N().string,showPrepareTip:N().bool});const W=z;var K=n(7516),Y=n(85469),Q=n(30817),q=n(32250),J=n(28235),X=n(36331);var $=n(83279),ee=n(33789),te=n(65538),ne=n(82841),re=n(79993),ie=n(67618),oe=n(99096),ae=n(63395),ce=n(71436),se=n(92807),le=n(65880),ue=n(71922),de=n(55087),fe=n(543),me=n(4976),pe=n(59985),he=n(62734),ve=n(13924),ye=n(37822),ge=n(61401);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===be(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e){var t=e.handleWebmDownload,n=(0,j.s0)();return(0,_.jsxs)("div",{className:"download-webm-panel",children:[(0,_.jsx)("div",{className:"title",children:"Download in webm"}),(0,_.jsxs)("div",{className:"content",children:[" ","Download in MP4 to enjoy benefits like widely accepted by multiple platforms."]}),(0,_.jsxs)("div",{style:{marginTop:"20px"},children:[(0,_.jsx)("div",{style:{marginBottom:"10px"},children:(0,_.jsx)(s.Z,{type:"primary",block:!0,onClick:t,children:"Download in webm"})}),(0,_.jsx)(s.Z,{type:"primary",block:!0,onClick:function(){n("/pricing?from=download-duration-webm")},children:"Upgrade to download in MP4"})]})]})}const Ie=function(e){return(0,_.jsx)(ge.Z,{visible:e.visible,onCancel:e.onCancel,children:(0,_.jsx)(Se,we({},e))})};n(28897);var Oe=n(85986),Ee=(n(25562),n(12028));function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){Ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ce(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Ne(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ne(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Te=function(e){var t=Pe((0,g.useState)(!1),2),n=t[0],r=t[1],i=O()("copy-btn",{copied:n});return(0,_.jsx)(s.Z,Ae(Ae({},e),{},{className:i,onClick:function(){r(!0),(0,ie.zp)(e.text),setTimeout((function(){r(!1)}),1500)},children:n?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(S.TI,{}),"Copied!"]}):"Copy"}))};function Le(e){return Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Le(e)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return t=function(e){var t=function(e,t){if("object"!==Le(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Le(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}i.Z.TextArea;function Ue(e){var t=_e((0,g.useState)(!0),2),n=t[0],r=t[1],i=_e((0,g.useState)(360),2),o=i[0],a=i[1],c=_e((0,g.useState)(640),2),s=c[0],l=c[1],u="/embed?id=".concat(e.id,"&shareKey=").concat(e.shareKey)+(n?"":"&info=false"),d="<iframe frameBorder='0' width='".concat(s,"' height='").concat(o,"' webkitallowfullscreen mozallowfullscreen allowfullscreen src=\"https://www.awesomescreenshot.com").concat(u,'"></iframe>');return(0,_.jsxs)("div",{className:"embed-code-panel",children:[(0,_.jsx)("div",{className:"preview",children:(0,_.jsx)("iframe",{frameBorder:"0",width:"540",height:"300",webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0,src:u})}),(0,_.jsxs)("div",{className:"settings",children:[(0,_.jsxs)("div",{className:"title",children:[(0,_.jsx)(S.FL,{}),"Embeded Code"]}),(0,_.jsxs)("div",{className:"code-area",children:[(0,_.jsxs)("div",{className:"code-option",children:["Show Basic informations",(0,_.jsx)("div",{className:"option-action",children:(0,_.jsx)(Ee.Z,{className:"info-switch",defaultChecked:!0,onChange:function(e){r(e)}})})]}),(0,_.jsxs)("div",{className:"code-option",children:["Size",(0,_.jsxs)("div",{className:"option-action",children:[(0,_.jsx)(Oe.Z,{value:s,style:{width:"70px"},size:"small",onChange:l})," ","X"," ",(0,_.jsx)(Oe.Z,{value:o,style:{width:"70px"},size:"small",onChange:a})]})]}),(0,_.jsx)("div",{className:"code-preview",children:d})]}),(0,_.jsx)(Te,{type:"primary",className:"copy-btn",size:"large",block:!0,text:d})]})]})}const He=function(e){return(0,_.jsx)(d.Z,{visible:e.visible,onCancel:e.onCancel,destroyOnClose:!0,footer:null,maskClosable:!1,className:"embed-code-modal",closeIcon:(0,_.jsx)(S.Tw,{style:{fontSize:"12px"}}),children:(0,_.jsx)(Ue,Ze({},e))})};var Ge=n(85580),Be=n(64277),Ve=n(73458),ze=n(48203);function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function Ke(e,t,n){return t=function(e){var t=function(e,t){if("object"!==We(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===We(t)?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Qe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qe=d.Z.confirm,Je=u.Z.TabPane,Xe=!1;var $e={loadUserInfo:de.Lk,loadVideoInfo:fe.cb,convertVideoToMP4Action:fe.XH,generateShareLinkAction:fe.i9,revokeShareLinkAction:fe.DI,editTitleAction:fe.mU,openEditTitleAction:fe.OS,hideEditTitleAction:fe.O1,moveToTrash:le.B0,createComment:se.Yr,removeCommentAnimation:se.L9,loadComments:se.KT,deleteChannelItem:ce.FO,setVideoComplete:fe.mE,hideItemAction:ue.td},et=(0,b.$j)((function(e,t){var n=t.id||t.router.params.videoID||"";return{currentPlan:e.user.premium.currentPlan,counts:e.user.counts,permissions:e.user.permissions,userInfo:e.user.info,isUserLoaded:e.user.isLoaded,isUserLoading:e.user.isLoading,video:(0,ne.yl)(e,n),comments:e.comment.comments[Y.Z$.video+n]||[],total:e.user.counts?e.user.counts.video:0,videoTotalAllCreated:e.user.counts?e.user.counts.videoTotalAllCreated:0,showGuide:e.user.showGuide&&e.user.isLoaded&&e.userGuide.loaded&&(!e.userGuide.popups.VideoShare||!e.userGuide.popups.VideoComment),userGuide:e.userGuide}}),$e);const tt=(0,K.Z)(et((function(e){var t=e.isModal,n=e.id,f=e.shareKey,b=e.loadUserInfo,I=e.loadVideoInfo,O=e.loadComments,E=e.video,N=e.currentPlan,D=e.permissions,A=e.userInfo,C=e.isUserLoaded,P=e.comments,k=e.convertVideoToMP4Action,T=e.generateShareLinkAction,L=e.revokeShareLinkAction,R=e.moveToTrash,M=e.createComment,Z=e.removeCommentAnimation,F=e.deleteChannelItem,U=e.hideModal,H=e.isBrowsing,G=e.counts,B=e.showGuide,V=e.setVideoComplete,z=e.userGuide,K=Ye((0,g.useState)(!1),2),ne=K[0],ce=K[1],se=Ye((0,g.useState)(!1),2),le=se[0],ue=se[1],de=Ye((0,g.useState)(!1),2),fe=de[0],ge=de[1],be=Ye((0,g.useState)(!1),2),je=be[0],we=be[1],xe=Ye((0,g.useState)(!0),2),Se=(xe[0],xe[1]),Oe=Ye((0,g.useState)(!1),2),Ee=Oe[0],Ne=Oe[1],De=Ye((0,g.useState)(!1),2),Ae=De[0],Ce=De[1],Pe=Ye((0,g.useState)(!1),2),ke=Pe[0],Te=Pe[1],Le=Ye((0,g.useState)(!1),2),_e=Le[0],Re=Le[1],Me=Ye((0,g.useState)(!1),2),Ze=Me[0],Fe=Me[1],Ue=Ye((0,g.useState)(1580),2),We=Ue[0],Qe=Ue[1],$e=Ye((0,g.useState)(300),2),et=$e[0],tt=$e[1],nt=Ye((0,g.useState)("0"),2),rt=nt[0],it=nt[1],ot=Ye((0,g.useState)("0"),2),at=ot[0],ct=ot[1],st=Ye((0,g.useState)(!1),2),lt=st[0],ut=st[1],dt=Ye((0,g.useState)(!1),2),ft=dt[0],mt=dt[1],pt=Ye((0,g.useState)(!1),2),ht=pt[0],vt=pt[1],yt=Ye((0,g.useState)(!1),2),gt=yt[0],bt=yt[1],jt=Ye((0,g.useState)(!1),2),wt=jt[0],xt=jt[1],St=Ye((0,g.useState)(!1),2),It=St[0],Ot=St[1],Et=Ye((0,g.useState)(!1),2),Nt=Et[0],Dt=Et[1];(0,te.u)(E.info&&!t?E.info.title:"");var At=(0,g.useRef)(null),Ct=(0,g.useRef)(null),Pt=(0,g.useRef)(null),kt=(0,g.useRef)(null),Tt=(0,g.useRef)(null),Lt=(0,g.useRef)(null),_t=(0,g.useRef)(null),Rt=(0,j.UO)(),Mt=(0,j.s0)(),Zt=(0,j.TH)(),Ft=(0,Q.a)(),Ut=t?n:Rt.videoID,Ht=t?f:Ft.get("key"),Gt=(0,q.D)(E.isLoading),Bt=(0,q.D)(E.info?E.info.visitRestrict:void 0),Vt=(0,q.D)(N),zt=(0,q.D)(Ut),Wt=(0,J.TL)();(0,g.useEffect)((function(){b(),window.location.search.includes("limit")&&Fe(!0);var e=setTimeout((function(){(0,ie.LB)()||!re.Z.isChrome()||re.Z.isMobile()||Se(!0)}),1e3);return window.lastHeight=window.innerHeight,nn(null,!0),window.addEventListener("resize",nn,!1),function(){clearTimeout(e),window.removeEventListener("resize",nn,!1)}}),[]),(0,g.useEffect)((function(){var e;void 0===E.info&&!1===Gt&&zt===Ut&&(t?U():null!==(e=Zt.state)&&void 0!==e&&e.inApp?Mt(-1):Mt("/my_items"))}),[E.isLoading,E]),(0,g.useEffect)((function(){!N||"free"!==N.PlanName&&"basic"!==N.PlanName||!E.info||void 0!==Vt&&void 0!==Bt||!E.info.visitRestrict||xt(!0)}),[E,N]),(0,g.useEffect)((function(){H&&void 0!==E.info&&E.loaded||(I(Ut,Ht),O(Y.Z$.video,Ut,Ht))}),[Ut,Ht]),(0,g.useEffect)((function(){var e=E.info||{};if(e.canVisit&&!0!==e.failed)if(Xe||E.isLoading||!1!==e.s3Available)if(Xe||E.isLoading||!(e.isMP4Requested&&!e.mp4Available||e.isDownloadWithAnnRequested)||!1!==e.downloadAvailable)!Xe&&e.isEditProcessing?(Xe=!0,setTimeout((function(){I(e.id,e.shareKey,!0),Xe=!1}),1500)):Xe||!re.Z.isIOS()&&!re.Z.isPrevSafari()||void 0===E.info.id||E.info.mp4Available||(Xe=!0,setTimeout((function(){I(e.id,e.shareKey,!0),Xe=!1}),3e3));else{Xe=!0;var t=5;0==e.queueLength&&0==e.queueWaitMin?t=5:0==e.queueLength&&e.queueWaitMin>0?t=(t=60*e.queueWaitMin/8+2)<20?t:20:e.queueLength>0&&(t=(t=60*e.queueWaitMin/3)<60?t:60),setTimeout((function(){I(e.id,e.shareKey,!0),Xe=!1}),1e3*t)}else Xe=!0,setTimeout((function(){I(e.id,e.shareKey,!0),Xe=!1}),500);return function(){}}),[E]),(0,g.useEffect)((function(){void 0===A.uid&&C&&(0,ie.Zf)(b)}),[A,C]);var Kt=(0,g.useRef)(null),Yt=(0,g.useRef)(null),Qt=function(e,t){var n=(0,g.useRef)(null),r=t?e:document,i=t||e;return(0,g.useEffect)((function(){var e,t=(0,X.Ql)(r);n.current=null!==(e=null==t?void 0:t.querySelector(i))&&void 0!==e?e:null}),[(0,X.Ql)(r)]),n}(Yt,":scope .ant-tabs-nav-list .ant-tabs-tab:nth-child(2)"),qt=Ye((0,$.K)(Kt,{windowScroll:!1,reset:!1}),2),Jt=qt[0],Xt=qt[1],$t=Ye((0,$.K)(Qt,{windowScroll:!1,reset:!1}),2),en=$t[0],tn=$t[1];function nn(e,t){if(window.innerHeight!==window.lastHeight||t){var n=window.innerHeight,r=Math.min(1580,(n-182)/.5625+360);window.lastHeight=window.innerHeight,Qe(r),tt(.5625*(r-360)-12)}else tt(.5625*(At.current.offsetWidth-360)-12)}function rn(){var e=E.info;e&&e.canVisit&&"awecon"!=Ft.f&&(0,me.ovQ)(e.id)}function on(){ut((function(e){return e?Lt.current.prepend(kt.current):Tt.current.appendChild(kt.current),!e})),document.scrollingElement&&(document.scrollingElement.scrollTop=0)}function an(){var e=E.info||{};return!m()(e)&&(!1===e.s3Available||!re.Z.webmSupport()&&!1===e.mp4Available)}function cn(){if(D.allowVideoEditor){var e=N&&("free"===N.PlanName||"basic"===N.PlanName);parseInt(E.info.durationSecond)>3600&&e?vt(!0):Mt("/veditor/".concat(E.info.id),t?{state:{isModal:!0}}:{state:{inApp:!0}})}else Re(!0)}function sn(e){"2"!==at&&"0"!==at?(ct("2"),setTimeout((function(){Pt.current.scrollTo(e)}),300)):Pt.current.scrollTo(e)}function ln(e){ct(e)}function un(){var e=E.info.expireRestrictEndTime;if(!e&&E.info.visitRestrict||e&&1e3*e<Date.now())xt(!0);else{var t=N&&("free"===N.PlanName||"basic"===N.PlanName);parseInt(E.info.durationSecond)<3600||!t?ue(!0):bt(!0)}}function dn(){we(!0)}function fn(){qe({title:"Do you want to delete recording?",content:"",onOk:function(){var e=E.info;e.channel?F({workspaceID:e.channel.workspaceID,channelID:e.channel.id,itemID:e.id,id:e.channelItemId,itemType:e.itemType}).then((function(){t?U():Mt("/workspace/"+e.channel.workspaceID+"/"+e.channel.id)})):R([E.info])},okText:"Yes, delete",okType:"danger",onCancel:function(){}})}function mn(){z.steps.Share||(Wt((0,x.YA)(x.Rg.Share)),(0,ie.I1)("First time generate share link from video detail",{event_category:"userGuide"})),E.info.visitRestrict?xt(!0):T(E.info.id)}function pn(){qe({title:"Are you sure to revoke share link?",okType:"danger",okText:"Yes, revoke",onOk:function(){L(E.info.id)}})}function hn(){window.open("https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj")}function vn(e){Ct.current.handleSeekTo(e)}function yn(){Ct.current.handlePlayerPause();var e=Ct.current.getCurrentTime()+"";it(e)}function gn(e){var t;null!==(t=Pt.current)&&void 0!==t&&t.getIsShowInput()&&it(String(e))}function bn(e){if(an())l.ZP.warning("Please wait until the video is ready.");else{var t=Ct.current.getCurrentTime()+"";M("1",E.info.id,e,"1",t)}}function jn(e){Z({itemType:Y.Z$.video,itemId:E.info.id,id:e})}function wn(e){var t;(0,ie.X8)(e,(Ke(t={},"share-next",(function(){Ot(!1),Dt(!0)})),Ke(t,"share-close",(function(){Ot(!1),Wt((0,x.wH)([x.C2.VideoShare,x.C2.VideoComment])),(0,ie.I1)("Complete share video highlight popup",{event_category:"userGuide"})})),Ke(t,"comment-next",(function(){Dt(!1),Wt((0,x.wH)([x.C2.VideoShare,x.C2.VideoComment])),(0,ie.I1)("Complete share video highlight popup",{event_category:"userGuide"})})),Ke(t,"comment-close",(function(){Dt(!1),Wt((0,x.wH)([x.C2.VideoShare,x.C2.VideoComment])),(0,ie.I1)("Complete share video highlight popup",{event_category:"userGuide"})})),t))}function xn(){if(t){var e={itemType:"video",id:E.info.id,shareKey:Ht};localStorage.restore_modal=JSON.stringify(e)}window.location.href="/signin?redirect="+window.location.href}function Sn(){if(document.querySelector("#aws-chrome-installed")||!re.Z.isChrome()||re.Z.isSmallMobile())return null;var e=window.navigator.userAgent.includes("Edg");return(0,_.jsxs)("div",{className:"ext-promotion",children:[(0,_.jsx)("div",{className:"text",children:"Want to take and share a recording like Add the extension to get started!"}),(0,_.jsxs)(s.Z,{block:!0,className:"ext-promotion-btn",type:"primary",icon:e?(0,_.jsx)(S.xY,{}):(0,_.jsx)(S.eL,{}),onClick:ie.nV.bind(null,"video-shared-player-click"),children:["Add to ",e?"Edge":"Chrome"]})]})}(0,g.useEffect)((function(){B&&Kt.current&&!It&&!Nt&&(0,ie._v)(700).then((function(){Xt(),tn(),Ot(!0)}))}));var In=void 0===E.info||(H?!E.loaded:E.isLoading),On=E.info||{},En=void 0===On.id,Nn=A.uid+""!==On.userID&&!On.isChannelMember;(0,ee.Q)((function(){Wt((0,x.aO)())}),!z.loaded&&!Nn&&C);var Dn=void 0!==A.uid&&void 0!==On.canVisit?!On.canVisit&&!Nn:void 0,An=void 0!==On.canVisit&&(!On.canVisit&&Nn&&(!1===Dn||void 0===Dn)),Cn=N&&("free"===N.PlanName||"basic"===N.PlanName)&&parseInt(G.video)>=.75*G.videoLimitation&&parseInt(G.video)<G.videoLimitation,Pn=N&&("free"===N.PlanName||"basic"===N.PlanName)&&parseInt(G.video)>=G.videoLimitation,kn=E.info&&("free"===E.info.planName||"basic"===E.info.planName)&&On.queueLength>3,Tn=function(e){return e.isEditProcessing||e.isOnlyBlurProcessing?{step:"wait",img:(0,_.jsx)("div",{className:"video-img-processing",children:(0,_.jsx)("div",{className:"loading"})}),title:"Edit processing...",content:(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("span",{children:["The changes you made earlier are still being processed."," "]}),(0,_.jsx)("br",{}),(0,_.jsx)("span",{children:"video is unavailable for download now. Please try again later."})]})}:e.downloadAvailable?{step:"download",img:(0,_.jsx)("div",{className:"video-img download"}),title:"The MP4 file is ready for download."}:e.mp4InQueue||e.isMP4Requested&&!e.mp4Available||e.isDownloadWithAnnRequested||fe?e.mp4InQueue?e.queueLength||e.queueWaitMin?e.queueLength?{step:"wait",title:"Waiting for conversion",img:(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"video-img wait",children:(0,_.jsxs)("div",{className:"waiting",children:[(0,_.jsx)("div",{className:"dot"}),(0,_.jsx)("div",{className:"dot"}),(0,_.jsx)("div",{className:"dot"}),(0,_.jsx)("div",{className:"dot"}),(0,_.jsx)("div",{className:"dot"}),(0,_.jsx)("div",{className:"dot"})]})})}),content:(0,_.jsxs)("span",{children:["There are ",e.queueLength," ",e.queueLength>1?"videos":"video"," in the"," ",kn?"regular ":"priority ","queue before this video.",(0,_.jsx)("br",{})," It will take about ",e.queueWaitMin," ",e.queueWaitMin>1?"minutes":"minute",".",kn&&(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("br",{}),(0,_.jsx)("br",{}),(0,_.jsx)("a",{href:"/pricing?from=priority_queue",target:"_blank",children:"Upgrade to Pro"})," ","to join the priority queue for faster conversion."]})]})}:{step:"converting",title:"Converting...",img:(0,_.jsx)("div",{className:"video-img converting",children:(0,_.jsx)("div",{className:"loading"})}),content:(0,_.jsxs)("span",{children:["Converting video. It will take about ",e.queueWaitMin," ",e.queueWaitMin>1?"minutes":"minute","."]})}:{step:"converting",title:"Converting...",img:(0,_.jsx)("div",{className:"video-img converting",children:(0,_.jsx)("div",{className:"loading"})}),content:(0,_.jsx)("span",{children:"Converting video. It will take less than 1 minute."})}:{step:"preparing",img:(0,_.jsx)("div",{className:"video-img convert"}),title:"Preparing...",content:""}:{step:"convert",title:"Convert & Download MP4",img:(0,_.jsx)("div",{className:"video-img convert"}),content:""}}(On);return(0,_.jsxs)("div",{className:"Video ".concat(t?"modal":""),ref:_t,children:[Pn&&(0,_.jsxs)("div",{className:"discount-tip-header",children:[(0,_.jsx)(y.Z,{}),"You’ ve reached the 20 video limit. Upgrade for unlimited videos.",(0,_.jsx)(w.rU,{className:"btn primary",to:"/pricing?from=list_reach_limit",children:"Upgrade now"})]}),Cn&&(0,_.jsxs)("div",{className:"discount-tip-header",children:[(0,_.jsx)(y.Z,{}),"You’ ve record ",G.video,"/",G.videoLimitation," videos. Upgrade for unlimited videos.",(0,_.jsx)(w.rU,{className:"btn primary",to:"/pricing?from=list_video_close_limit",children:"Upgrade now"})]}),(0,_.jsx)("div",{className:"video-theator-container ".concat(lt?"active":""),ref:Tt}),(0,_.jsxs)("div",{className:"video-inner-container",style:{maxWidth:We+"px"},ref:At,children:[(0,_.jsx)("div",{className:"main",children:In?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(ve.Z,{})}):(0,_.jsx)(_.Fragment,{children:En?((0,ie.I1)("video not found",{event_category:"video"}),(0,_.jsxs)("div",{className:"video-error",children:[(0,_.jsx)("div",{className:"error-404"}),(0,_.jsx)("h3",{children:"Ooops!!"}),(0,_.jsx)("p",{className:"error-tip",children:"We can't find a video you are looking for"}),(0,_.jsx)(s.Z,{type:"primary",className:"add-extension",size:"large",onClick:hn,children:"Add to Chrome It's free!"})]})):function(e,l){var d=e.thumbnailURI960||"",f=e.s3Available?e.fileWebMURI:void 0,m=e.mp4Available?e.fileMP4URI:void 0,y=m&&m.length>0?m:f,g=e.shareURI,b=e.title,j=A.uid+""!==e.userID&&!e.isChannelMember,w=A.uid+""===e.userID,x=e.channel&&A.uid===e.channel.creatorID,I=e.isEditProcessing,O=(0,_.jsx)(_.Fragment,{children:j?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"sidebar-area",children:(0,_.jsxs)("div",{className:"shared-comment-container",children:[(0,_.jsx)("div",{className:"title",children:P.length>1?"".concat(P.length," Comments"):"".concat(P.length," Comment")}),(0,_.jsx)(pe.Z,{itemType:Y.Z$.video,itemId:t?n:Rt.videoID,shareKey:Ht,ref:Pt,height:et,handleSeekTo:vn,currentVideoTime:rt,onCommentStart:yn,goToSignIn:xn})]})})}):(0,_.jsx)("div",{className:"sidebar-area",ref:Yt,id:"user-guide-container--video",children:(0,_.jsxs)(u.Z,{defaultActiveKey:e.hasComment||e.channel?"2":"1",centered:!0,onTabClick:ln,children:[(0,_.jsx)(Je,{tab:"Manage",children:(0,_.jsxs)(_.Fragment,{children:[(w||x)&&(0,_.jsx)("div",{className:"sidebar",children:(0,_.jsx)(Ge.Z,{item:e})}),w&&(0,_.jsx)("div",{className:"sidebar",children:(0,_.jsx)("div",{className:"section tiny",children:(0,_.jsxs)("div",{className:"action-box",children:[(0,_.jsxs)("div",{className:"action-item",onClick:un,children:[(0,_.jsx)("div",{className:"icon",children:(0,_.jsx)(S._8,{})}),(0,_.jsx)("div",{className:"name",children:"Download MP4"})]}),(0,_.jsxs)("div",{className:"action-item",onClick:cn,children:[(0,_.jsxs)("div",{className:"icon",children:[(0,_.jsx)("div",{className:"badge",children:"Beta"}),(0,_.jsx)(S.qz,{})]}),(0,_.jsxs)("div",{className:"name",children:["Edit video"," ",(0,_.jsx)(c.Z,{title:"Note: video editing is a Pro feature. For a limited time, it's free to use for everyone.",children:(0,_.jsx)(p.Z,{})})]})]})]})})}),!j&&(0,_.jsx)("div",{className:"sidebar",children:(0,_.jsx)("div",{ref:Kt,className:"section",children:g?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"share-title-area",children:["Share Link",(0,_.jsx)("div",{className:"more",children:(0,_.jsx)(o.Z,{overlay:(0,_.jsxs)(a.Z,{children:[(0,_.jsx)(a.Z.Item,{children:(0,_.jsx)("div",{onClick:dn,children:"Embed Code"})},"0"),(0,_.jsx)(a.Z.Item,{children:(0,_.jsx)("div",{className:"revoke-btn",onClick:pn,children:"Revoke share link"})},"1"),(0,_.jsx)(a.Z.Item,{children:(0,_.jsx)("div",{className:"revoke-btn",onClick:function(){(0,ie.bw)(g)},children:"Get short url"})},"2")]}),trigger:["click"],children:(0,_.jsx)(h.Z,{})})})]}),(0,_.jsx)("div",{className:"share-link-input",children:(0,_.jsx)(i.Z,{disabled:!0,value:g})}),(0,_.jsx)("div",{className:"button-area",children:(0,_.jsx)(s.Z,{type:"primary",block:!0,icon:ne?(0,_.jsx)(v.Z,{}):(0,_.jsx)(S.TI,{}),className:ne?"copy-btn copied":"copy-btn",onClick:function(){!function(e){(0,ie.zp)(e),ce(!0),setTimeout((function(){ce(!1)}),1500)}(g)},children:ne?"Copied!":"Copy Link"})}),(0,_.jsx)("div",{className:"sep"}),(0,_.jsx)("div",{className:"destination-area",children:(0,_.jsx)(Be.Z,{dataURL:"fff",permissions:D,currentPlan:N,type:"video",itemId:t?n:Rt.videoID,itemUrl:g})})]}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h4",{children:"Share Your Video"}),(0,_.jsxs)("div",{className:"button-area",children:[(0,_.jsx)(s.Z,{className:"shareButton",onClick:mn,loading:E.isGenerateShareLinkLoading,children:"Generate Shareable Link"}),(0,_.jsxs)("div",{className:"support-s",children:[(0,_.jsx)("div",{children:"Support:"}),(0,_.jsx)("div",{className:"s-container",children:Y.SX.map((function(e){return(0,_.jsx)(c.Z,{title:e.displayName,children:(0,_.jsx)("div",{className:"s-item ".concat(e.name)})},e.name)}))})]})]})]})})}),l&&!1]})},"1"),(0,_.jsx)(Je,{tab:P.length>0?"Comments (".concat(P.length,")"):"Comments",children:(0,_.jsx)("div",{className:"comment-area",children:(0,_.jsx)(pe.Z,{itemType:Y.Z$.video,itemId:t?n:Rt.videoID,isOwner:parseInt(E.info.userID)===A.uid,ref:Pt,shareKey:Ht,height:et,handleSeekTo:vn,currentVideoTime:rt,onCommentStart:yn,isInChannel:!!E.info.channel,channel:E.info.channel,goToSignIn:xn})})},"2")]})})});return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"video-container",ref:Lt,children:[(0,_.jsxs)("div",{className:"video-area",ref:kt,children:[(0,_.jsx)("div",{className:"video-content",children:I&&!e.isOnlyBlurProcessing?(0,_.jsxs)("div",{className:"cut-processing",children:[!I&&(0,_.jsx)("img",{src:d,alt:""}),(0,_.jsx)("div",{className:"wrapper",children:(0,_.jsxs)("div",{className:"center",children:[(0,_.jsx)("div",{className:"cut-processing-img",children:(0,_.jsx)("div",{className:"loading"})}),(0,_.jsx)("div",{className:"title",children:"Edit processing..."}),(0,_.jsx)("div",{className:"sub-title",children:0===e.editWaitMin?"It will take less than a minute":"It will take ".concat(e.editWaitMin," minutes")})]})})]}):(0,_.jsx)(W,{ref:Ct,fileURI:y,videoId:t?n:Rt.videoID,videoInfo:E.info,setVideoComplete:V,deleteVideoAction:fn,baseVersion:e.version,shareKey:Ht,isShare:j,duration:e.durationSecond,isOnlyBlurProcessing:e.isOnlyBlurProcessing,thumbnailURI:d,showPrepareTip:an(),increaseView:rn,comments:P,handleVideoTimeChange:gn,handleReactionIconAnimationEnd:jn,handleAddReaction:bn,handleScrollToComment:sn,toggleTheaterMode:on,replayLayer:Sn()})}),A.uid?(0,_.jsx)("div",{className:"video-reaction-button-bar",children:Y.t5.map((function(e){return(0,_.jsx)("div",{className:"video-reaction-button",onClick:function(){bn(e)},children:(0,_.jsx)("div",{className:"emoji",children:e})},e)}))}):(0,_.jsx)(c.Z,{title:"Sign in to add a reaction",placement:"bottom",children:(0,_.jsx)("div",{className:"video-reaction-button-bar",children:Y.t5.map((function(e){return(0,_.jsx)("div",{className:"video-reaction-button",onClick:xn,children:e},e)}))})})]}),(0,_.jsxs)("div",{className:"video-title-area",children:[String(A.uid)===e.userID&&!e.isRecording&&(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("div",{className:"action-box",children:(0,_.jsx)(o.Z,{placement:"topRight",trigger:"click",overlay:(0,_.jsx)(a.Z,{children:(0,_.jsx)(a.Z.Item,{icon:(0,_.jsx)(S.XH,{}),onClick:fn,children:"Remove"},"remove")}),children:(0,_.jsx)("div",{className:"video-action-btn",children:(0,_.jsx)(S.bv,{})})})})}),(0,_.jsx)("div",{className:"video-title",children:String(A.uid)===String(e.userID)||e.channel&&e.channel.isMember?(0,_.jsx)(ye.Z,{item:e}):(0,_.jsx)("div",{className:"display-title",children:b})}),(0,_.jsxs)("div",{className:"video-author",children:[(0,_.jsx)(r.Z,{visible:!!e.workspace&&void 0,overlayClassName:"workspace-profile-popover",content:e.workspace?(0,_.jsx)(ze.Z,{info:e,workspaceID:e.workspace.id}):null,arrowPointAtCenter:!0,autoAdjustOverflow:!0,destroyTooltipOnHide:!0,mouseLeaveDelay:.1,placement:"bottomLeft",children:(0,_.jsxs)("div",{className:"video-info-avatar",children:[(0,_.jsx)(oe.Z,{size:"32",username:e.userName,avatarUrl:e.userAvatar}),(0,_.jsx)("span",{className:"username",children:e.userName})]})}),(0,_.jsx)("div",{className:"video-info-text",children:(0,_.jsxs)("div",{className:"extra-info",children:[(0,_.jsxs)("span",{className:"views",children:[(0,_.jsx)("span",{children:e.views})," ",e.views>1?"views":"view"]}),(0,_.jsx)("span",{className:"sep",children:"•"}),(0,_.jsx)("span",{className:"create-time",children:(0,ie.p6)(e.createdSec)})]})})]})]}),O]})})}(On,Cn)})}),(0,_.jsx)(d.Z,{visible:le,onCancel:function(){ue(!1)},footer:null,className:"video-modal",width:500,closeIcon:(0,_.jsx)(S.Tw,{style:{fontSize:"12px"}}),children:(0,_.jsxs)("div",{className:"main",children:[Tn.img,(0,_.jsx)("div",{className:"title",children:Tn.title}),(0,_.jsx)("p",{className:"format-desc",children:Tn.content}),"converting"!==Tn.step&&"wait"!==Tn.step&&"preparing"!==Tn.step&&(0,_.jsx)("div",{className:"download-action-area",children:On.downloadAvailable?(0,_.jsx)(s.Z,{type:"primary",className:"download",onClick:function(){(0,ie.Cz)("/api/v1/video/download?videoID="+E.info.id,E.info.title+".mp4")},size:"large",block:!0,children:"Download MP4"}):(0,_.jsx)(s.Z,{type:"primary",className:"download",onClick:function(){k(E.info.id),ge(!0)},size:"large",block:!0,children:"Convert To MP4"})})]})}),(0,_.jsx)(He,{visible:je,onCancel:function(){we(!1)},id:On.id,shareKey:On.shareKey}),(0,_.jsx)(ae.Z,{unClosable:!!E.info&&!E.info.restrictCanClose,deadline:E.info&&E.info.expireRestrictEndTime,visible:wt,onCancel:function(){xt(!1),(0,ie.I1)("video-record-50",{event_category:"upgrade modal hide"})},type:"video-record-50"}),(0,_.jsx)(ae.Z,{onCancel:function(){Ce(!1)},visible:Ae,type:"video-alert"}),(0,_.jsx)(ae.Z,{onCancel:function(){Te(!1)},visible:ke,type:"download"}),(0,_.jsx)(ae.Z,{onCancel:function(){Re(!1)},visible:_e,type:"video-editor"}),(0,_.jsx)(ae.Z,{onCancel:function(){Fe(!1)},visible:Ze,type:"5limit"}),(0,_.jsx)(ae.Z,{onCancel:function(){bt(!1)},visible:gt,openDownloadWebmModal:function(){mt(!0)},type:"download-duration"}),(0,_.jsx)(ae.Z,{onCancel:function(){vt(!1)},visible:ht,type:"edit-duration"}),(0,_.jsx)(Ie,{visible:ft,onCancel:function(){mt(!1)},handleWebmDownload:function(){(0,ie.Cz)("/api/v1/video/download/webm?videoID="+E.info.id,E.info.title+".webm")}}),!Nn&&(0,_.jsx)(he.Z,{type:"video",isInApp:!t&&Zt.state,isFailed:On.failed}),(0,_.jsx)(d.Z,{visible:An,destroyOnClose:!0,closable:!1,maskClosable:!1,getContainer:!1,footer:null,centered:!0,className:"video-modal",children:(0,_.jsx)("div",{className:"restriction-area",children:Ee?(0,_.jsx)(_.Fragment,{children:(0,_.jsx)("h2",{className:"title",children:"Message sent successfully."})}):(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h2",{className:"title",children:"Oops! This video is not accessible. "}),(0,_.jsxs)("p",{children:["This video is locked because the owner (",On.userName,") has reached a limit for video sharing."]}),(0,_.jsx)("p",{children:"Want to watch video? Click the button below to let the owner know. We will send a reminder message to the video owner for you."}),(0,_.jsx)(s.Z,{type:"primary",onClick:function(){(0,me.bG5)(E.info.id).then((function(){Ne(!0)})),(0,ie.I1)("tell owner restriction",{event_category:"video"})},children:"Send reminder"})]})})})]}),It&&(0,_.jsx)(Ve.wD,{onCancel:function(){return wn("share-close")},onOk:function(){wn("share-next")},highlightRect:Jt}),Nt&&(0,_.jsx)(Ve.hO,{onCancel:function(){return wn("comment-close")},onOk:function(){return wn("comment-next")},highlightRect:en})]})})))},65538:(e,t,n)=>{n.d(t,{u:()=>i});var r=n(67294);function i(e){(0,r.useEffect)((function(){e&&e!==document.title&&(document.title=e+" - Awesome Screenshot")}),[e])}},83279:(e,t,n)=>{n.d(t,{K:()=>p});var r=n(50308),i=n.n(r),o=n(3664),a=n(36331),c=n(67294);function s(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n){var r=(0,o.d)(t),u=(0,c.useRef)(i());function d(){u.current(),u.current=i()}return(0,c.useEffect)((function(){var t=(0,a.PW)(e);if(t.length){var i,o=new ResizeObserver((function(e,t){return r.current(e,t)})),c=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}(t);try{for(c.s();!(i=c.n()).done;){var s=i.value;s&&o.observe(s,n)}}catch(e){c.e(e)}finally{c.f()}return u.current=function(){return o.disconnect()},d}}),s((0,a.PW)(e))),d}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.reset,r=void 0===n||n,i=t.windowResize,o=void 0===i||i,s=t.windowScroll,l=void 0===s||s,u=t.immediate,m=void 0===u||u,p=(0,c.useState)((function(){var t=(0,a.Ql)(e);return t?t.getBoundingClientRect():new DOMRect})),h=f(p,2),v=h[0],y=h[1];function g(t){if(t instanceof DOMRect)return y(t);var n=(0,a.Ql)(e);n?y(n.getBoundingClientRect()):r&&y(new DOMRect)}return d(e,g),(0,c.useEffect)((function(){return o&&window.addEventListener("resize",g,{passive:!0}),l&&window.addEventListener("scroll",g,{passive:!0}),function(){window.removeEventListener("resize",g),window.removeEventListener("scroll",g)}}),[o,l]),(0,c.useEffect)((function(){m&&g()}),[]),[v,g]}},76932:(e,t,n)=>{n.d(t,{Or:()=>u,_6:()=>l});var r=n(33744),i=n(27709),o=n(29127),a=n(3664),c=n(67294);function s(e){return function(t){var n=(0,a.d)(t);(0,c.useEffect)((function(){var t=e.subscribe((function(e){return n.current(e)}));return function(){return t.unsubscribe()}}),[])}}var l=s((0,r.R)(window,"keydown",{passive:!0,capture:!0}).pipe((0,i.B)({resetOnRefCountZero:!0}))),u=(s((0,r.R)(window,"keyup",{passive:!0,capture:!0}).pipe((0,i.B)({resetOnRefCountZero:!0}))),s((0,r.R)(window,"scroll",{passive:!0,capture:!0}).pipe((0,i.B)({resetOnRefCountZero:!0}))),s((0,r.R)(window,"resize",{passive:!0,capture:!0}).pipe((0,i.B)({resetOnRefCountZero:!0}))),(0,r.R)(document,"visibilitychange",{passive:!0}).pipe((0,i.B)({resetOnRefCountZero:!0}),(0,o.U)((function(){return"hidden"!==document.visibilityState}))));s(u)},28235:(e,t,n)=>{n.d(t,{CG:()=>a,IN:()=>s,TL:()=>o,aQ:()=>c});var r=n(56262),i=n(96974),o=r.I0,a=r.v9,c=i.s0,s=i.TH},36331:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return"object"!==r(e)||null===e||"[object Object]"!==Object.prototype.toString.call(e)?e:Object.prototype.hasOwnProperty.call(e,"current")?e.current:e}function o(e){return Array.isArray(e)?e.map(i):[i(e)]}n.d(t,{PW:()=>o,Ql:()=>i})},73387:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(82452),i=n(85469);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const s=function(e,t){var n=o((0,r.L)((function(){return{accept:i.JT.ITEM,drop:t,canDrop:function(t){if(null===e)return!0;var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(t.data);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("folder"===i.itemType){var o=i.parentID||i.folderID;if(e.folderID===o||e.folderID===i.id)return!1}else if(e.folderID===i.folderID)return!1}}catch(e){r.e(e)}finally{r.f()}return!0},collect:function(e){return{isOver:!!e.isOver()&&e.canDrop()}}}})),2);return[n[0].isOver,n[1]]}},32250:(e,t,n)=>{n.d(t,{D:()=>i});var r=n(67294);function i(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}},30817:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>i});var r=n(96974);function i(){return new URLSearchParams((0,r.TH)().search)}const o=i},33789:(e,t,n)=>{n.d(t,{Q:()=>o});var r=n(3664),i=n(67294);function o(e,t){var n=(0,i.useRef)(!1),o=(0,r.d)(e);n.current||t&&(o.current(),n.current=!0)}},58429:(e,t,n)=>{n.d(t,{Y:()=>o,Z:()=>a});var r=n(67294),i=n(36331);function o(e,t,n,o,a){var c=(0,r.useRef)(null),s=(0,r.useRef)(null);function l(n){o&&n.forEach((function(n){n.intersectionRatio>0&&!e&&!t&&o()}))}return(0,r.useEffect)((function(){var e,t=(0,i.Ql)(s);if(t){var n={root:null!==(e=(0,i.Ql)(a))&&void 0!==e?e:c.current,rootMargin:"0px 0px 200px 0px",threshold:.1},r=new IntersectionObserver(l,n);return r.observe(t),function(){return r.disconnect()}}})),[c,s]}const a=o},94458:(e,t,n)=>{n.d(t,{r:()=>w});var r=n(67294);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function a(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function c(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,l(e,t,"get"))}function s(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,l(e,t,"set"),n),n}function l(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var d=Symbol("VueRef Raw Symbol"),f=Symbol("VueRef Symbol");function m(e,t){return!Object.is(e,t)}function p(e){var t=e&&e[d];return t?p(t):e}function h(e,t){return null===(n=e)||"object"!==u(n)?e:new Proxy(e,{get:function(e,t,n){return t===d?e:Reflect.get(e,t,n)},set:function(e,n,r,i){var o=Reflect.get(e,n,i),a=Reflect.set(e,n,r,i);return m(o,r)&&a&&t(),a}});var n}var v=new WeakMap,y=new WeakMap,g=new WeakMap,b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,v,{writable:!0,value:void 0}),a(this,y,{writable:!0,value:void 0}),a(this,g,{writable:!0,value:void 0}),function(e,t,n){(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,f,!0),s(this,v,p(t)),s(this,g,n),s(this,y,h(t,n))}var t,n,r;return t=e,(n=[{key:"value",get:function(){return c(this,y)},set:function(e){m(e,c(this,v))&&(s(this,v,e),s(this,y,h(e,c(this,g))),c(this,g).call(this))}}])&&i(t.prototype,n),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function j(e,t){return!0===(null==(n=e)?void 0:n[f])?e:new b(e,t);var n}function w(e){var t=function(){var e=(0,r.useState)()[1];return function(){return e({})}}();return(0,r.useMemo)((function(){return j(e,t)}),[])}},83417:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(67294);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==t);s=!0);}catch(e){l=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return c}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(){var e=i((0,r.useState)(!1),2),t=e[0],n=e[1],o=i((0,r.useState)(!1),2),a=o[0],c=o[1];return[t,n,function(){n(!1)},a,c]}},20722:(e,t,n)=>{n.d(t,{vU:()=>f,sc:()=>u,DK:()=>l,wD:()=>d,WZ:()=>p});n(11947);var r,i=n(38648),o=n(47481),a=n(85893),c=(r=0,function(){return++r});function s(e,t){return(0,a.jsxs)("div",{className:"cus-message",children:[(0,a.jsx)("span",{className:"msg",children:e}),t&&(0,a.jsx)("div",{className:"actions",children:t.map((function(e){return(0,a.jsx)("div",{className:"action-btn",onClick:e.action,children:e.name},e.name)}))})]})}function l(){return u({msg:"Working..."})}function u(e){var t=e.msg,n=e.buttons,r=e.type,l=c();return i.Z.open({key:l+"",message:s(t,n),placement:"bottomLeft",className:"cus-notification ".concat("error"===r?"error":""),closeIcon:(0,a.jsx)(o.Tw,{}),duration:"error"===r?5:null}),l}function d(e,t){var n=t.msg,r=t.buttons,c=t.type;i.Z.open({key:e+"",message:s(n,r),placement:"bottomLeft",className:"cus-notification ".concat("error"===c?"error":""),closeIcon:(0,a.jsx)(o.Tw,{}),duration:"error"===c?5:1})}function f(e){i.Z.close(e+"")}function m(e,t){var n=t.okMsg,r=t.workingMsg,i=void 0===r?"Working...":r,o=t.errMsg;return new Promise((function(t,r){var a=u({msg:i});e.then((function(e){n&&d(a,{msg:"function"==typeof n?n(e):n}),t(e)})).catch((function(e){o&&d(a,{type:"error",msg:"function"==typeof o?o(e):o}),r(e)}))}))}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"function"==typeof e?function(){return m(e.apply(void 0,arguments),t)}:e instanceof Promise?m(e,t):void 0}},82841:(e,t,n)=>{n.d(t,{KU:()=>s,PW:()=>d,Yy:()=>u,sf:()=>l,yl:()=>f});var r=n(20573);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(e){var t,n;return"team"===(null===(t=e.user.premium)||void 0===t||null===(n=t.currentPlan)||void 0===n?void 0:n.PlanName.toLowerCase())},l=function(e,t){var n;return((null===(n=e.destination)||void 0===n?void 0:n.destinations)||[]).filter((function(e){return e.service===t}))},u=function(e){return(e.connectedAccount.accounts||[]).filter((function(e){return["dropbox","googleDrive","box"].includes(e.service)}))},d=function(e){return(e.connectedAccount.accounts||[]).filter((function(e){return!["dropbox","googleDrive","box"].includes(e.service)}))},f=function(e,t){var n;return(null===(n=e.video.videos)||void 0===n?void 0:n[t])||{}},m=function(e,t){return t.some((function(t){return t.id===e}))},p=(0,r.P1)([function(e){return e.multipleSelect.selectedTrashItems},function(e){return e.trash.itemIDList},function(e){return e.trash.trashItems}],(function(e,t,n){return t.map((function(t){return a(a({},n[t]),{},{checked:m(t,e)})}))}));(0,r.P1)([p],(function(e){return e.filter((function(e){return"folder"===e.itemTypeName}))})),(0,r.P1)([p],(function(e){return e.filter((function(e){return"folder"!==e.itemTypeName}))}))},32195:(e,t,n)=>{n.d(t,{D:()=>s,q:()=>l});var r=n(20573),i=n(47481),o=n(85893),a=function(e){return e.folder.folders},c=function e(t,n,r){t.forEach((function(t){n[t.folderID]&&"0"!==t.folderID&&(t.children=n[t.folderID].map((function(e,n){return{title:r[e].name,key:t.key+"-"+n,folderID:r[e].folderID,icon:function(e){return e.expanded?(0,o.jsx)(i.Hf,{}):(0,o.jsx)(i.RO,{})}}})),e(t.children,n,r))}))},s=(0,r.P1)([a,function(e){return e.folder.folderIDList}],(function(e,t){return function(e,t){var n=[],r={},a=function(n){r[n]=[],t[n].forEach((function(t){r[n].push(e[t])}))};for(var s in t)a(s);return r[0]||(r[0]=[]),r[0].unshift({name:"My Items",folderID:"0"}),r[0].forEach((function(e,t){n.push({title:e.name,key:""+t,folderID:e.folderID,icon:function(e){return e.expanded?(0,o.jsx)(i.Hf,{}):(0,o.jsx)(i.RO,{})}})})),c(n,t,e),n}(e,t)})),l=(0,r.P1)([a,function(e){return e.folder.starredFolderIDList}],(function(e,t){return t.filter((function(t){return void 0!==e[t]}))}))},3721:(e,t,n)=>{var r;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){if(!e)throw"First parameter is required.";t=new a(e,t=t||{type:"video"});var n=this;function r(n){n&&(t.initCallback=function(){n(),n=t.initCallback=null});var r=new s(e,t);(f=new r(e,t)).record(),d("recording"),t.disableLogs}function i(e){if(e=e||function(){},f){if("paused"===n.state)return n.resumeRecording(),void setTimeout((function(){i(e)}),1);"recording"!==n.state&&t.disableLogs,t.disableLogs,"gif"!==t.type?f.stop(r):(f.stop(),r()),d("stopped")}else m();function r(r){if(f){Object.keys(f).forEach((function(e){"function"!=typeof f[e]&&(n[e]=f[e])}));var i=f.blob;if(!i){if(!r)throw"Recording failed.";f.blob=i=r}if(i&&t.disableLogs,e){var o;try{o=h.createObjectURL(i)}catch(e){}"function"==typeof e.call?e.call(n,o):e(o)}t.autoWriteToDisk&&l((function(e){var n={};n[t.type+"Blob"]=e,L.Store(n)}))}else"function"==typeof e.call?e.call(n,""):e("")}}function c(e){postMessage((new FileReaderSync).readAsDataURL(e))}function l(e,n){if(!e)throw"Pass a callback function over getDataURL.";var r=n?n.blob:(f||{}).blob;if(!r)return t.disableLogs,void setTimeout((function(){l(e,n)}),1e3);if("undefined"==typeof Worker||navigator.mozGetUserMedia){var i=new FileReader;i.readAsDataURL(r),i.onload=function(t){e(t.target.result)}}else{var o=function(e){try{var t=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),n=new Worker(t);return h.revokeObjectURL(t),n}catch(e){}}(c);o.onmessage=function(t){e(t.data)},o.postMessage(r)}}function u(e){e=e||0,"paused"!==n.state?"stopped"!==n.state&&(e>=n.recordingDuration?i(n.onRecordingStopped):(e+=1e3,setTimeout((function(){u(e)}),1e3))):setTimeout((function(){u(e)}),1e3)}function d(e){n&&(n.state=e,"function"==typeof n.onStateChanged.call?n.onStateChanged.call(n,e):n.onStateChanged(e))}var f;t.type;function m(){t.disableLogs}var p={startRecording:function(i){return t.disableLogs,i&&(t=new a(e,i)),t.disableLogs,f?(f.clearRecordedData(),f.record(),d("recording"),n.recordingDuration&&u(),n):(r((function(){n.recordingDuration&&u()})),n)},stopRecording:i,pauseRecording:function(){f?"recording"===n.state?(d("paused"),f.pause(),t.disableLogs):t.disableLogs:m()},resumeRecording:function(){f?"paused"===n.state?(d("recording"),f.resume(),t.disableLogs):t.disableLogs:m()},initRecorder:r,setRecordingDuration:function(e,t){if(void 0===e)throw"recordingDuration is required.";if("number"!=typeof e)throw"recordingDuration must be a number.";return n.recordingDuration=e,n.onRecordingStopped=t||function(){},{onRecordingStopped:function(e){n.onRecordingStopped=e}}},clearRecordedData:function(){f?(f.clearRecordedData(),t.disableLogs):m()},getBlob:function(){if(f)return f.blob;m()},getDataURL:l,toURL:function(){if(f)return h.createObjectURL(f.blob);m()},getInternalRecorder:function(){return f},save:function(e){f?S(f.blob,e):m()},getFromDisk:function(e){f?o.getFromDisk(t.type,e):m()},setAdvertisementArray:function(e){t.advertisement=[];for(var n=e.length,r=0;r<n;r++)t.advertisement.push({duration:r,image:e[r]})},blob:null,bufferSize:0,sampleRate:0,buffer:null,reset:function(){"recording"===n.state&&t.disableLogs,f&&"function"==typeof f.clearRecordedData&&f.clearRecordedData(),f=null,d("inactive"),n.blob=null},onStateChanged:function(e){t.disableLogs},state:"inactive",getState:function(){return n.state},destroy:function(){var e=t.disableLogs;t={disableLogs:!0},n.reset(),d("destroyed"),p=n=null,N.AudioContextConstructor&&(N.AudioContextConstructor.close(),N.AudioContextConstructor=null),t.disableLogs=e,t.disableLogs},version:"5.5.9"};if(!this)return n=p,p;for(var v in p)this[v]=p[v];return n=this,p}function a(e,t){return t.recorderType||t.type||(t.audio&&t.video?t.type="video":t.audio&&!t.video&&(t.type="audio")),t.recorderType&&!t.type&&(t.recorderType===k||t.recorderType===P||t.recorderType===Z?t.type="video":t.recorderType===_?t.type="gif":t.recorderType===C?t.type="audio":t.recorderType===A&&(O(e,"audio").length&&O(e,"video").length||!O(e,"audio").length&&O(e,"video").length?t.type="video":O(e,"audio").length&&!O(e,"video").length&&(t.type="audio"))),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(t.mimeType||(t.mimeType="video/webm"),t.type||(t.type=t.mimeType.split("/")[0]),t.bitsPerSecond),t.type||(t.mimeType&&(t.type=t.mimeType.split("/")[0]),t.type||(t.type="audio")),t}function s(e,t){var n;return(b||v||y)&&(n=C),"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&!b&&(n=A),"video"===t.type&&(b||y)&&(n=k,"undefined"!=typeof ReadableStream&&(n=Z)),"gif"===t.type&&(n=_),"canvas"===t.type&&(n=P),D()&&n!==P&&n!==_&&"undefined"!=typeof MediaRecorder&&"requestData"in MediaRecorder.prototype&&(O(e,"video").length||O(e,"audio").length)&&("audio"===t.type?"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm")&&(n=A):"function"==typeof MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("video/webm")&&(n=A)),e instanceof Array&&e.length&&(n=M),t.recorderType&&(n=t.recorderType),!t.disableLogs&&n&&n.name,!n&&j&&(n=A),n}function l(e){this.addStream=function(t){t&&(e=t)},this.mediaType={audio:!0,video:!0},this.startRecording=function(){var t,n=this.mediaType,r=this.mimeType||{audio:null,video:null,gif:null};if("function"!=typeof n.audio&&D()&&!O(e,"audio").length&&(n.audio=!1),"function"!=typeof n.video&&D()&&!O(e,"video").length&&(n.video=!1),"function"!=typeof n.gif&&D()&&!O(e,"video").length&&(n.gif=!1),!n.audio&&!n.video&&!n.gif)throw"MediaStream must have either audio or video tracks.";if(n.audio&&(t=null,"function"==typeof n.audio&&(t=n.audio),this.audioRecorder=new o(e,{type:"audio",bufferSize:this.bufferSize,sampleRate:this.sampleRate,numberOfAudioChannels:this.numberOfAudioChannels||2,disableLogs:this.disableLogs,recorderType:t,mimeType:r.audio,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp}),n.video||this.audioRecorder.startRecording()),n.video){t=null,"function"==typeof n.video&&(t=n.video);var i=e;if(D()&&n.audio&&"function"==typeof n.audio){var a=O(e,"video")[0];g?((i=new w).addTrack(a),t&&t===k&&(t=A)):(i=new w).addTrack(a)}this.videoRecorder=new o(i,{type:"video",video:this.video,canvas:this.canvas,frameInterval:this.frameInterval||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.video,timeSlice:this.timeSlice,onTimeStamp:this.onTimeStamp,workerPath:this.workerPath,webAssemblyPath:this.webAssemblyPath,frameRate:this.frameRate,bitrate:this.bitrate}),n.audio||this.videoRecorder.startRecording()}if(n.audio&&n.video){var c=this,s=!0===D();(n.audio instanceof C&&n.video||!0!==n.audio&&!0!==n.video&&n.audio!==n.video)&&(s=!1),!0===s?(c.audioRecorder=null,c.videoRecorder.startRecording()):c.videoRecorder.initRecorder((function(){c.audioRecorder.initRecorder((function(){c.videoRecorder.startRecording(),c.audioRecorder.startRecording()}))}))}n.gif&&(t=null,"function"==typeof n.gif&&(t=n.gif),this.gifRecorder=new o(e,{type:"gif",frameRate:this.frameRate||200,quality:this.quality||10,disableLogs:this.disableLogs,recorderType:t,mimeType:r.gif}),this.gifRecorder.startRecording())},this.stopRecording=function(e){e=e||function(){},this.audioRecorder&&this.audioRecorder.stopRecording((function(t){e(t,"audio")})),this.videoRecorder&&this.videoRecorder.stopRecording((function(t){e(t,"video")})),this.gifRecorder&&this.gifRecorder.stopRecording((function(t){e(t,"gif")}))},this.pauseRecording=function(){this.audioRecorder&&this.audioRecorder.pauseRecording(),this.videoRecorder&&this.videoRecorder.pauseRecording(),this.gifRecorder&&this.gifRecorder.pauseRecording()},this.resumeRecording=function(){this.audioRecorder&&this.audioRecorder.resumeRecording(),this.videoRecorder&&this.videoRecorder.resumeRecording(),this.gifRecorder&&this.gifRecorder.resumeRecording()},this.getBlob=function(e){var t={};return this.audioRecorder&&(t.audio=this.audioRecorder.getBlob()),this.videoRecorder&&(t.video=this.videoRecorder.getBlob()),this.gifRecorder&&(t.gif=this.gifRecorder.getBlob()),e&&e(t),t},this.destroy=function(){this.audioRecorder&&(this.audioRecorder.destroy(),this.audioRecorder=null),this.videoRecorder&&(this.videoRecorder.destroy(),this.videoRecorder=null),this.gifRecorder&&(this.gifRecorder.destroy(),this.gifRecorder=null)},this.getDataURL=function(e){function t(e,t){if("undefined"!=typeof Worker){var n=function(e){var t,n=h.createObjectURL(new Blob([e.toString(),"this.onmessage =  function (eee) {"+e.name+"(eee.data);}"],{type:"application/javascript"})),r=new Worker(n);if(void 0!==h)t=h;else{if("undefined"==typeof webkitURL)throw"Neither URL nor webkitURL detected.";t=webkitURL}return t.revokeObjectURL(n),r}((function(e){postMessage((new FileReaderSync).readAsDataURL(e))}));n.onmessage=function(e){t(e.data)},n.postMessage(e)}else{var r=new FileReader;r.readAsDataURL(e),r.onload=function(e){t(e.target.result)}}}this.getBlob((function(n){n.audio&&n.video?t(n.audio,(function(r){t(n.video,(function(t){e({audio:r,video:t})}))})):n.audio?t(n.audio,(function(t){e({audio:t})})):n.video&&t(n.video,(function(t){e({video:t})}))}))},this.writeToDisk=function(){o.writeToDisk({audio:this.audioRecorder,video:this.videoRecorder,gif:this.gifRecorder})},this.save=function(e){(e=e||{audio:!0,video:!0,gif:!0}).audio&&this.audioRecorder&&this.audioRecorder.save("string"==typeof e.audio?e.audio:""),e.video&&this.videoRecorder&&this.videoRecorder.save("string"==typeof e.video?e.video:""),e.gif&&this.gifRecorder&&this.gifRecorder.save("string"==typeof e.gif?e.gif:"")}}o.version="5.5.9",e.exports=o,void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r),o.getFromDisk=function(e,t){if(!t)throw"callback is mandatory.";L.Fetch((function(n,r){"all"!==e&&r===e+"Blob"&&t&&t(n),"all"===e&&t&&t(n,r.replace("Blob",""))}))},o.writeToDisk=function(e){(e=e||{}).audio&&e.video&&e.gif?e.audio.getDataURL((function(t){e.video.getDataURL((function(n){e.gif.getDataURL((function(e){L.Store({audioBlob:t,videoBlob:n,gifBlob:e})}))}))})):e.audio&&e.video?e.audio.getDataURL((function(t){e.video.getDataURL((function(e){L.Store({audioBlob:t,videoBlob:e})}))})):e.audio&&e.gif?e.audio.getDataURL((function(t){e.gif.getDataURL((function(e){L.Store({audioBlob:t,gifBlob:e})}))})):e.video&&e.gif?e.video.getDataURL((function(t){e.gif.getDataURL((function(e){L.Store({videoBlob:t,gifBlob:e})}))})):e.audio?e.audio.getDataURL((function(e){L.Store({audioBlob:e})})):e.video?e.video.getDataURL((function(e){L.Store({videoBlob:e})})):e.gif&&e.gif.getDataURL((function(e){L.Store({gifBlob:e})}))},l.getFromDisk=o.getFromDisk,l.writeToDisk=o.writeToDisk,o.MRecordRTC=l;var u;(u=void 0!==n.g?n.g:null)&&"undefined"==typeof window&&void 0!==n.g&&(n.g.navigator={userAgent:"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45",getUserMedia:function(){}},n.g.console||(n.g.console={}),void 0!==n.g.console.log&&void 0!==n.g.console.error||(n.g.console.error=n.g.console.log=n.g.console.log||function(){}),"undefined"==typeof document&&(u.document={documentElement:{appendChild:function(){return""}}},document.createElement=document.captureStream=document.mozCaptureStream=function(){var e={getContext:function(){return e},play:function(){},pause:function(){},drawImage:function(){},toDataURL:function(){return""},style:{}};return e},u.HTMLVideoElement=function(){}),"undefined"==typeof location&&(u.location={protocol:"file:",href:"",hash:""}),"undefined"==typeof screen&&(u.screen={width:0,height:0}),void 0===h&&(u.URL={createObjectURL:function(){return""},revokeObjectURL:function(){return""}}),u.window=n.g);var d=window.requestAnimationFrame;if(void 0===d)if("undefined"!=typeof webkitRequestAnimationFrame)d=webkitRequestAnimationFrame;else if("undefined"!=typeof mozRequestAnimationFrame)d=mozRequestAnimationFrame;else if("undefined"!=typeof msRequestAnimationFrame)d=msRequestAnimationFrame;else if(void 0===d){var f=0;d=function(e,t){var n=(new Date).getTime(),r=Math.max(0,16-(n-f)),i=setTimeout((function(){e(n+r)}),r);return f=n+r,i}}var m=window.cancelAnimationFrame;void 0===m&&("undefined"!=typeof webkitCancelAnimationFrame?m=webkitCancelAnimationFrame:"undefined"!=typeof mozCancelAnimationFrame?m=mozCancelAnimationFrame:"undefined"!=typeof msCancelAnimationFrame?m=msCancelAnimationFrame:void 0===m&&(m=function(e){clearTimeout(e)}));var p=window.AudioContext;void 0===p&&("undefined"!=typeof webkitAudioContext&&(p=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(p=mozAudioContext));var h=window.URL;void 0===h&&"undefined"!=typeof webkitURL&&(h=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var v=!(-1===navigator.userAgent.indexOf("Edge")||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),y=!!window.opera||-1!==navigator.userAgent.indexOf("OPR/"),g=navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&"netscape"in window&&/ rv:/.test(navigator.userAgent),b=!y&&!v&&!!navigator.webkitGetUserMedia||I()||-1!==navigator.userAgent.toLowerCase().indexOf("chrome/"),j=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);j&&!b&&-1!==navigator.userAgent.indexOf("CriOS")&&(j=!1,b=!0);var w=window.MediaStream;function x(e){if(0===e)return"0 Bytes";var t=parseInt(Math.floor(Math.log(e)/Math.log(1e3)),10);return(e/Math.pow(1e3,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][t]}function S(e,t){if(!e)throw"Blob object is required.";if(!e.type)try{e.type="video/webm"}catch(e){}var n=(e.type||"video/webm").split("/")[1];if(t&&-1!==t.indexOf(".")){var r=t.split(".");t=r[0],n=r[1]}var i=(t||Math.round(9999999999*Math.random())+888888888)+"."+n;if(void 0!==navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(e,i);if(void 0!==navigator.msSaveBlob)return navigator.msSaveBlob(e,i);var o=document.createElement("a");o.href=h.createObjectURL(e),o.download=i,o.style="display:none;opacity:0;color:transparent;",(document.body||document.documentElement).appendChild(o),"function"==typeof o.click?o.click():(o.target="_blank",o.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))),h.revokeObjectURL(o.href)}function I(){return"undefined"!=typeof window&&"object"===i(window.process)&&"renderer"===window.process.type||(!("undefined"==typeof process||"object"!==i(process.versions)||!process.versions.electron)||"object"===("undefined"==typeof navigator?"undefined":i(navigator))&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0)}function O(e,t){return e&&e.getTracks?e.getTracks().filter((function(e){return e.kind===(t||"audio")})):[]}function E(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}void 0===w&&"undefined"!=typeof webkitMediaStream&&(w=webkitMediaStream),void 0!==w&&void 0===w.prototype.stop&&(w.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))}),o.invokeSaveAsDialog=S,o.getTracks=O,o.getSeekableBlob=function(e,t){if("undefined"==typeof EBML)throw new Error("Please link: https://www.webrtc-experiment.com/EBML.js");var n=new EBML.Reader,r=new EBML.Decoder,i=EBML.tools,o=new FileReader;o.onload=function(e){r.decode(this.result).forEach((function(e){n.read(e)})),n.stop();var o=i.makeMetadataSeekable(n.metadatas,n.duration,n.cues),a=this.result.slice(n.metadataSize),c=new Blob([o,a],{type:"video/webm"});t(c)},o.readAsArrayBuffer(e)},o.bytesToSize=x,o.isElectron=I;var N={};function D(){if(g||j||v)return!0;navigator.appVersion;var e,t,n=navigator.userAgent,r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);return(b||y)&&(e=n.indexOf("Chrome"),r=n.substring(e+7)),-1!==(t=r.indexOf(";"))&&(r=r.substring(0,t)),-1!==(t=r.indexOf(" "))&&(r=r.substring(0,t)),i=parseInt(""+r,10),Number.isNaN(i)&&(r=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10)),i>=49}function A(e,t){var n=this;if(void 0===e)throw'First argument "MediaStream" is required.';if("undefined"==typeof MediaRecorder)throw"Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.";if("audio"===(t=t||{mimeType:"video/webm"}).type){var r;if(O(e,"video").length&&O(e,"audio").length)navigator.mozGetUserMedia?(r=new w).addTrack(O(e,"audio")[0]):r=new w(O(e,"audio")),e=r;t.mimeType&&-1!==t.mimeType.toString().toLowerCase().indexOf("audio")||(t.mimeType=b?"audio/webm":"audio/ogg"),t.mimeType&&"audio/ogg"!==t.mimeType.toString().toLowerCase()&&navigator.mozGetUserMedia&&(t.mimeType="audio/ogg")}var i,o=[];function a(){n.timestamps.push((new Date).getTime()),"function"==typeof t.onTimeStamp&&t.onTimeStamp(n.timestamps[n.timestamps.length-1],n.timestamps)}function c(e){return i&&i.mimeType?i.mimeType:e.mimeType||"video/webm"}function s(){o=[],i=null,n.timestamps=[]}this.getArrayOfBlobs=function(){return o},this.record=function(){n.blob=null,n.clearRecordedData(),n.timestamps=[],l=[],o=[];var r=t;t.disableLogs,i&&(i=null),b&&!D()&&(r="video/vp8"),"function"==typeof MediaRecorder.isTypeSupported&&r.mimeType&&(MediaRecorder.isTypeSupported(r.mimeType)||(t.disableLogs,r.mimeType="audio"===t.type?"audio/webm":"video/webm"));try{i=new MediaRecorder(e,r),t.mimeType=r.mimeType}catch(t){i=new MediaRecorder(e)}r.mimeType&&!MediaRecorder.isTypeSupported&&"canRecordMimeType"in i&&!1===i.canRecordMimeType(r.mimeType)&&t.disableLogs,i.ondataavailable=function(e){if(e.data&&l.push("ondataavailable: "+x(e.data.size)),"number"!=typeof t.timeSlice)!e.data||!e.data.size||e.data.size<100||n.blob?n.recordingCallback&&(n.recordingCallback(new Blob([],{type:c(r)})),n.recordingCallback=null):(n.blob=t.getNativeBlob?e.data:new Blob([e.data],{type:c(r)}),n.recordingCallback&&(n.recordingCallback(n.blob),n.recordingCallback=null));else if(e.data&&e.data.size&&e.data.size>0&&(o.push(e.data),a(),"function"==typeof t.ondataavailable)){var i=t.getNativeBlob?e.data:new Blob([e.data],{type:c(r)});t.ondataavailable(i)}},i.onstart=function(){l.push("started")},i.onpause=function(){l.push("paused")},i.onresume=function(){l.push("resumed")},i.onstop=function(){l.push("stopped")},i.onerror=function(e){e&&(e.name||(e.name="UnknownError"),l.push("error: "+e),t.disableLogs||-1!==e.name.toString().toLowerCase().indexOf("invalidstate")||-1!==e.name.toString().toLowerCase().indexOf("notsupported")||-1!==e.name.toString().toLowerCase().indexOf("security")||"OutOfMemory"===e.name||"IllegalStreamModification"===e.name||"OtherRecordingError"===e.name||e.name,function(e){if(!n.manuallyStopped&&i&&"inactive"===i.state)return delete t.timeslice,void i.start(6e5);setTimeout(void 0,1e3)}(),"inactive"!==i.state&&"stopped"!==i.state&&i.stop())},"number"==typeof t.timeSlice?(a(),i.start(t.timeSlice)):i.start(36e5),t.initCallback&&t.initCallback()},this.timestamps=[],this.stop=function(e){e=e||function(){},n.manuallyStopped=!0,i&&(this.recordingCallback=e,"recording"===i.state&&i.stop(),"number"==typeof t.timeSlice&&setTimeout((function(){n.blob=new Blob(o,{type:c(t)}),n.recordingCallback(n.blob)}),100))},this.pause=function(){i&&"recording"===i.state&&i.pause()},this.resume=function(){i&&"paused"===i.state&&i.resume()},this.clearRecordedData=function(){i&&"recording"===i.state&&n.stop(s),s()},this.getInternalRecorder=function(){return i},this.blob=null,this.getState=function(){return i&&i.state||"inactive"};var l=[];this.getAllStates=function(){return l},void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!1);n=this;!function r(){if(i&&!1!==t.checkForInactiveTracks)return!1===function(){if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}()?(t.disableLogs,void n.stop()):void setTimeout(r,1e3)}(),this.name="MediaStreamRecorder",this.toString=function(){return this.name}}function C(e,t){if(!O(e,"audio").length)throw"Your stream has no audio tracks.";var n,r=this,i=[],o=[],a=!1,c=0,s=2,l=(t=t||{}).desiredSampRate;function u(){if(!1===t.checkForInactiveTracks)return!0;if("active"in e){if(!e.active)return!1}else if("ended"in e&&e.ended)return!1;return!0}function d(e,t){function n(e,t){var n,r=e.numberOfAudioChannels,i=e.leftBuffers.slice(0),o=e.rightBuffers.slice(0),a=e.sampleRate,c=e.internalInterleavedLength,s=e.desiredSampRate;function l(e,t,n){var r=Math.round(e.length*(t/n)),i=[],o=Number((e.length-1)/(r-1));i[0]=e[0];for(var a=1;a<r-1;a++){var c=a*o,s=Number(Math.floor(c)).toFixed(),l=Number(Math.ceil(c)).toFixed(),d=c-s;i[a]=u(e[s],e[l],d)}return i[r-1]=e[e.length-1],i}function u(e,t,n){return e+(t-e)*n}function d(e,t){for(var n=new Float64Array(t),r=0,i=e.length,o=0;o<i;o++){var a=e[o];n.set(a,r),r+=a.length}return n}function f(e,t,n){for(var r=n.length,i=0;i<r;i++)e.setUint8(t+i,n.charCodeAt(i))}2===r&&(i=d(i,c),o=d(o,c),s&&(i=l(i,s,a),o=l(o,s,a))),1===r&&(i=d(i,c),s&&(i=l(i,s,a))),s&&(a=s),2===r&&(n=function(e,t){for(var n=e.length+t.length,r=new Float64Array(n),i=0,o=0;o<n;)r[o++]=e[i],r[o++]=t[i],i++;return r}(i,o)),1===r&&(n=i);var m=n.length,p=new ArrayBuffer(44+2*m),h=new DataView(p);f(h,0,"RIFF"),h.setUint32(4,36+2*m,!0),f(h,8,"WAVE"),f(h,12,"fmt "),h.setUint32(16,16,!0),h.setUint16(20,1,!0),h.setUint16(22,r,!0),h.setUint32(24,a,!0),h.setUint32(28,2*a,!0),h.setUint16(32,2*r,!0),h.setUint16(34,16,!0),f(h,36,"data"),h.setUint32(40,2*m,!0);for(var v=m,y=44,g=0;g<v;g++)h.setInt16(y,32767*n[g],!0),y+=2;if(t)return t({buffer:p,view:h});postMessage({buffer:p,view:h})}if(e.noWorker)n(e,(function(e){t(e.buffer,e.view)}));else{var r,i,o,a=(r=n,i=h.createObjectURL(new Blob([r.toString(),";this.onmessage =  function (eee) {"+r.name+"(eee.data);}"],{type:"application/javascript"})),(o=new Worker(i)).workerURL=i,o);a.onmessage=function(e){t(e.data.buffer,e.data.view),h.revokeObjectURL(a.workerURL),a.terminate()},a.postMessage(e)}}if(!0===t.leftChannel&&(s=1),1===t.numberOfAudioChannels&&(s=1),(!s||s<1)&&(s=2),t.disableLogs,void 0===t.checkForInactiveTracks&&(t.checkForInactiveTracks=!0),this.record=function(){if(!1===u())throw"Please make sure MediaStream is active.";b(),w=g=!1,a=!0,void 0!==t.timeSlice&&S()},this.stop=function(e){e=e||function(){},a=!1,d({desiredSampRate:l,sampleRate:y,numberOfAudioChannels:s,internalInterleavedLength:c,leftBuffers:i,rightBuffers:1===s?[]:o,noWorker:t.noWorker},(function(t,n){r.blob=new Blob([n],{type:"audio/wav"}),r.buffer=new ArrayBuffer(n.buffer.byteLength),r.view=n,r.sampleRate=l||y,r.bufferSize=v,r.length=c,w=!1,e&&e(r.blob)}))},void 0===f)var f={AudioContextConstructor:null,AudioContext:window.AudioContext||window.webkitAudioContext};f.AudioContextConstructor||(f.AudioContextConstructor=new f.AudioContext);var m=f.AudioContextConstructor,p=m.createMediaStreamSource(e),v=void 0===t.bufferSize?4096:t.bufferSize;if(-1===[0,256,512,1024,2048,4096,8192,16384].indexOf(v)&&t.disableLogs,m.createJavaScriptNode)n=m.createJavaScriptNode(v,s,s);else{if(!m.createScriptProcessor)throw"WebAudio API has no support on this browser.";n=m.createScriptProcessor(v,s,s)}p.connect(n),t.bufferSize||(v=n.bufferSize);var y=void 0!==t.sampleRate?t.sampleRate:m.sampleRate||44100;(y<22050||y>96e3)&&t.disableLogs,t.disableLogs||t.desiredSampRate;var g=!1;function b(){i=[],o=[],c=0,w=!1,a=!1,g=!1,m=null,r.leftchannel=i,r.rightchannel=o,r.numberOfAudioChannels=s,r.desiredSampRate=l,r.sampleRate=y,r.recordingLength=c,x={left:[],right:[],recordingLength:0}}function j(){n&&(n.onaudioprocess=null,n.disconnect(),n=null),p&&(p.disconnect(),p=null),b()}this.pause=function(){g=!0},this.resume=function(){if(!1===u())throw"Please make sure MediaStream is active.";if(!a)return t.disableLogs,void this.record();g=!1},this.clearRecordedData=function(){t.checkForInactiveTracks=!1,a&&this.stop(j),j()},this.name="StereoAudioRecorder",this.toString=function(){return this.name};var w=!1;n.onaudioprocess=function(e){if(!g)if(!1===u()&&(t.disableLogs,n.disconnect(),a=!1),a){w||(w=!0,t.onAudioProcessStarted&&t.onAudioProcessStarted(),t.initCallback&&t.initCallback());var l=e.inputBuffer.getChannelData(0),d=new Float32Array(l);if(i.push(d),2===s){var f=e.inputBuffer.getChannelData(1),m=new Float32Array(f);o.push(m)}c+=v,r.recordingLength=c,void 0!==t.timeSlice&&(x.recordingLength+=v,x.left.push(d),2===s&&x.right.push(m))}else p&&(p.disconnect(),p=null)},m.createMediaStreamDestination?n.connect(m.createMediaStreamDestination()):n.connect(m.destination),this.leftchannel=i,this.rightchannel=o,this.numberOfAudioChannels=s,this.desiredSampRate=l,this.sampleRate=y,r.recordingLength=c;var x={left:[],right:[],recordingLength:0};function S(){a&&"function"==typeof t.ondataavailable&&void 0!==t.timeSlice&&(x.left.length?(d({desiredSampRate:l,sampleRate:y,numberOfAudioChannels:s,internalInterleavedLength:x.recordingLength,leftBuffers:x.left,rightBuffers:1===s?[]:x.right},(function(e,n){var r=new Blob([n],{type:"audio/wav"});t.ondataavailable(r),setTimeout(S,t.timeSlice)})),x={left:[],right:[],recordingLength:0}):setTimeout(S,t.timeSlice))}}function P(e,t){if("undefined"==typeof html2canvas)throw"Please link: https://www.webrtc-experiment.com/screenshot.js";(t=t||{}).frameInterval||(t.frameInterval=10);var n=!1;["captureStream","mozCaptureStream","webkitCaptureStream"].forEach((function(e){e in document.createElement("canvas")&&(n=!0)}));var r,i,o,a=!(!window.webkitRTCPeerConnection&&!window.webkitGetUserMedia||!window.chrome),c=50,s=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);if(a&&s&&s[2]&&(c=parseInt(s[2],10)),a&&c<52&&(n=!1),t.useWhammyRecorder&&(n=!1),n)if(t.disableLogs,e instanceof HTMLCanvasElement)r=e;else{if(!(e instanceof CanvasRenderingContext2D))throw"Please pass either HTMLCanvasElement or CanvasRenderingContext2D.";r=e.canvas}else navigator.mozGetUserMedia&&t.disableLogs;this.record=function(){if(o=!0,n&&!t.useWhammyRecorder){var e;"captureStream"in r?e=r.captureStream(25):"mozCaptureStream"in r?e=r.mozCaptureStream(25):"webkitCaptureStream"in r&&(e=r.webkitCaptureStream(25));try{var a=new w;a.addTrack(O(e,"video")[0]),e=a}catch(e){}if(!e)throw"captureStream API are NOT available.";(i=new A(e,{mimeType:t.mimeType||"video/webm"})).record()}else m.frames=[],f=(new Date).getTime(),d();t.initCallback&&t.initCallback()},this.getWebPImages=function(n){if("canvas"===e.nodeName.toLowerCase()){var r=m.frames.length;m.frames.forEach((function(e,n){var i=r-n;t.disableLogs,t.onEncodingCallback&&t.onEncodingCallback(i,r);var o=e.image.toDataURL("image/webp",1);m.frames[n].image=o})),t.disableLogs,n()}else n()},this.stop=function(e){o=!1;var r=this;n&&i?i.stop(e):this.getWebPImages((function(){m.compile((function(n){t.disableLogs,r.blob=n,r.blob.forEach&&(r.blob=new Blob([],{type:"video/webm"})),e&&e(r.blob),m.frames=[]}))}))};var l=!1;function u(){m.frames=[],o=!1,l=!1}function d(){if(l)return f=(new Date).getTime(),setTimeout(d,500);if("canvas"===e.nodeName.toLowerCase()){var n=(new Date).getTime()-f;return f=(new Date).getTime(),m.frames.push({image:(r=document.createElement("canvas"),i=r.getContext("2d"),r.width=e.width,r.height=e.height,i.drawImage(e,0,0),r),duration:n}),void(o&&setTimeout(d,t.frameInterval))}var r,i;html2canvas(e,{grabMouse:void 0===t.showMousePointer||t.showMousePointer,onrendered:function(e){var n=(new Date).getTime()-f;if(!n)return setTimeout(d,t.frameInterval);f=(new Date).getTime(),m.frames.push({image:e.toDataURL("image/webp",1),duration:n}),o&&setTimeout(d,t.frameInterval)}})}this.pause=function(){l=!0,i instanceof A&&i.pause()},this.resume=function(){l=!1,i instanceof A?i.resume():o||this.record()},this.clearRecordedData=function(){o&&this.stop(u),u()},this.name="CanvasRecorder",this.toString=function(){return this.name};var f=(new Date).getTime(),m=new T.Video(100)}function k(e,t){function n(e){e=void 0!==e?e:10;var t=(new Date).getTime()-s;return t?o?(s=(new Date).getTime(),setTimeout(n,100)):(s=(new Date).getTime(),c.paused&&c.play(),d.drawImage(c,0,0,u.width,u.height),l.frames.push({duration:t,image:u.toDataURL("image/webp")}),void(i||setTimeout(n,e,e))):setTimeout(n,e,e)}function r(e,t,n,r,i){var o=document.createElement("canvas");o.width=u.width,o.height=u.height;var a,c,s,l=o.getContext("2d"),d=[],f=-1===t,m=t&&t>0&&t<=e.length?t:e.length,p=0,h=0,v=0,y=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),g=n&&n>=0&&n<=1?n:0,b=r&&r>=0&&r<=1?r:0,j=!1;c=-1,s=(a={length:m,functionToLoop:function(t,n){var r,i,o,a=function(){!j&&o-r<=o*b||(f&&(j=!0),d.push(e[n])),t()};if(j)a();else{var c=new Image;c.onload=function(){l.drawImage(c,0,0,u.width,u.height);var e=l.getImageData(0,0,u.width,u.height);r=0,i=e.data.length,o=e.data.length/4;for(var t=0;t<i;t+=4){var n={r:e.data[t],g:e.data[t+1],b:e.data[t+2]};Math.sqrt(Math.pow(n.r-p,2)+Math.pow(n.g-h,2)+Math.pow(n.b-v,2))<=y*g&&r++}a()},c.src=e[n].image}},callback:function(){(d=d.concat(e.slice(m))).length<=0&&d.push(e[e.length-1]),i(d)}}).length,function e(){++c!==s?setTimeout((function(){a.functionToLoop(e,c)}),1):a.callback()}()}(t=t||{}).frameInterval||(t.frameInterval=10),t.disableLogs,this.record=function(){t.width||(t.width=320),t.height||(t.height=240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),u.width=t.canvas.width||320,u.height=t.canvas.height||240,d=u.getContext("2d"),t.video&&t.video instanceof HTMLVideoElement?(c=t.video.cloneNode(),t.initCallback&&t.initCallback()):(c=document.createElement("video"),E(e,c),c.onloadedmetadata=function(){t.initCallback&&t.initCallback()},c.width=t.video.width,c.height=t.video.height),c.muted=!0,c.play(),s=(new Date).getTime(),l=new T.Video,t.disableLogs,n(t.frameInterval)};var i=!1;this.stop=function(e){e=e||function(){},i=!0;var n=this;setTimeout((function(){r(l.frames,-1,null,null,(function(r){l.frames=r,t.advertisement&&t.advertisement.length&&(l.frames=t.advertisement.concat(l.frames)),l.compile((function(t){n.blob=t,n.blob.forEach&&(n.blob=new Blob([],{type:"video/webm"})),e&&e(n.blob)}))}))}),10)};var o=!1;function a(){l.frames=[],i=!0,o=!1}this.pause=function(){o=!0},this.resume=function(){o=!1,i&&this.record()},this.clearRecordedData=function(){i||this.stop(a),a()},this.name="WhammyRecorder",this.toString=function(){return this.name};var c,s,l,u=document.createElement("canvas"),d=u.getContext("2d")}void 0!==p?N.AudioContext=p:"undefined"!=typeof webkitAudioContext&&(N.AudioContext=webkitAudioContext),o.Storage=N,o.MediaStreamRecorder=A,o.StereoAudioRecorder=C,o.CanvasRecorder=P,o.WhammyRecorder=k;var T=function(){function e(e){this.frames=[],this.duration=e||1,this.quality=.8}function t(e){function t(e,t,n){return[{data:e,id:231}].concat(n.map((function(e){var n=function(e){var t=0;e.keyframe&&(t|=128);e.invisible&&(t|=8);e.lacing&&(t|=e.lacing<<1);e.discardable&&(t|=1);if(e.trackNum>127)throw"TrackNumber > 127 not supported";return[128|e.trackNum,e.timecode>>8,255&e.timecode,t].map((function(e){return String.fromCharCode(e)})).join("")+e.frame}({discardable:0,frame:e.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(t)});return t+=e.duration,{data:n,id:163}})))}function n(e){for(var t=[];e>0;)t.push(255&e),e>>=8;return new Uint8Array(t.reverse())}function r(e){var t=[];e=(e.length%8?new Array(9-e.length%8).join("0"):"")+e;for(var n=0;n<e.length;n+=8)t.push(parseInt(e.substr(n,8),2));return new Uint8Array(t)}function o(e){for(var t=[],a=0;a<e.length;a++){var c=e[a].data;"object"===i(c)&&(c=o(c)),"number"==typeof c&&(c=r(c.toString(2))),"string"==typeof c&&(c=new Uint8Array(c.split("").map((function(e){return e.charCodeAt(0)}))));var s=c.size||c.byteLength||c.length,l=Math.ceil(Math.ceil(Math.log(s)/Math.log(2))/8),u=s.toString(2),d=new Array(7*l+7+1-u.length).join("0")+u,f=new Array(l).join("0")+"1"+d;t.push(n(e[a].id)),t.push(r(f)),t.push(c)}return new Blob(t,{type:"video/webm"})}function a(e,t){return parseInt(e.substr(t+4,4).split("").map((function(e){var t=e.charCodeAt(0).toString(2);return new Array(8-t.length+1).join("0")+t})).join(""),2)}function s(e){for(var t=0,n={};t<e.length;){var r=e.substr(t,4),i=a(e,t),o=e.substr(t+4+4,i);t+=8+i,n[r]=n[r]||[],"RIFF"===r||"LIST"===r?n[r].push(s(o)):n[r].push(o)}return n}var l=new function(e){var n=function(e){if(!e[0])return void postMessage({error:"Something went wrong. Maybe WebP format is not supported in the current browser."});for(var t=e[0].width,n=e[0].height,r=e[0].duration,i=1;i<e.length;i++)r+=e[i].duration;return{duration:r,width:t,height:n}}(e);if(!n)return[];for(var r,i=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:"webm",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:"whammy",id:19840},{data:"whammy",id:22337},{data:(r=n.duration,[].slice.call(new Uint8Array(new Float64Array([r]).buffer),0).map((function(e){return String.fromCharCode(e)})).reverse().join("")),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:"und",id:2274716},{data:"V_VP8",id:134},{data:"VP8",id:2459272},{data:1,id:131},{id:224,data:[{data:n.width,id:176},{data:n.height,id:186}]}]}]}]}],a=0,c=0;a<e.length;){var s=[],l=0;do{s.push(e[a]),l+=e[a].duration,a++}while(a<e.length&&l<3e4);var u={id:524531317,data:t(c,0,s)};i[1].data.push(u),c+=l}return o(i)}(e.map((function(e){var t=function(e){for(var t=e.RIFF[0].WEBP[0],n=t.indexOf("*"),r=0,i=[];r<4;r++)i[r]=t.charCodeAt(n+3+r);return{width:16383&(c[1]<<8|c[0]),height:16383&(c[3]<<8|c[2]),data:t,riff:e}}(s(atob(e.image.slice(23))));return t.duration=e.duration,t})));postMessage(l)}return e.prototype.add=function(e,t){if("canvas"in e&&(e=e.canvas),"toDataURL"in e&&(e=e.toDataURL("image/webp",this.quality)),!/^data:image\/webp;base64,/gi.test(e))throw"Input must be formatted properly as a base64 encoded DataURI of type image/webp";this.frames.push({image:e,duration:t||this.duration})},e.prototype.compile=function(e){var n,r,i,o=(n=t,r=h.createObjectURL(new Blob([n.toString(),"this.onmessage =  function (eee) {"+n.name+"(eee.data);}"],{type:"application/javascript"})),i=new Worker(r),h.revokeObjectURL(r),i);o.onmessage=function(t){t.data.error||e(t.data)},o.postMessage(this.frames)},{Video:e}}();o.Whammy=T;var L={init:function(){var e=this;if("undefined"!=typeof indexedDB&&void 0!==indexedDB.open){var t,n=this.dbName||location.href.replace(/\/|:|#|%|\.|\[|\]/g,""),r=indexedDB.open(n,1);r.onerror=e.onError,r.onsuccess=function(){((t=r.result).onerror=e.onError,t.setVersion)?1!==t.version?t.setVersion(1).onsuccess=function(){i(t),o()}:o():o()},r.onupgradeneeded=function(e){i(e.target.result)}}function i(t){t.createObjectStore(e.dataStoreName)}function o(){var n=t.transaction([e.dataStoreName],"readwrite");function r(t){n.objectStore(e.dataStoreName).get(t).onsuccess=function(n){e.callback&&e.callback(n.target.result,t)}}e.videoBlob&&n.objectStore(e.dataStoreName).put(e.videoBlob,"videoBlob"),e.gifBlob&&n.objectStore(e.dataStoreName).put(e.gifBlob,"gifBlob"),e.audioBlob&&n.objectStore(e.dataStoreName).put(e.audioBlob,"audioBlob"),r("audioBlob"),r("videoBlob"),r("gifBlob")}},Fetch:function(e){return this.callback=e,this.init(),this},Store:function(e){return this.audioBlob=e.audioBlob,this.videoBlob=e.videoBlob,this.gifBlob=e.gifBlob,this.init(),this},onError:function(e){},dataStoreName:"recordRTC",dbName:null};function _(e,t){if("undefined"==typeof GIFEncoder){var n=document.createElement("script");n.src="https://www.webrtc-experiment.com/gif-recorder.js",(document.body||document.documentElement).appendChild(n)}t=t||{};var r=e instanceof CanvasRenderingContext2D||e instanceof HTMLCanvasElement;this.record=function(){"undefined"!=typeof GIFEncoder&&s?(r||(t.width||(t.width=l.offsetWidth||320),t.height||(t.height=l.offsetHeight||240),t.video||(t.video={width:t.width,height:t.height}),t.canvas||(t.canvas={width:t.width,height:t.height}),a.width=t.canvas.width||320,a.height=t.canvas.height||240,l.width=t.video.width||320,l.height=t.video.height||240),(f=new GIFEncoder).setRepeat(0),f.setDelay(t.frameRate||200),f.setQuality(t.quality||10),f.start(),"function"==typeof t.onGifRecordingStarted&&t.onGifRecordingStarted(),Date.now(),p=d((function e(n){if(!0!==h.clearedRecordedData){if(o)return setTimeout((function(){e(n)}),100);p=d(e),void 0===i(u)&&(u=n),n-u<90||(!r&&l.paused&&l.play(),r||c.drawImage(l,0,0,a.width,a.height),t.onGifPreview&&t.onGifPreview(a.toDataURL("image/png")),f.addFrame(c),u=n)}})),t.initCallback&&t.initCallback()):setTimeout(h.record,1e3)},this.stop=function(e){e=e||function(){},p&&m(p),Date.now(),this.blob=new Blob([new Uint8Array(f.stream().bin)],{type:"image/gif"}),e(this.blob),f.stream().bin=[]};var o=!1;this.pause=function(){o=!0},this.resume=function(){o=!1},this.clearRecordedData=function(){h.clearedRecordedData=!0,f&&(f.stream().bin=[])},this.name="GifRecorder",this.toString=function(){return this.name};var a=document.createElement("canvas"),c=a.getContext("2d");r&&(e instanceof CanvasRenderingContext2D?a=(c=e).canvas:e instanceof HTMLCanvasElement&&(c=e.getContext("2d"),a=e));var s=!0;if(!r){var l=document.createElement("video");l.muted=!0,l.autoplay=!0,s=!1,l.onloadedmetadata=function(){s=!0},E(e,l),l.play()}var u,f,p=null,h=this}function R(e,t){void 0!==n.g&&n.g,t=t||"multi-streams-mixer";var r=[],i=!1,o=document.createElement("canvas"),a=o.getContext("2d");o.style.opacity=0,o.style.position="absolute",o.style.zIndex=-1,o.style.top="-1000em",o.style.left="-1000em",o.className=t,(document.body||document.documentElement).appendChild(o),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var c=this,s=window.AudioContext;void 0===s&&("undefined"!=typeof webkitAudioContext&&(s=webkitAudioContext),"undefined"!=typeof mozAudioContext&&(s=mozAudioContext));var l=window.URL;void 0===l&&"undefined"!=typeof webkitURL&&(l=webkitURL),"undefined"!=typeof navigator&&void 0===navigator.getUserMedia&&(void 0!==navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),void 0!==navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var u=window.MediaStream;void 0===u&&"undefined"!=typeof webkitMediaStream&&(u=webkitMediaStream),void 0!==u&&void 0===u.prototype.stop&&(u.prototype.stop=function(){this.getTracks().forEach((function(e){e.stop()}))});var d={};function f(){if(!i){var e=r.length,t=!1,n=[];if(r.forEach((function(e){e.stream||(e.stream={}),e.stream.fullcanvas?t=e:n.push(e)})),t)o.width=t.stream.width,o.height=t.stream.height;else if(n.length){o.width=e>1?2*n[0].width:n[0].width;var a=1;3!==e&&4!==e||(a=2),5!==e&&6!==e||(a=3),7!==e&&8!==e||(a=4),9!==e&&10!==e||(a=5),o.height=n[0].height*a}else o.width=c.width||360,o.height=c.height||240;t&&t instanceof HTMLVideoElement&&m(t),n.forEach((function(e,t){m(e,t)})),setTimeout(f,c.frameInterval)}}function m(e,t){if(!i){var n=0,r=0,o=e.width,c=e.height;1===t&&(n=e.width),2===t&&(r=e.height),3===t&&(n=e.width,r=e.height),4===t&&(r=2*e.height),5===t&&(n=e.width,r=2*e.height),6===t&&(r=3*e.height),7===t&&(n=e.width,r=3*e.height),void 0!==e.stream.left&&(n=e.stream.left),void 0!==e.stream.top&&(r=e.stream.top),void 0!==e.stream.width&&(o=e.stream.width),void 0!==e.stream.height&&(c=e.stream.height),a.drawImage(e,n,r,o,c),"function"==typeof e.stream.onRender&&e.stream.onRender(a,n,r,o,c,t)}}function p(e){var n=document.createElement("video");return function(e,t){"srcObject"in t?t.srcObject=e:"mozSrcObject"in t?t.mozSrcObject=e:t.srcObject=e}(e,n),n.className=t,n.muted=!0,n.volume=0,n.width=e.width||c.width||360,n.height=e.height||c.height||240,n.play(),n}function h(t){r=[],(t=t||e).forEach((function(e){if(e.getTracks().filter((function(e){return"video"===e.kind})).length){var t=p(e);t.stream=e,r.push(t)}}))}void 0!==s?d.AudioContext=s:"undefined"!=typeof webkitAudioContext&&(d.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){f()},this.appendStreams=function(t){if(!t)throw"First parameter is required.";t instanceof Array||(t=[t]),t.forEach((function(t){var n=new u;if(t.getTracks().filter((function(e){return"video"===e.kind})).length){var i=p(t);i.stream=t,r.push(i),n.addTrack(t.getTracks().filter((function(e){return"video"===e.kind}))[0])}if(t.getTracks().filter((function(e){return"audio"===e.kind})).length){var o=c.audioContext.createMediaStreamSource(t);c.audioDestination=c.audioContext.createMediaStreamDestination(),o.connect(c.audioDestination),n.addTrack(c.audioDestination.stream.getTracks().filter((function(e){return"audio"===e.kind}))[0])}e.push(n)}))},this.releaseStreams=function(){r=[],i=!0,c.gainNode&&(c.gainNode.disconnect(),c.gainNode=null),c.audioSources.length&&(c.audioSources.forEach((function(e){e.disconnect()})),c.audioSources=[]),c.audioDestination&&(c.audioDestination.disconnect(),c.audioDestination=null),c.audioContext&&c.audioContext.close(),c.audioContext=null,a.clearRect(0,0,o.width,o.height),o.stream&&(o.stream.stop(),o.stream=null)},this.resetVideoStreams=function(e){!e||e instanceof Array||(e=[e]),h(e)},this.name="MultiStreamsMixer",this.toString=function(){return this.name},this.getMixedStream=function(){i=!1;var t=function(){var e;h(),"captureStream"in o?e=o.captureStream():"mozCaptureStream"in o?e=o.mozCaptureStream():c.disableLogs;var t=new u;return e.getTracks().filter((function(e){return"video"===e.kind})).forEach((function(e){t.addTrack(e)})),o.stream=t,t}(),n=function(){d.AudioContextConstructor||(d.AudioContextConstructor=new d.AudioContext);c.audioContext=d.AudioContextConstructor,c.audioSources=[],!0===c.useGainNode&&(c.gainNode=c.audioContext.createGain(),c.gainNode.connect(c.audioContext.destination),c.gainNode.gain.value=0);var t=0;if(e.forEach((function(e){if(e.getTracks().filter((function(e){return"audio"===e.kind})).length){t++;var n=c.audioContext.createMediaStreamSource(e);!0===c.useGainNode&&n.connect(c.gainNode),c.audioSources.push(n)}})),!t)return;return c.audioDestination=c.audioContext.createMediaStreamDestination(),c.audioSources.forEach((function(e){e.connect(c.audioDestination)})),c.audioDestination.stream}();return n&&n.getTracks().filter((function(e){return"audio"===e.kind})).forEach((function(e){t.addTrack(e)})),e.forEach((function(e){e.fullcanvas&&!0})),t}}function M(e,t){e=e||[];var n,r,i=this;(t=t||{elementClass:"multi-streams-mixer",mimeType:"video/webm",video:{width:360,height:240}}).frameInterval||(t.frameInterval=10),t.video||(t.video={}),t.video.width||(t.video.width=360),t.video.height||(t.video.height=240),this.record=function(){var i;n=new R(e,t.elementClass||"multi-streams-mixer"),(i=[],e.forEach((function(e){O(e,"video").forEach((function(e){i.push(e)}))})),i).length&&(n.frameInterval=t.frameInterval||10,n.width=t.video.width||360,n.height=t.video.height||240,n.startDrawingFrames()),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()),(r=new A(n.getMixedStream(),t)).record()},this.stop=function(e){r&&r.stop((function(t){i.blob=t,e(t),i.clearRecordedData()}))},this.pause=function(){r&&r.pause()},this.resume=function(){r&&r.resume()},this.clearRecordedData=function(){r&&(r.clearRecordedData(),r=null),n&&(n.releaseStreams(),n=null)},this.addStreams=function(i){if(!i)throw"First parameter is required.";i instanceof Array||(i=[i]),e.concat(i),r&&n&&(n.appendStreams(i),t.previewStream&&"function"==typeof t.previewStream&&t.previewStream(n.getMixedStream()))},this.resetVideoStreams=function(e){n&&(!e||e instanceof Array||(e=[e]),n.resetVideoStreams(e))},this.getMixer=function(){return n},this.name="MultiStreamRecorder",this.toString=function(){return this.name}}function Z(e,t){function n(){return new ReadableStream({start:function(n){var r=document.createElement("canvas"),i=document.createElement("video");i.srcObject=e,i.onplaying=function(){r.width=t.width,r.height=t.height;var e=r.getContext("2d"),o=1e3/t.frameRate;setTimeout((function r(){e.drawImage(i,0,0),n.enqueue(e.getImageData(0,0,t.width,t.height)),setTimeout(r,o)}),o)},i.play()}})}var r,i;function o(e,c){if(t.workerPath||c){if(!t.workerPath&&c instanceof ArrayBuffer){var s=new Blob([c],{type:"text/javascript"});t.workerPath=h.createObjectURL(s)}t.workerPath,(r=new Worker(t.workerPath)).postMessage(t.webAssemblyPath||"https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm"),r.addEventListener("message",(function(e){"READY"===e.data?(r.postMessage({width:t.width,height:t.height,bitrate:t.bitrate||1200,timebaseDen:t.frameRate||30,realtime:!0}),n().pipeTo(new WritableStream({write:function(e){r&&r.postMessage(e.data.buffer,[e.data.buffer])}}))):e.data&&(i||a.push(e.data))}))}else fetch("https://unpkg.com/webm-wasm@latest/dist/webm-worker.js").then((function(t){t.arrayBuffer().then((function(t){o(e,t)}))}))}(t=t||{}).width=t.width||640,t.height=t.height||480,t.frameRate=t.frameRate||30,t.bitrate=t.bitrate||1200,this.record=function(){a=[],i=!1,this.blob=null,o(e),"function"==typeof t.initCallback&&t.initCallback()},this.pause=function(){i=!0},this.resume=function(){i=!1};var a=[];this.stop=function(e){r&&(r.postMessage(null),r.terminate(),r=null),this.blob=new Blob(a,{type:"video/webm"}),e(this.blob)},this.name="WebAssemblyRecorder",this.toString=function(){return this.name},this.clearRecordedData=function(){a=[],i=!1,this.blob=null},this.blob=null}o.DiskStorage=L,o.GifRecorder=_,o.MultiStreamRecorder=M,o.RecordRTCPromisesHandler=function(e,t){if(!this)throw'Use "new RecordRTCPromisesHandler()"';if(void 0===e)throw'First argument "MediaStream" is required.';var n=this;n.recordRTC=new o(e,t),this.startRecording=function(){return new Promise((function(e,t){try{n.recordRTC.startRecording(),e()}catch(e){t(e)}}))},this.stopRecording=function(){return new Promise((function(e,t){try{n.recordRTC.stopRecording((function(r){n.blob=n.recordRTC.getBlob(),n.blob&&n.blob.size?e(r):t("Empty blob.",n.blob)}))}catch(e){t(e)}}))},this.pauseRecording=function(){return new Promise((function(e,t){try{n.recordRTC.pauseRecording(),e()}catch(e){t(e)}}))},this.resumeRecording=function(){return new Promise((function(e,t){try{n.recordRTC.resumeRecording(),e()}catch(e){t(e)}}))},this.getDataURL=function(e){return new Promise((function(e,t){try{n.recordRTC.getDataURL((function(t){e(t)}))}catch(e){t(e)}}))},this.getBlob=function(){return new Promise((function(e,t){try{e(n.recordRTC.getBlob())}catch(e){t(e)}}))},this.getInternalRecorder=function(){return new Promise((function(e,t){try{e(n.recordRTC.getInternalRecorder())}catch(e){t(e)}}))},this.reset=function(){return new Promise((function(e,t){try{e(n.recordRTC.reset())}catch(e){t(e)}}))},this.destroy=function(){return new Promise((function(e,t){try{e(n.recordRTC.destroy())}catch(e){t(e)}}))},this.getState=function(){return new Promise((function(e,t){try{e(n.recordRTC.getState())}catch(e){t(e)}}))},this.blob=null,this.version="5.5.9"},o.WebAssemblyRecorder=Z},62344:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(4976),i={ws:"wss",domain:"www.awesomescreenshot.com",cookie:"awesomescreenshot.com"};function o(e){this.active=!0,this.URL=i.ws+"://"+i.domain+"/websocket/video/open",this.socket=null,this.status="unconnected",this.sentQueue=[],this.willSendQueue=[],this.willSendQueueLength=0,this.currentSendId=1,this.currentSentRespId=0,this.option=e,this.retryCount=0,this.retryTimeout=null,this.videoURI="",this.paused=!1,this.lock=!1,this.videoName=null,this.needReconnect=!0,this.lastOnLine=!0,this.isPaused=!1,this.uploadSucceed=!1,this.testPercent=30,this.shouldRedirect=!0,this.updateForceReconnect=!1}i.domain=document.domain,o.prototype.isCompleted=function(){return this.videoURI&&this.videoURI.length>0&&this.uploadSucceed},o.prototype.pauseIt=function(){this.isPaused=!0,this.pause()},o.prototype.resumeIt=function(){this.isPaused=!1,this.reConnect()},o.prototype.connect=function(){var e=this;e.retryTimeout&&clearTimeout(e.retryTimeout),e.retryTimeout=null,e.socket=new WebSocket(e.URL+"?time="+(new Date).getTime()),e.socket.binaryType="blob",e.socket.onopen=function(){e.status="connected";var t=e.option.token,n=e.option.uid;if(e.videoName)e.socket.send(JSON.stringify({type:"recover",videoName:e.videoName,token:t,userID:n}));else{var r={type:"init",title:e.option.videoName,token:t,userID:n,extra:{userAgent:navigator.userAgent,client:e.option.client,screenSize:window.screen.width+"*"+window.screen.height,extVersion:e.option.version,recordType:e.option.recordType}};"vp8"!==e.option.videoCodec&&(r.videoCodec=e.option.videoCodec),e.option.workspaceID&&e.option.workspaceID.length>0&&e.option.channelID&&e.option.channelID.length>0?(r.workspaceID=e.option.workspaceID,r.channelID=e.option.channelID,e.option.channelFolderID&&e.option.channelFolderID.length>0&&(r.channelFolderID=e.option.channelFolderID)):e.option.folderID&&e.option.folderID.length>0&&(r.folderID=e.option.folderID),e.socket.send(JSON.stringify(r))}},e.socket.onclose=function(t){e.status="unconnected",!e.isPaused&&e.needReconnect&&e.reConnect(),e.needReconnect||(e.needReconnect=!0),e.uploadSucceed&&e.videoURI&&e.videoURI.length>0&&e.shouldRedirect&&e.option.goToItem},e.socket.onerror=function(e){},e.socket.onmessage=function(t){if(t.data){var n=JSON.parse(t.data);if("slice"===n.type){var r=e.sentQueue.findIndex((function(e){return e.id===Number(n.id)}));e.currentSentRespId=Number(n.id),e.sentQueue.splice(r,1)}else"init"===n.type?("1"===n.status?(e.videoURI=n.videoURI,e.videoID=n.videoID,e.videoName=n.videoName,e.option&&e.option.onopen()):(e.option&&e.option.serverError(n.message),e.needReconnect=!1),e.testPercent=30,e.retryCount=0):"recover"===n.type?("1"===n.status?((e.isPaused||e.paused)&&(e.paused=!1,e.active),e.resendSent(Number(n.id))):"2"===n.status||("true"===n.close?e.completeOperation():(e.active&&e.option&&e.option.onFailed(),e.needReconnect=!1)),e.retryCount=0):"complete"===n.type&&e.completeOperation()}}},o.prototype.completeOperation=function(){this.needReconnect=!1,this.sentQueue=[],this.willSendQueue=[],this.uploadSucceed=!0,this.close(1e3)},o.prototype.uploadRate=function(){var e=this.currentSentRespId,t=this.willSendQueue.length,n=e/(this.currentSendId-1+t);return t>0&&(this.updateForceReconnect?(this.updateForceReconnect=!1,this.reConnect()):"connected"!==this.status||this.active||this.sentQueue.length<=0&&this.sendWillsend()),Math.floor(100*n)},o.prototype.reConnect=function(){var e=this;e.status="reconnecting",e.socket=null,e.retryCount<5?(0===e.retryCount?e.connect():setTimeout((function(){e.connect()}),2500),e.retryCount++):(e.needReconnect=!1,e.active,e.handleError(),e.retryCount=1,e.updateForceReconnect=!0)},o.prototype.complete=function(){var e=this;window.navigator.onLine?"connected"===e.status?(e.socket.send(JSON.stringify({type:"complete",videoName:this.videoName})),e.sentQueue.push({type:"complete",videoName:this.videoName})):e.sentQueue.length<=0&&e.willSendQueue.length<=0?o.httpComplete(e.videoName).then((function(t){1===t.code?e.active&&(localStorage.video_need_complete=""):(e.sentQueue=[],e.willSendQueue=[])})):(e.isPaused&&(e.updateForceReconnect=!0),e.willSendQueue.push(JSON.stringify({type:"complete",videoName:this.videoName}))):(e.isPaused&&(e.updateForceReconnect=!0),e.willSendQueue.push(JSON.stringify({type:"complete",videoName:this.videoName}))),e.active=!1},o.prototype.pause=function(){"connected"===this.status&&(this.socket.send(JSON.stringify({type:"pause",videoName:this.videoName})),localStorage.video_need_complete=this.videoName)},o.prototype.close=function(e){e=e||1e3,this.socket&&(this.socket.close(e),this.status="unconnected",this.socket=null)},o.prototype.sendWillsend=function(){var e=this;e.willSendQueueLength=e.willSendQueue.length;var t=e.willSendQueue.slice();e.willSendQueue=[],t.forEach((function(t){e.send(t)}))},o.prototype.resendSent=function(e){if(!this.lock){var t=this;t.lock=!0;var n=[];t.sentQueue.forEach((function(r){r.id?r.id>e&&(t.send(r.data,!0),n.push(r)):"complete"===r.type&&(t.socket.send(JSON.stringify(r)),n.push(r))})),t.sentQueue=n,t.lock=!1}},o.prototype.checkData=function(){this.sentQueue.length;this.willSendQueue.length>150&&this.handleError()},o.prototype.cancel=function(){var e={type:"cancel"};this.videoName&&(e.videoName=this.videoName),1===this.socket.readyState&&this.socket.send(JSON.stringify(e))},o.prototype.send=function(e,t){var n=this;!n.lastOnLine&&window.navigator.onLine,"connected"!==n.status?n.willSendQueue.push(e):t?window.navigator.onLine?n.socket.send(e):n.willSendQueue.unshift(e):window.navigator.onLine&&!0!==this.lock?0!==this.willSendQueue.length?(n.willSendQueue.push(e),n.sendWillsend()):(n.sentQueue.push({id:n.currentSendId,data:e}),n.socket.send(e),n.currentSendId++):(window.navigator.onLine,n.willSendQueue.push(e)),n.lastOnLine=window.navigator.onLine,n.checkData()},o.prototype.handleError=function(){this.needReconnect=!0,!this.isPaused&&this.active&&(!this.videoURI||this.videoURI.length<=0?this.option.serverError("Invalid network, please try it later!"):this.option.connectError()),this.pauseIt(),this.paused=!0},o.httpComplete=function(e,t){return(0,r.c$2)(e,t)}},14981:(e,t,n)=>{function r(e,t){if(!navigator.enumerateDevices&&window.MediaStreamTrack&&window.MediaStreamTrack.getSources&&(navigator.enumerateDevices=window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack)),!navigator.enumerateDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator)),navigator.enumerateDevices){var n=[],r=[],i=[],o=[],a=[],c=[];navigator.enumerateDevices((function(t){t.forEach((function(e){var t,s={};for(var l in e)s[l]=e[l];n.forEach((function(e){e.deviceId===s.deviceId&&(t=!0)})),t||("audio"===s.kind&&(s.kind="audioinput"),"video"===s.kind&&(s.kind="videoinput"),s.deviceId||(s.deviceId=s.id),s.id||(s.id=s.deviceId),"audioinput"!==s.kind&&"audio"!==s.kind||o.push(s),"audiooutput"===s.kind&&a.push(s),"videoinput"!==s.kind&&"video"!==s.kind||c.push(s),-1!==s.kind.indexOf("audio")&&r.push(s),-1!==s.kind.indexOf("video")&&i.push(s),n.push(s))})),e&&e({allMediaDevices:n,allVideoDevices:i,allAudioDevices:r,videoInputDevices:c,audioInputDevices:o,audioOutputDevices:a})}))}else t&&t(null,"Neither navigator.mediaDevices.enumerateDevices NOR MediaStreamTrack.getSources are available.")}function i(e){return e.filter((function(e,t,n){return""!==e.label&&n.findIndex((function(t){return t.deviceId===e.deviceId}))===t}))}n.d(t,{D:()=>r,P:()=>i}),navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices&&(navigator.enumerateDevices=function(e){navigator.mediaDevices.enumerateDevices().then(e)})},67618:(e,t,n)=>{n.d(t,{Ad:()=>C,Ah:()=>A,C2:()=>ve,CH:()=>X,Cz:()=>H,D3:()=>ne,DU:()=>fe,D_:()=>O,EY:()=>be,Er:()=>me,Hu:()=>oe,I1:()=>he,IT:()=>J,IY:()=>ie,Jp:()=>re,LB:()=>_,LQ:()=>je,MP:()=>L,MW:()=>D,OT:()=>E,Sg:()=>de,VL:()=>ee,X8:()=>ge,ZQ:()=>le,ZX:()=>z,Zf:()=>ce,_v:()=>ye,_x:()=>K,ab:()=>U,bw:()=>se,fm:()=>k,fr:()=>S,kf:()=>I,nH:()=>G,nV:()=>R,ol:()=>te,p6:()=>T,pQ:()=>pe,pd:()=>Y,qc:()=>V,sI:()=>Z,sZ:()=>W,vA:()=>ue,ve:()=>q,wD:()=>ae,y3:()=>$,z7:()=>B,zB:()=>P,zp:()=>M,zs:()=>N});n(47386);var r=n(48889),i=(n(50626),n(48086)),o=n(50308),a=n.n(o),c=n(27484),s=n.n(c),l=n(40705),u=n.n(l),d=n(28374),f=n(4976);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(){y=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),c=new N(i||[]);return r(a,"_invoke",{value:S(e,n,c)}),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function f(){}function m(){}function p(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(D([])));g&&g!==t&&n.call(g,o)&&(h=g);var b=p.prototype=f.prototype=Object.create(h);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,o,a,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==x(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){i("next",e,a,c)}),(function(e){i("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,c)}))}c(s.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function I(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,I(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=u(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return m.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:m,configurable:!0}),m.displayName=s(p,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},j(w.prototype),s(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(l(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(b),s(b,c,"Generator"),s(b,o,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=D,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:D(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function g(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){j(o,r,i,a,c,"next",e)}function c(e){j(o,r,i,a,c,"throw",e)}a(void 0)}))}}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e){}function I(e){}function O(){return u()({start:new Date,ran:Math.random()}).substring(0,8)}function E(e){return e&&"object"===x(e)?u()(e):""}function N(e){return JSON.parse(JSON.stringify(e))}function D(e){var t=e/12;return Math.floor(t)===t?t:t.toFixed(2)}function A(e){window.open(e)}function C(e,t){var n=document.createElement("img");n.onload=function(){null==t||t({width:n.width,height:n.height},n)};var r=new FileReader;r.onload=function(e){var t;n.src=null===(t=e.target)||void 0===t?void 0:t.result},r.readAsDataURL(e)}function P(e,t,n,r,i,o){var a=new Image,c=(new XMLSerializer).serializeToString(e),s=null;n>=0&&n<=2&&(s=document.querySelector("#dropshadow-".concat(n)));var l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="'.concat(t.x," ").concat(t.y," ").concat(t.width," ").concat(t.height,'" width="').concat(t.width,'" height="').concat(t.height,'">');s&&(l+=s.outerHTML),l+=c,l+="</svg>";var u="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(l)));a.onload=function(){var e=document.createElement("canvas");e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(a,0,0,t.width,t.height),e.toBlob(o,i,.8)},a.src=u}function k(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function T(e){var t=s()(1e3*e);return s()(t).format("lll")}function L(e){return s()(e).format("ll")}function _(){return!!document.querySelector("#aws-chrome-installed")}function R(e){"undefined"!=typeof gtag&&gtag("event","install extension from "+e||0,{event_category:"install extenison"});var t="";t=/Edg/.test(window.navigator.userAgent)?"https://microsoftedge.microsoft.com/addons/detail/awesome-screenshot-scre/gpmljinohlbfgmeoaeceoajachkabijo":"https://chrome.google.com/webstore/detail/awesome-screenshot-screen/nlipoenfbbikpbjkfpfillcgkoblgpmj",window.open(t,"Install Awesome Screenshot")}function M(e){var t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.top="-999999px",document.body.append(t),t.select(),document.execCommand("copy"),t.remove()}function Z(e,t){return F.apply(this,arguments)}function F(){return(F=w(y().mark((function e(t,n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=[],o=document.createElement("img");o.crossOrigin="Anonymous",o.onload=function(){var r=o.height,a=o.width;if(r>n){for(var c=Math.ceil(r/n),s=r%n,l=0;l<c;l++){var u=document.createElement("canvas"),d=u.getContext("2d");u.width=a;var f=void 0,m=void 0;f=m=u.height=l!==c-1?n:s,d.drawImage(o,0,n*l,a,f,0,0,a,m),i.push(u.toDataURL())}e(i)}else e([t])},o.onerror=function(){return r()},o.src=t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){function t(){return(t=w(y().mark((function e(t){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new Image;r.crossOrigin="Anonymous",r.onload=function(){return e({ele:r,height:r.height,width:r.width})},r.onerror=r.onabort=function(){return n(t)},r.src=t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var n=e.map((function(e){return function(e){return t.apply(this,arguments)}(e)}));return Promise.all(n)}function H(e,t){var n=document.createElement("a"),r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.setAttribute("href",e.toString()),n.setAttribute("download",t),n.rel="noopener",n.dispatchEvent(r)}function G(e){var t=Math.floor(e/3600);return(t>0?t+":":"")+Math.floor(e%3600/60)+":"+(e%60+"").padStart(2,"0")}function B(e){e=Math.floor(Number(e));var t=Math.floor(e/3600);return(t>0?t+":":"")+(Math.floor(e%3600/60)+"").padStart(2,"0")+":"+(e%60+"").padStart(2,"0")}function V(e){if(!e||e<=0)return"00:00";var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=(Math.floor(e%60)+"").padStart(2,"0");return"".concat(t>0?t+":":"").concat(n,":").concat(r)}function z(e){if(!e||e<=0)return"00:00.0";e=(0,d.NM)(e,1);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=(0,d.NM)(e%60,1);return e=r.toString(),r<10&&(e="0"+e),r==Math.floor(r)&&(e+=".0"),n<10&&(n="0"+n),(t>0?t+":":"")+n+":"+e}function W(e){return e&&"string"==typeof e?e.split(":").reduce((function(e,t){return 60*+e+parseFloat(t)})):0}function K(e,t,n){navigator.clipboard.write([new ClipboardItem(Object.defineProperty({},e.type,{value:e,enumerable:!0}))]).then(t,n)}function Y(e,t,n,r){var i=document.createElement("canvas"),o=i.getContext("2d"),a=t.height,c=t.width,s=0,l=0,u=0,d=null,f=t.border.borderType;t.border.paddingSize>0&&(s=t.border.paddingSize,d=t.border.paddingColor,l+=s,u+=s,a+=2*s,c+=2*s),i.width=c,f&&(a+=t.border.height,i.height=a,"url_bottom"!==f&&(u+=t.border.height)),i.height=a,d&&(o.save(),o.fillStyle=d,o.fillRect(0,0,i.width,i.height),o.restore(),s>0&&(o.shadowOffsetX=4*window.devicePixelRatio,o.shadowOffsetY=4*window.devicePixelRatio,o.shadowBlur=4*window.devicePixelRatio,o.shadowColor="rgba(0,0,0,.15)"));var m=URL.createObjectURL(e);if("mac"===f||"windows"===f)(function(e,t,n){return new Promise((function(r){if(e){var i,o=t.paddingSize||0,a="mac"===t.borderType?"mac":"win",c="web"==n?"/static/images/":"./images/",s=c+a+"-header-left.png",l=c+a+"-header-center.png",u=c+a+"-header-right.png",d=e.width;U([s,l,u]).then((function(n){var c=e.getContext("2d"),s=o;if(i=d-t.left-t.right-2*o,n.forEach((function(e,n){var a;1===n?a=i:0===n?a=t.left:2===n&&(a=t.right),c.drawImage(e.ele,0,0,e.width,e.height,s,o,a,t.height),s+=a,2===n&&r(void 0)})),t.url)if(c.font=13*window.devicePixelRatio+"px Arial",c.fillStyle="#000000",c.measureText(t.url).width>i){var l=function(e,t,n){for(var r=t.split(""),i=r[0],o=1;o<r.length;o++){var a=r[o];if(!(e.measureText(i+" "+a).width<n))break;i+=a}return i+"..."}(c,t.url,i);c.fillText(l,140*window.devicePixelRatio+o,("mac"===a?66:70)*window.devicePixelRatio+o)}else c.fillText(t.url,140*window.devicePixelRatio+o,("mac"===a?66:70)*window.devicePixelRatio+o);if(t.captureTime){c.font=12*window.devicePixelRatio+"px sans-serif",c.fillStyle="#000000";var u=c.measureText(t.captureTime).width,f=d-o-10*window.devicePixelRatio-u,m="mac"===a?34*window.devicePixelRatio+o:39*window.devicePixelRatio+o;c.fillText(t.captureTime,f,m)}}))}}))})(i,t.border,n).then((function(){var e=document.createElement("img");e.onload=function(){o.drawImage(e,l,u);var t="png"===localStorage.format?"image/png":"image/jpeg";i.toBlob((function(e){r(e)}),t,1)},e.src=m}));else{!function(e,t,n){if("url"in t){var r=e.getContext("2d"),i="url_top"==t.borderType?0:n,o=t.paddingSize?t.paddingSize:0,a=e.width-20-2*o,c="Captured at: "+t.captureTime+(t.url&&t.url.length?"  URL: "+t.url:""),s="single",l=40;if(r.font="bold 24px Arial",r.measureText(c).width>a){s="multiple";var u=Q(r,"URL:"+t.url,a);l=40*(u.length+1)}if(r.fillStyle="#000000",r.fillRect(o,i+o,e.width-2*o,l),r.restore(),r.fillStyle="#ffffff",r.textBaseline="top",r.strokeStyle="#ffffff",r.font="bold 24px Arial","single"===s)r.fillText(c,12+o,8+i+o);else{r.fillText("Captured at:"+t.captureTime,12+o,8+i+o);for(var d=0;d<u.length;d++)r.fillText(u[d],12+o,8+40*(d+1)+i+o)}}}(i,t.border,t.height);var p=document.createElement("img");p.onload=function(){o.drawImage(p,l,u);var e="png"===localStorage.format?"image/png":"image/jpeg";i.toBlob(r,e,1)},p.src=m}}function Q(e,t,n){n-=10;for(var r=t.split(""),i=[],o=r[0],a=1;a<r.length;a++){var c=r[a];e.measureText(o+" "+c).width<n?o+=c:(i.push(o),o=c)}return i.push(o),i}var q=function(e,t,n){var r=document.getElementById(e);if(!r){var i=document.createElement("script");i.src=t,i.id=e,document.body.appendChild(i),i.onload=n||null}r&&(null==n||n())};function J(){var e;return-1!==["video_close_limit","video_reach_limit","videoNotify","video-alert","video-play","ext_pop_video_limit","new-banner-video","uploadVideo","web-recorder-tip","video-edit-alert"].indexOf((e="from",new URLSearchParams(window.location.search).get(e)||""))}function X(e,t){if(!e)return t;var n=e.replace(/\\/g,""),r=new RegExp(n,"ig");return t.replace(r,"<b>$&</b>")}function $(e){return new Promise((function(t,n){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return t(r.result)},r.onerror=function(e){return n(e)}}))}var ee=function(e,t,n){return n.some((function(n){return n.id===e&&n.itemType===t}))};function te(e){var t=document.createElement("div");return null!=t.textContent?t.textContent=e:t.innerText=e,t.innerHTML}function ne(e,t,n){var r="",i=t+n;if(e&&!i)r=e>1?"Folders":"Folder";else if(!e&&i)r=i>1?"Items":"Item";else if(e&&i){r=(e>1?"Folders":"Folder")+" and "+(i>1?"items":"item")}return r}function re(e,t){var n=e.findIndex((function(e){return e===t}));-1!==n&&e.splice(n,1)}function ie(e,t){for(;e&&e!==document;){if(e.matches(t))return!0;e=e.parentNode}return!1}var oe=function(e){var t=1e3*e;return(new Date).getTime()-t>6048e5?new Date(t).getFullYear()!==(new Date).getFullYear()?s()(t).format("MMM D"):s()(t).format("ll"):s()(t).fromNow()},ae=function(e,t){return t.some((function(t){return t.id===e.id&&t.itemType===e.itemType}))};function ce(e){function t(t){(0,f.qcI)(t.credential).then((function(){e()})).catch(a())}var n=document.querySelector("#google-gsi-script");if(n)Reflect.get(window,"google")?(google.accounts.id.initialize({client_id:"250015934524-rld4lndtv5m706jd1dpg4ie0jic7vqbt.apps.googleusercontent.com",cancel_on_tap_outside:!1,callback:t}),google.accounts.id.prompt()):n.onload=function(){google.accounts.id.initialize({client_id:"250015934524-rld4lndtv5m706jd1dpg4ie0jic7vqbt.apps.googleusercontent.com",cancel_on_tap_outside:!1,callback:t}),google.accounts.id.prompt()};else{var r=document.createElement("script");r.id="google-gsi-script",r.src="https://accounts.google.com/gsi/client",r.onload=function(){google.accounts.id.initialize({client_id:"250015934524-rld4lndtv5m706jd1dpg4ie0jic7vqbt.apps.googleusercontent.com",cancel_on_tap_outside:!1,callback:t}),google.accounts.id.prompt()},document.head.appendChild(r)}}function se(e){i.ZP.loading({content:"Generating short url...",key:"shorturl",duration:0}),(0,f.HFJ)(e).then((function(e){M(e.data),i.ZP.success({content:"Copied to clipboard",key:"shorturl"})})).catch((function(e){i.ZP.error({content:e,key:"shorturl"})}))}var le=function(e,t,n){return[].concat(v(e.slice(0,t)),v(n),v(e.slice(t)))},ue=function(e){return Array.from({length:e},(function(e,t){return t+1}))},de=function(e){return e.toLocaleString("en-US",{minimumFractionDigits:2})+" USD"};function fe(e){return Math.trunc(100*e)}var me=function(e){var t="",n=document.createElement("div");return n.innerHTML=e,n.querySelectorAll("p").forEach((function(e){""!==e.innerText&&(!function(e){e.querySelectorAll(".mention").forEach((function(e){e.classList.replace("mention","mention-user"),e.innerHTML=e.innerText,e.removeAttribute("data-index"),e.removeAttribute("data-denotation-char"),e.removeAttribute("data-value")})),e.querySelectorAll("a").forEach((function(e){e.classList.add("comment-link"),/https?:\/\//.test(e.innerText)||/https?:\/\//.test(e.href)||(e.href="://"+e.href),/https?:\/\//.test(e.innerText)&&/https?:\/\//.test(e.href)&&(e.href=e.innerText)}))}(e),t+=e.innerHTML+"<br />")})),t=t.replaceAll(/"/g,"'")};function pe(e){return"professional"===e||"team"===e?"Pro":k(e)}function he(e,t){"undefined"!=typeof gtag&&gtag("event",e,t)}var ve=new Proxy(Object.create(null),{get:function(e,t){return function(){var e=w(y().mark((function e(n){return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){r.Z[t](p({onOk:function(){return e(void 0)},onCancel:function(){return n.rejectOnCancel&&i()}},n))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}});function ye(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return new Promise((function(n){return setTimeout((function(){return n(null==t?void 0:t.apply(void 0,r))}),e)}))}function ge(e,t){var n=e in t?t[e]:t._;return"function"==typeof n?n():n}function be(e){var t;return w(y().mark((function n(){var r,i,o,a=arguments;return y().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(r=a.length,i=new Array(r),o=0;o<r;o++)i[o]=a[o];return n.abrupt("return",new Promise((function(n,r){var o=t=Symbol();e.apply(void 0,i).then((function(e){return t===o&&n(e)}),(function(e){return t===o&&r(e)}))})));case 2:case"end":return n.stop()}}),n)})))}function je(e){return"function"==typeof e}},61312:(e,t,n)=>{e.exports=n.p+"images/6e69ef5e3300c58181b8.png"}},e=>{e.O(0,[143],(()=>{e.E(458),e.E(29)}),5);var t=t=>e(e.s=t);e.O(0,[50,810,648,878,257,962],(()=>(t(70019),t(86953))));e.O()}]);