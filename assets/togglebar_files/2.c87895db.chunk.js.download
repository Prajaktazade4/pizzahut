(this.webpackJsonpburgerking=this.webpackJsonpburgerking||[]).push([[2],{576:function(e,t,a){"use strict";a(584);var n=a(0),c=a.n(n),o=a(585),r=a.n(o),s=a(32),l=function(e){var t=e.itemPrice,a=e.itemCount,n=e.onclick,o=e.offerData;return c.a.createElement(c.a.Fragment,null,o&&o.description&&c.a.createElement("div",{className:"cart-sticky_offer",role:"presentation"},o.description),c.a.createElement("div",{className:"cart-sticky",role:"presentation",onClick:function(){return n()}},c.a.createElement("div",{className:"cart-sticky__price-wrapper"},c.a.createElement("div",{className:"cart-sticky__price"},c.a.createElement("span",null,"\u20b9"),Object(s.i)(Math.round(t))),c.a.createElement("div",{className:"cart-sticky__divider"}),c.a.createElement("div",null,a," items")),c.a.createElement("div",{className:"cart-sticky__view-order"},"View Order",c.a.createElement("img",{className:"cart-sticky__icon",src:r.a,alt:"CartIcon"}))))};l.defaultProps={itemPrice:"",itemCount:""},t.a=l},584:function(e,t,a){},604:function(e,t,a){e.exports=a.p+"static/media/crown-white.43964864.svg"},637:function(e,t,a){"use strict";var n=a(10),c=a(11),o=a(23),r=a(13),s=a(12),l=(a(665),a(0)),i=a.n(l),u=a(34),m=(a(666),a(667),a(668)),d=a.n(m),p=a(604),f=a.n(p),v=null,_=null,h=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var c=arguments.length,r=new Array(c),s=0;s<c;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).handleTouchStart=function(e){v=e.touches[0].clientX,_=e.touches[0].clientY},e.handleTouchMove=function(t){if(null!==v&&null!==_){var a=t.touches[0].clientX,n=t.touches[0].clientY,c=v-a,r=_-n;if(Math.abs(c)>Math.abs(r)){var s=Object(o.a)(e).onClick;c>0||s(!0)}v=null,_=null,t.preventDefault()}},e.onClick=function(t){var a=window.innerWidth,n=e.props.onClick;(a<768&&t||a>768)&&n()},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=document&&document.getElementsByClassName("swipe-crown")[0];e&&window.innerWidth<768&&(e.addEventListener("touchstart",this.handleTouchStart,!1),e.addEventListener("touchmove",this.handleTouchMove,!1))}},{key:"componentWillUnmount",value:function(){var e=document&&document.getElementsByClassName("modal_wrapper")[0];e&&window.innerWidth<768&&(e.removeEventListener("touchstart",this.handleTouchStart,!1),e.removeEventListener("touchmove",this.handleTouchMove,!1))}},{key:"render",value:function(){var e=this.onClick,t=this.props,a=t.value,n=t.theme;return i.a.createElement("div",{className:"swipe-crown ".concat(n),role:"presentation",onClick:function(){return e()}},i.a.createElement("img",{className:"swipe-crown__image",src:d.a,alt:"swipe-arrow"}),i.a.createElement("p",{className:"u_display_only_mob"},"swipe to burn",i.a.createElement("img",{src:f.a,alt:"crown",className:"swipe-crown__crown-img"}),a),i.a.createElement("p",{className:"swipe-crown__des"},"burn",i.a.createElement("img",{src:f.a,alt:"crown",className:"swipe-crown__crown-img"}),a))}}]),a}(l.Component),C=h;h.defaultProps={value:""};a(641);var E=a(670),w=a.n(E),g=a(671),b=a.n(g),k=a(32),N=function(e){var t=e.burnOnClick,a=e.closeOnClick,n=e.data,c=e.userAvailablePoints,o=e.theme,r=n.crowns_to_burn,s=n.title,l=n.image_url,u=n.description,m=n.product,d=n.name,p=l;if(m&&m.length){var v=m[0].image_urls;p=Object(k.f)(v,"offer")}return i.a.createElement("div",{className:"offer-burn-crown_wrapper"},i.a.createElement("div",{className:"offer-burn-crown"},i.a.createElement("div",{className:"offer-burn-crown__card_wrapper"},i.a.createElement("div",{className:"offer-burn-crown__card"},i.a.createElement("div",{className:"offer-burn-crown__image"},i.a.createElement("picture",null,i.a.createElement("source",{srcSet:"".concat(p["1x"],", ").concat(p["2x"]," 2x, ").concat(p["3x"]," 3x"),type:"image/jpeg/png"}),i.a.createElement("img",{src:"".concat(p["1x"]),alt:d,className:"offer-burn-crown__img"}))),i.a.createElement("div",{className:"offer-burn-crown__detail"},i.a.createElement("p",{className:"offer-burn-crown__title"},s),i.a.createElement("p",{className:"offer-burn-crown__description"},u),i.a.createElement("p",{className:"offer-burn-crown__res-des"},"If you\u2019re at the restaurant, now would be a good time to redeem this offer ;)"))),c>=r?i.a.createElement(C,{value:r,onClick:t,theme:o}):i.a.createElement("div",{className:"offer-burn-crown__unlock"},i.a.createElement("div",{className:"offer-burn-crown__unlock-crown"},i.a.createElement("img",{src:f.a,alt:"crown"}),i.a.createElement("p",{className:"offer-burn-crown__unlock-text"},r)),i.a.createElement("div",{className:"offer-burn-crown__unlock-not-enough"},i.a.createElement("img",{src:w.a,alt:"lock"}),i.a.createElement("p",{className:"offer-burn-crown__unlock-text"},"Not Enough BK Crowns")))),i.a.createElement("div",{role:"presentation",onClick:function(){return a()},className:"u_display_only_mob offer-burn-crown__close u_cursor_pointer"},i.a.createElement("img",{src:b.a,alt:"close"}))))},y=(a(672),a(21)),O=a(81),x=a(673),M=a.n(x),j=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).codeClick=function(){var t=document.getElementById("code"),a=document.createElement("textarea");a.value=t.textContent,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.remove(),e.setState({toastMessage:"Code copied to clipboard"})},e.toastDestroyHandler=function(){var t=e.props.closeOnClick;e.setState({toastMessage:""}),t()},e.state={toastMessage:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.theme,n=(t.couponCode,t.data),c=t.onClickButton,o=t.vouchersPageHandler,r=n.is_product,s=n.description,l=n.title,u=n.image_url,m=n.product,d=m&&m[0]?Object(k.f)(m[0].image_urls,"offer"):u,p=this.state.toastMessage;return i.a.createElement("div",{className:"voucher-code_wrapper"},i.a.createElement("div",{className:"voucher-code"},i.a.createElement("div",{className:"voucher-code__image"},d&&d["1x"]?i.a.createElement("picture",null,i.a.createElement("source",{srcSet:"".concat(d["1x"],", ").concat(d["2x"]," 2x, ").concat(d["3x"]," 3x"),type:"image/jpeg/png"}),i.a.createElement("img",{src:"".concat(d["2x"]),alt:l,className:"voucher-code__img"})):i.a.createElement("img",{src:u,alt:l,className:"voucher-code__img"})),i.a.createElement("div",{className:"voucher-code__details"},i.a.createElement("p",{className:"voucher-code__title"},l),i.a.createElement("p",{className:"voucher-code__description"},s),i.a.createElement("div",{className:"voucher-code__timer"}),r?i.a.createElement(y.a,{theme:a,content:"add item to cart",type:"block",size:"is-large",onClick:function(){return c(!0,n)}}):i.a.createElement("div",{className:"voucher-code__copy-code"},i.a.createElement("p",{className:"voucher-code__code",id:"code"},l),i.a.createElement("img",{src:M.a,alt:"copy code",className:"voucher-code__copy-img u_cursor_pointer",onClick:function(){return e.codeClick()},role:"presentation"})),i.a.createElement("p",{className:"voucher-code__voucher-msg"},"You can always find this voucher in",i.a.createElement("span",{className:"voucher-code__voucher-msg_bold u_cursor_pointer",onClick:function(){return o()},role:"presentation"}," ","Saved King Deals")))),p?i.a.createElement(O.a,{content:p,destroyHanlder:this.toastDestroyHandler}):"")}}]),a}(l.Component);j.defaultProps={theme:""};var V=j,T=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var c;return Object(n.a)(this,a),(c=t.call(this,e)).setModalContentValue=function(e){c.setState({modalContentValue:e})},c.setModalContentType=function(){var e=c.props.modalContentValue;return e&&e.coupon_code||e&&e.is_product&&0===e.crowns_to_burn||"DISCOUNT"===e.offer_type?"copyCode":""},c.burnValueOnClick=function(){var e=c.props.burnValueOnClick,t=c.state.modalContentValue;c.setState({modalContentType:"copyCode"}),e(t)},c.renderContent=function(){var e,t=c.state,a=t.modalContentType,n=t.modalContentValue,r=Object(o.a)(c).burnValueOnClick,s=c.props,l=s.closeOnClick,u=s.termsAndConditionClick,m=s.userAvailablePoints,d=s.couponCode,p=s.isVoucherCard,f=s.onClickButton,v=s.vouchersPageHandler,_=s.theme;switch(a){case"copyCode":e=i.a.createElement(V,{termsAndConditionClick:u,data:n,couponCode:d,isVoucherCard:p,onClickButton:f,vouchersPageHandler:v,closeOnClick:l,theme:_});break;default:e=i.a.createElement(N,{termsAndConditionClick:u,data:n,closeOnClick:l,burnOnClick:r,userAvailablePoints:m,theme:_})}return e},c.onCloseModal=function(){(0,c.props.onCloseModal)()},c.state={modalContentType:c.setModalContentType(),modalContentValue:e.modalContentValue},c}return Object(c.a)(a,[{key:"componentDidUpdate",value:function(e){var t=this.props.modalContentValue;t&&t!==e.modalContentValue&&this.setModalContentValue(t)}},{key:"render",value:function(){var e=this.renderContent,t=this.onCloseModal,a=this.state.modalContentType,n=!a,c=a?"":"offers-modal__no-bg";return i.a.createElement(u.a,{isMobileFullLayout:n,contentCustomClass:c,onCloseHandler:t},e())}}]),a}(l.Component);t.a=T},641:function(e,t,a){"use strict";a(669);var n=a(0),c=a.n(n),o=a(642),r=a.n(o),s=a(643),l=a.n(s),i=function(e){var t=e.content,a=e.customClassView,n="modal-list"===a?l.a:r.a;return c.a.createElement("div",{className:"offer-timer ".concat("modal-list"===a?"offer-timer__isList ".concat(a):"offer-timer__isModal ".concat(a))},c.a.createElement("img",{src:n,alt:"timer",className:"offer-timer__img"}),t&&c.a.createElement("span",{className:"offer-timer__content"},t))};i.defaultProps={content:"",customClassView:""},t.a=i},642:function(e,t,a){e.exports=a.p+"static/media/recent-order-red.76148510.svg"},643:function(e,t,a){e.exports=a.p+"static/media/recent-order-grey.bcf956a5.svg"},665:function(e,t,a){},666:function(e,t,a){},667:function(e,t,a){},668:function(e,t,a){e.exports=a.p+"static/media/swipe-arrow.4a583e66.svg"},669:function(e,t,a){},670:function(e,t,a){e.exports=a.p+"static/media/lock.13c581f4.svg"},671:function(e,t,a){e.exports=a.p+"static/media/x-circle.ac7514b3.svg"},672:function(e,t,a){},673:function(e,t,a){e.exports=a.p+"static/media/copy-code.9bee4cde.svg"}}]);
//# sourceMappingURL=2.c87895db.chunk.js.map